(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5729],{3831:function(e,i,t){Promise.resolve().then(t.bind(t,96622)),Promise.resolve().then(t.bind(t,86939)),Promise.resolve().then(t.bind(t,69863)),Promise.resolve().then(t.bind(t,12404)),Promise.resolve().then(t.bind(t,90679)),Promise.resolve().then(t.bind(t,14102)),Promise.resolve().then(t.bind(t,2570)),Promise.resolve().then(t.bind(t,25053)),Promise.resolve().then(t.bind(t,41345)),Promise.resolve().then(t.bind(t,9266)),Promise.resolve().then(t.bind(t,51578)),Promise.resolve().then(t.bind(t,51997)),Promise.resolve().then(t.bind(t,35481)),Promise.resolve().then(t.bind(t,25066)),Promise.resolve().then(t.bind(t,59558)),Promise.resolve().then(t.bind(t,18073)),Promise.resolve().then(t.bind(t,46603)),Promise.resolve().then(t.bind(t,76880)),Promise.resolve().then(t.bind(t,56289)),Promise.resolve().then(t.bind(t,24316)),Promise.resolve().then(t.bind(t,78876)),Promise.resolve().then(t.bind(t,35960)),Promise.resolve().then(t.bind(t,57151)),Promise.resolve().then(t.bind(t,12396)),Promise.resolve().then(t.bind(t,86307)),Promise.resolve().then(t.bind(t,64246)),Promise.resolve().then(t.bind(t,69444)),Promise.resolve().then(t.bind(t,66757)),Promise.resolve().then(t.bind(t,89263)),Promise.resolve().then(t.bind(t,44105)),Promise.resolve().then(t.bind(t,83707)),Promise.resolve().then(t.bind(t,2057)),Promise.resolve().then(t.bind(t,77027)),Promise.resolve().then(t.bind(t,85533)),Promise.resolve().then(t.bind(t,76356)),Promise.resolve().then(t.bind(t,11856)),Promise.resolve().then(t.bind(t,49473)),Promise.resolve().then(t.bind(t,41566)),Promise.resolve().then(t.bind(t,24298)),Promise.resolve().then(t.bind(t,66975)),Promise.resolve().then(t.bind(t,99654)),Promise.resolve().then(t.bind(t,54864)),Promise.resolve().then(t.bind(t,6030)),Promise.resolve().then(t.bind(t,22003)),Promise.resolve().then(t.bind(t,18921)),Promise.resolve().then(t.bind(t,49522)),Promise.resolve().then(t.bind(t,44660)),Promise.resolve().then(t.bind(t,76315)),Promise.resolve().then(t.bind(t,93393)),Promise.resolve().then(t.bind(t,83906)),Promise.resolve().then(t.bind(t,53961)),Promise.resolve().then(t.bind(t,47192)),Promise.resolve().then(t.bind(t,82245)),Promise.resolve().then(t.bind(t,99846)),Promise.resolve().then(t.bind(t,639)),Promise.resolve().then(t.bind(t,37379)),Promise.resolve().then(t.bind(t,96414)),Promise.resolve().then(t.bind(t,5510)),Promise.resolve().then(t.bind(t,1776)),Promise.resolve().then(t.bind(t,71456)),Promise.resolve().then(t.bind(t,5670)),Promise.resolve().then(t.bind(t,53368)),Promise.resolve().then(t.bind(t,17777)),Promise.resolve().then(t.bind(t,55805)),Promise.resolve().then(t.bind(t,8496)),Promise.resolve().then(t.bind(t,11858)),Promise.resolve().then(t.bind(t,97161)),Promise.resolve().then(t.bind(t,91401)),Promise.resolve().then(t.bind(t,84661)),Promise.resolve().then(t.bind(t,30446)),Promise.resolve().then(t.bind(t,77492)),Promise.resolve().then(t.bind(t,91844)),Promise.resolve().then(t.bind(t,82025)),Promise.resolve().then(t.bind(t,47347)),Promise.resolve().then(t.bind(t,34999)),Promise.resolve().then(t.bind(t,19476)),Promise.resolve().then(t.bind(t,58554)),Promise.resolve().then(t.bind(t,96115)),Promise.resolve().then(t.bind(t,85969)),Promise.resolve().then(t.bind(t,94326)),Promise.resolve().then(t.bind(t,87004)),Promise.resolve().then(t.bind(t,68721)),Promise.resolve().then(t.bind(t,82124)),Promise.resolve().then(t.bind(t,44490)),Promise.resolve().then(t.bind(t,64035)),Promise.resolve().then(t.bind(t,98723)),Promise.resolve().then(t.bind(t,92994)),Promise.resolve().then(t.bind(t,91042)),Promise.resolve().then(t.bind(t,79285)),Promise.resolve().then(t.bind(t,30410)),Promise.resolve().then(t.bind(t,92225)),Promise.resolve().then(t.bind(t,21920)),Promise.resolve().then(t.bind(t,5979)),Promise.resolve().then(t.bind(t,85449)),Promise.resolve().then(t.bind(t,37869)),Promise.resolve().then(t.bind(t,11408)),Promise.resolve().then(t.bind(t,54605)),Promise.resolve().then(t.bind(t,38252)),Promise.resolve().then(t.bind(t,47628)),Promise.resolve().then(t.bind(t,4723)),Promise.resolve().then(t.bind(t,15267)),Promise.resolve().then(t.bind(t,18546)),Promise.resolve().then(t.bind(t,29665)),Promise.resolve().then(t.bind(t,90981)),Promise.resolve().then(t.bind(t,1843)),Promise.resolve().then(t.bind(t,89672)),Promise.resolve().then(t.bind(t,89949)),Promise.resolve().then(t.bind(t,82116)),Promise.resolve().then(t.bind(t,17852)),Promise.resolve().then(t.bind(t,55302)),Promise.resolve().then(t.bind(t,56691)),Promise.resolve().then(t.bind(t,13862)),Promise.resolve().then(t.bind(t,69768)),Promise.resolve().then(t.bind(t,55553)),Promise.resolve().then(t.bind(t,695)),Promise.resolve().then(t.bind(t,76100)),Promise.resolve().then(t.bind(t,86745)),Promise.resolve().then(t.bind(t,7106)),Promise.resolve().then(t.bind(t,75130)),Promise.resolve().then(t.bind(t,72488)),Promise.resolve().then(t.bind(t,78465)),Promise.resolve().then(t.bind(t,40289)),Promise.resolve().then(t.bind(t,74441)),Promise.resolve().then(t.bind(t,52394)),Promise.resolve().then(t.bind(t,99784)),Promise.resolve().then(t.bind(t,72083)),Promise.resolve().then(t.bind(t,98865)),Promise.resolve().then(t.bind(t,28499)),Promise.resolve().then(t.bind(t,20233)),Promise.resolve().then(t.bind(t,96216)),Promise.resolve().then(t.bind(t,71992)),Promise.resolve().then(t.bind(t,24782)),Promise.resolve().then(t.bind(t,23759)),Promise.resolve().then(t.bind(t,97139)),Promise.resolve().then(t.bind(t,14206)),Promise.resolve().then(t.bind(t,77216)),Promise.resolve().then(t.bind(t,61254)),Promise.resolve().then(t.bind(t,67676)),Promise.resolve().then(t.bind(t,53264)),Promise.resolve().then(t.bind(t,23536)),Promise.resolve().then(t.bind(t,21969)),Promise.resolve().then(t.bind(t,18017)),Promise.resolve().then(t.bind(t,3753)),Promise.resolve().then(t.bind(t,88918)),Promise.resolve().then(t.bind(t,93664)),Promise.resolve().then(t.bind(t,66414)),Promise.resolve().then(t.t.bind(t,23894,23)),Promise.resolve().then(t.bind(t,17241)),Promise.resolve().then(t.bind(t,9552)),Promise.resolve().then(t.bind(t,58021)),Promise.resolve().then(t.bind(t,46822)),Promise.resolve().then(t.bind(t,43384)),Promise.resolve().then(t.bind(t,85369)),Promise.resolve().then(t.bind(t,62202)),Promise.resolve().then(t.bind(t,15995)),Promise.resolve().then(t.bind(t,52254)),Promise.resolve().then(t.bind(t,46526)),Promise.resolve().then(t.bind(t,45801)),Promise.resolve().then(t.bind(t,73069)),Promise.resolve().then(t.bind(t,99975)),Promise.resolve().then(t.bind(t,65044)),Promise.resolve().then(t.bind(t,83045)),Promise.resolve().then(t.bind(t,98188)),Promise.resolve().then(t.bind(t,62789)),Promise.resolve().then(t.bind(t,25257)),Promise.resolve().then(t.bind(t,3310)),Promise.resolve().then(t.bind(t,9097)),Promise.resolve().then(t.bind(t,49457)),Promise.resolve().then(t.bind(t,70323)),Promise.resolve().then(t.bind(t,7407)),Promise.resolve().then(t.bind(t,38182)),Promise.resolve().then(t.bind(t,1915)),Promise.resolve().then(t.bind(t,93357)),Promise.resolve().then(t.bind(t,62169)),Promise.resolve().then(t.bind(t,8564)),Promise.resolve().then(t.bind(t,54140)),Promise.resolve().then(t.bind(t,71707)),Promise.resolve().then(t.bind(t,6806)),Promise.resolve().then(t.bind(t,21874)),Promise.resolve().then(t.bind(t,762)),Promise.resolve().then(t.bind(t,39362)),Promise.resolve().then(t.bind(t,30898)),Promise.resolve().then(t.bind(t,14562)),Promise.resolve().then(t.t.bind(t,70390,23)),Promise.resolve().then(t.bind(t,1913)),Promise.resolve().then(t.bind(t,23136)),Promise.resolve().then(t.bind(t,59476)),Promise.resolve().then(t.bind(t,43622)),Promise.resolve().then(t.bind(t,57613)),Promise.resolve().then(t.bind(t,97515)),Promise.resolve().then(t.bind(t,65345))},48606:function(e,i,t){"use strict";t.d(i,{GX:function(){return o.MixCard},zn:function(){return n},Fh:function(){return l}});var s=t(42288),r=t(40193);let n=s.V5.model("MixItem",{id:s.V5.string,title:s.V5.string,weblink:s.V5.string,covers:s.V5.maybe(s.V5.array(s.V5.string)),imagesLayoutType:s.V5.enumeration(Object.values(r.nN))});var o=t(18073);let l=e=>({id:e.id,title:e.title,weblink:e.action.weblink,covers:(0,s.pj)(e.covers||[]),imagesLayoutType:e.style.imagesLayoutType})},18073:function(e,i,t){"use strict";t.d(i,{MixCard:function(){return h}});var s=t(9753),r=t(60836),n=t(9544),o=t(40193),l=t(86939),a=t(12404),d=t(2570),c=t(3084),u=t(86678),m=t.n(u);let h=(0,n.Pi)(e=>{let{className:i,title:t,weblink:n,covers:u=[],coverSize:h=100,imagesLayoutType:v}=e;return(0,s.jsx)(c.rU,{href:n,children:(0,s.jsxs)(a.Paper,{className:(0,r.W)(m().root,i),radius:"l",children:[(0,s.jsx)("div",{className:m().header,children:(0,s.jsx)(d.Heading,{variant:"h4",size:"xs",weight:"bold",className:m().title,lineClamp:2,children:t})}),(0,s.jsxs)("div",{className:(0,r.W)(m().covers,{[m().covers_radial]:v===o.nN.RADIAL,[m().covers_stack]:v===o.nN.STACK}),children:[(0,s.jsx)(l.Image,{src:u[2],withAvatarReplace:!0,fit:"contain",className:m().cover,size:h}),(0,s.jsx)(l.Image,{src:u[1],withAvatarReplace:!0,fit:"contain",className:m().cover,size:h}),(0,s.jsx)(l.Image,{src:u[0],withAvatarReplace:!0,fit:"contain",className:m().cover,size:h})]})]})})})},40029:function(e,i,t){"use strict";t.d(i,{k_:function(){return u.VibeButton},xJ:function(){return u.VibeButtonShimmer},op:function(){return d.VibeCard},KW:function(){return o},FF:function(){return a},BV:function(){return c.useOnPinClick},xF:function(){return l}});var s=t(42288),r=t(84338),n=t(34152);let o=s.V5.model("Vibe",{title:s.V5.optional(s.V5.string,""),header:s.V5.optional(s.V5.string,""),subtitle:s.V5.maybe(s.V5.string),stationId:s.V5.string,seeds:s.V5.array(s.V5.string),idForFrom:s.V5.maybe(s.V5.string),imageUrl:s.V5.maybe(s.V5.string),animationUrl:s.V5.maybe(s.V5.string),backgroundImageUrl:s.V5.maybe(s.V5.string),backgroundColor:s.V5.maybe(s.V5.string),colors:s.V5.maybe(s.V5.model({average:s.V5.maybe(s.V5.string),waveText:s.V5.maybe(s.V5.string)}))}).views(e=>({get context(){if(e.seeds&&(e.stationId!==n.sHr||e.seeds.length>1))return e.title;return null},get pinId(){return(0,r.$k)(e.seeds)},get isPinned(){if(!(0,s.fh)(e))return!1;let{pinsCollection:i}=(0,s.yj)(e);return i.isPinned(this.pinId)}})).actions(e=>({togglePin:(0,s.ls)(function*(){if(!(0,s.fh)(e))return;let{pinsCollection:i,user:t}=(0,s.yj)(e);if(t.isAuthorized)return yield i.toggleVibePin({seeds:e.seeds},e.pinId)})})),l=e=>(0,s.pj)({title:e.name,seeds:e.seeds,stationId:e.stationId,idForFrom:e.idForFrom}),a=e=>{var i,t,r,n;return(0,s.pj)({title:e.title,header:e.header,stationId:e.stationId,seeds:e.seeds,animationUrl:e.animationUrl,backgroundImageUrl:e.backgroundImageUrl,imageUrl:e.imageUrl,colors:{average:null!==(r=null===(i=e.colors)||void 0===i?void 0:i.average)&&void 0!==r?r:"",waveText:null!==(n=null===(t=e.colors)||void 0===t?void 0:t.waveText)&&void 0!==n?n:""}})};var d=t(76356),c=t(77027),u=t(85533)},77027:function(e,i,t){"use strict";t.d(i,{useOnPinClick:function(){return c}});var s=t(9753),r=t(24244),n=t(98639),o=t(80542),l=t(34152),a=t(3084);let d=e=>{var i;let{vibe:t,closeToast:r}=e;return(0,s.jsx)(a.K1,{closeToast:r,entityVariant:a.j9.VIBE,entityTitle:t.title,averageColor:null===(i=t.colors)||void 0===i?void 0:i.average,isPinned:t.isPinned})},c=e=>{let{user:i}=(0,l.oR4)(),{notify:t}=(0,l.d$W)(),{formatMessage:c}=(0,o.Z)(),[u,m]=(0,n.useState)(!1);return(0,n.useCallback)(async()=>{if(!e)return;if(!i.isAuthorized){t((0,s.jsx)(a.Q,{error:c({id:"authorization-messages.need-to-authorizate"})}),{containerId:l.W$x.ERROR});return}if(u)return;let n={...(0,r.ZN)(e),isPinned:!e.isPinned};m(!0);let o=await e.togglePin();m(!1),o?t((0,s.jsx)(d,{vibe:n}),{containerId:l.W$x.INFO}):t((0,s.jsx)(a.Q,{error:c({id:"error-messages.error-during-action"})}),{containerId:l.W$x.ERROR})},[c,t,u,i.isAuthorized,e])}},85533:function(e,i,t){"use strict";t.d(i,{VibeButton:function(){return C},VibeButtonShimmer:function(){return g}});var s=t(9753),r=t(60836),n=t(9544),o=t(98639),l=t(31014),a=t(23881),d=t(17295),c=t(98342),u=t(39513),m=t(28852),h=t(86939),v=t(90679),b=t(2570),P=t(34152),_=t(70010),x=t.n(_);let g=e=>{let{isActive:i,className:t}=e;return(0,s.jsx)(v.Shimmer,{isActive:i,className:(0,r.W)(x().root,t)})},C=(0,n.Pi)(e=>{let{className:i,vibe:t}=e,{pageId:n}=(0,P.lVB)(),{blockIdForFrom:v}=(0,P.qYG)(),{ref:_,intersectionPropertyId:g}=(0,P.VfV)(),{toggleTrue:C,toggleFalse:p,state:y}=(0,d.O)(!1),{isPlaying:f,togglePlay:S}=(0,P.QhE)({seeds:t.seeds,pageIdForFrom:n,blockIdForFrom:v}),k=(0,P.lAI)(),j=(0,o.useCallback)(e=>{(0,c.m)(e,x().ripple),C(),S().finally(()=>{p(),k(!f)})},[p,C,S,f,k]),A=(0,o.useMemo)(()=>{var e,i;return{"--vibe-button-background":null===(e=t.colors)||void 0===e?void 0:e.average,"--vibe-button-text-color":null===(i=t.colors)||void 0===i?void 0:i.waveText}},[t.colors]),T=f?"pause":"play";return(0,s.jsxs)(u.z,{style:A,withRipple:!1,withHover:!1,variant:"text",onClick:j,className:(0,r.W)(x().root,x().button,{[x().button_loading]:y},i),"data-intersection-property-id":g,ref:_,...(0,a.BA)(a.QM.landing.VIBE_DISCOVERY_ITEM),children:[(0,s.jsx)(h.Image,{className:x().image,withAvatarReplace:!0,withFallback:!1,src:t.backgroundImageUrl,withAspectRatio:!0,size:400,fit:"cover"}),(0,s.jsxs)("span",{className:x().textContainer,children:[(0,s.jsx)(b.Caption,{className:x().subtitle,variant:"span",type:"controls",size:"s",weight:"bold",children:(0,s.jsx)(l.Z,{id:"entity-names.my-vibe"})}),(0,s.jsxs)("span",{className:x().titleContainer,children:[(0,s.jsx)(m.J,{className:x().icon,size:"xxs",variant:T}),(0,s.jsx)(b.Heading,{className:x().title,variant:"h2",size:"xs",lineClamp:1,children:t.title})]})]})]})})},76356:function(e,i,t){"use strict";t.d(i,{VibeCard:function(){return v}});var s=t(9753),r=t(60836),n=t(9544),o=t(98639),l=t(27491),a=t(12404),d=t(2570),c=t(34152),u=t(3084),m=t(55215),h=t.n(m);let v=(0,n.Pi)(e=>{let{vibe:i,children:t,className:n}=e,{pageId:m}=(0,c.lVB)(),[v,b]=(0,o.useState)(!1),{blockIdForFrom:P}=(0,c.qYG)(),{settings:_}=(0,c.oR4)(),{sendPlaySearchFeedback:x}=(0,c.sAF)(),g=_.layout===c.t8m.Mobile,{isPlaying:C,isPaused:p,togglePlay:y}=(0,c.QhE)({seeds:i.seeds,pageIdForFrom:m,blockIdForFrom:P}),f=C||p,S=(0,o.useCallback)(()=>{g&&(v||C||(b(!0),null==x||x()),y())},[g,C,v,x,y]),k=(0,o.useCallback)(()=>{v||C||(b(!0),null==x||x()),y()},[C,v,x,y]),j=(0,o.useMemo)(()=>(0,s.jsxs)(a.Paper,{className:h().cover,radius:"round",withShadow:!0,onClick:S,children:[(0,s.jsx)(u.BE,{size:200,fit:"cover",className:h().image,style:{backgroundColor:i.backgroundColor},src:i.imageUrl,alt:i.title,withAvatarReplace:!0}),f&&(0,s.jsx)(u.Up,{stopAnimation:p,className:h().playingAnimation}),(0,s.jsx)(l.kk,{className:(0,r.W)(h().controls,{[h().controls_isPlaying]:f},h().important),bottomContainerClassName:h().playControl,radius:"round",playControl:(0,s.jsx)(u.JM,{isPlaying:C,onClick:k,className:(0,r.W)(h().playButton,h().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled"})})]}),[S,k,p,C,f,i.backgroundColor,i.imageUrl,i.title]);return(0,s.jsx)(l.m7,{className:(0,r.W)(h().root,n),textPosition:"center",title:(0,s.jsx)(d.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:i.title}),description:(0,s.jsx)(d.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:i.subtitle}),view:j,children:t})})},4491:function(e,i,t){"use strict";t.d(i,{IT:function(){return o.ArtistCard},xG:function(){return l.ArtistContextMenu},o9:function(){return n},v2:function(){return a.useArtistDisclaimer}});var s=t(42288),r=t(33589);let n=s.V5.model("ArtistMeta",{artist:r.Go,lastMonthListeners:s.V5.maybe(s.V5.number)});var o=t(99654),l=t(54864),a=t(66975)},66975:function(e,i,t){"use strict";t.d(i,{useArtistDisclaimer:function(){return o}});var s=t(98639),r=t(3429),n=t(34152);let o=e=>{let{artist:i,callback:t,shouldHistoryBack:o}=e,{disclaimer:l,modals:{disclaimerModal:a}}=(0,n.oR4)(),d=(0,s.useRef)(String((0,r.Z)())),c=(0,s.useRef)(!1),u=(0,n.uK4)().get(n.ceh);return(0,s.useEffect)(()=>{l.isUnsafeDisclaimerConfirmed&&l.id===d.current&&!c.current&&(null==t||t(),c.current=!0)},[t,l.id,l.isUnsafeDisclaimerConfirmed]),(0,s.useCallback)(async e=>{let s=u.get(n.BUb.ExEx);if((null==i?void 0:i.isUnsafeLegal)&&(null==s?void 0:s.includes("".concat(n.coP.ARTIST,"_").concat(i.id)))){null==t||t();return}if((null==i?void 0:i.isLegalRejected)||(null==i?void 0:i.isUnsafeLegal)){null==e||e.preventDefault(),await l.getArtistDisclaimer({artistId:i.id}),i.isUnsafeLegal&&l.setType(n.Gq.UNSAFE),l.setId(d.current),l.setEntityId(i.id),l.setEntityType(n.coP.ARTIST),l.setShouldHistoryBack(!!o),c.current=!1,a.open();return}null==e||e.preventDefault(),null==t||t()},[null==i?void 0:i.id,null==i?void 0:i.isLegalRejected,null==i?void 0:i.isUnsafeLegal,t,l,a,u,o])}},99654:function(e,i,t){"use strict";t.d(i,{ArtistCard:function(){return y}});var s=t(9753),r=t(60836),n=t(9544),o=t(98639),l=t(80542),a=t(18375),d=t(23881),c=t(84338),u=t(27491),m=t(28852),h=t(12404),v=t(2570),b=t(33589),P=t(34152),_=t(3084),x=t(66975),g=t(54864),C=t(62914),p=t.n(C);let y=(0,n.Pi)(e=>{let{artist:i,className:t,children:n,contentLinesCount:C}=e,{ref:y,intersectionPropertyId:f}=(0,P.VfV)(),{trailer:S}=(0,P.oR4)(),{from:k}=(0,P.MhG)(),{formatMessage:j}=(0,l.Z)(),[A,T]=(0,o.useState)(!1),[V,N]=(0,o.useState)(!1),[R,B]=(0,o.useState)(!1),{sendLikeSearchFeedback:I,sendNavigateSearchFeedback:L,sendPlaySearchFeedback:M}=(0,P.sAF)(),w=(0,P.zxW)(),E=(0,b.SB)(i),z=(0,b.BV)(i),{id:O,name:F,coverUri:U,isLiked:G}=i,H=(0,P.s0h)(i.url),D=(0,P.s0h)(i.url,!0),[W,K]=(0,o.useState)(!1),Z=(0,P.FTC)(),q=(0,o.useCallback)(e=>{e.stopPropagation(),S.openArtistTrailer(i.id),Z(a.OB.Artist,i.id)},[i.id,Z,S]),J=(0,o.useMemo)(()=>{let e=j({id:"entity-names.artist-name"},{artistName:F}),i=G?j({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(i)},[F,G,j]),{isPlaying:Y,togglePlay:X}=(0,P.qmq)({playContextParams:{contextData:{type:c.Ak.Artist,meta:{id:Number(O)},from:k},loadContextMeta:!0}}),Q=(0,x.useArtistDisclaimer)({artist:i,callback:H}),$=(0,x.useArtistDisclaimer)({artist:i,callback:D}),ee=(0,x.useArtistDisclaimer)({artist:i,callback:X}),ei=(0,b.ik)($,Q),et=(0,o.useCallback)(e=>{null==L||L(),w({to:a.qU.ArtistScreen}),ei(e)},[L,w,ei]),es=(0,o.useCallback)(e=>{et(e)},[et]),er=(0,o.useCallback)(()=>{A||Y||(T(!0),null==M||M()),ee()},[Y,A,M,ee]),en=(0,o.useCallback)(()=>{V||G||(N(!0),null==I||I()),E()},[G,E,V,I]),eo=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),el=(0,o.useCallback)(()=>{B(!R),K(!R)},[R]),ea=(0,o.useMemo)(()=>(0,s.jsx)(g.ArtistContextMenu,{artist:i,onOpenChange:el,open:R,onClick:eo,className:(0,r.W)(p().menuButton,p().control),size:"s",icon:(0,s.jsx)(m.J,{size:"xxs",variant:"more"})},i.getKey("ArtistContextMenu")),[i,eo,el,R]),ed=(0,o.useMemo)(()=>{var e;if(null==i?void 0:null===(e=i.trailer)||void 0===e?void 0:e.canShow)return(0,s.jsx)(_.xf,{children:(0,s.jsx)(_.eP,{className:(0,r.W)(p().trailerButton,p().control),radius:"round",size:"s",iconSize:"xxs",onClick:q},i.getKey("TrailerButton"))})},[i,q]),ec=(0,o.useMemo)(()=>{if(i.isAvailable)return(0,s.jsx)(u.kk,{isVisible:R||W,className:p().controls,radius:"round",playControl:(0,s.jsx)(_.JM,{buttonVariant:"default",withHover:!1,className:(0,r.W)(p().playButton,p().control),iconSize:"xl",variant:"filled",onClick:er,isPlaying:Y,disabled:!i.isAvailableForPlaying},i.getKey("PlayButton")),likeControl:(0,s.jsx)(_.dJ,{className:(0,r.W)(p().likeButton,p().control),isLiked:G,onClick:en,variant:"default",size:"s",iconSize:"xxs"},i.getKey("LikeButton")),menuControl:ea,pinControl:(0,s.jsx)(_.RT,{onClick:z,isPinned:i.isPinned,className:(0,r.W)(p().pinButton,p().control),withRipple:!1},i.getKey("PinButton")),trailerControl:ed})},[i,R,W,er,Y,G,en,ea,z,ed]),eu=(0,o.useMemo)(()=>(0,s.jsx)(h.Paper,{className:p().cover,radius:"round",withShadow:!0,...(0,d.BA)(d.bG.artist.ARTIST_CARD),children:(0,s.jsxs)("div",{className:p().coverBlock,onClick:es,children:[(0,s.jsx)(_.BE,{className:p().image,src:U,size:200,fit:"cover",alt:J,withAvatarReplace:!0,isAvailable:i.isAvailable,"aria-hidden":!0}),ec]})}),[es,U,J,i.isAvailable,ec]);return(0,s.jsx)(u.m7,{ref:y,className:(0,r.W)(p().root,t),textPosition:"center","aria-label":J,title:(0,s.jsx)(v.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,s.jsx)(_.rU,{className:p().titleLink,href:i.url,"aria-label":J,onClick:et,...(0,d.BA)(d.bG.artist.ARTIST_TITLE),children:F})}),srTitle:(0,s.jsx)(_.rU,{href:i.url,onClick:et,children:J}),"data-intersection-property-id":f,contentLinesCount:C,view:eu,...(0,d.BA)(d.bG.artist.ARTIST_ITEM),children:n})})},54864:function(e,i,t){"use strict";t.d(i,{ArtistContextMenu:function(){return m}});var s=t(9753),r=t(9544),n=t(98639),o=t(80542),l=t(18375),a=t(385),d=t(33589),c=t(34152),u=t(3084);let m=(0,r.Pi)(e=>{var i,t,r;let{artist:m,onOpenChange:h,open:v,...b}=e,{settings:P,trailer:_}=(0,c.oR4)(),x=(0,d.BV)(m),g=(0,d.SB)(m),C=(0,c.FTC)(),p="".concat(c.aUg.ARTIST,"-").concat(null==m?void 0:m.id),y=P.layout===c.t8m.Mobile,{formatMessage:f}=(0,o.Z)(),{href:S}=(0,c.qKB)(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:""),{isPlaying:k,togglePlay:j}=(0,c.QhE)({seeds:null!==(r=null==m?void 0:m.seeds)&&void 0!==r?r:[],pageIdForFrom:c.Rhz.RADIO,blockIdForFrom:p}),A=(0,n.useCallback)(()=>{k||j()},[k,j]),T=(0,n.useCallback)(()=>{(null==m?void 0:m.id)&&(_.openArtistTrailer(m.id),C(l.OB.Artist,m.id))},[null==m?void 0:m.id,C,_]);return(0,c.ZP4)(v),(0,s.jsxs)(a.v2,{isMobile:y,offsetOptions:10,open:v,onOpenChange:h,ariaLabel:f({id:"interface-actions.context-menu"}),...b,children:[!y&&(0,s.jsx)(u.Zd,{onClick:x,isPinned:null==m?void 0:m.isPinned}),(0,s.jsx)(u.xZ,{onClick:g,isLiked:null==m?void 0:m.isLiked,disabled:!(null==m?void 0:m.isAvailable)}),(null==m?void 0:null===(i=m.trailer)||void 0===i?void 0:i.canShow)&&(0,s.jsx)(u.NB,{onClick:T}),(0,s.jsx)(u.GQ,{onClick:A,disabled:!(null==m?void 0:m.isAvailable),variant:"artist"}),(0,s.jsx)(u.zq,{disabled:!m,shareLink:S,entityVariant:"artist",entityTitle:null==m?void 0:m.name})]})})},17777:function(e,i,t){"use strict";t.d(i,{SearchHistoryPage:function(){return x}});var s=t(9753),r=t(98780),n=t(9544),o=t(98639),l=t(80542),a=t(31014),d=t(23881),c=t(39513),u=t(28852),m=t(41055),h=t(2570),v=t(23194),b=t(34152),P=t(15739),_=t.n(P);let x=(0,n.Pi)(()=>{var e;let i=(0,b.uK4)().get(b.U5t),{search:t,user:n,settings:P}=(0,b.oR4)(),{formatMessage:x}=(0,l.Z)(),g=(0,b.k67)(),C=(0,o.useRef)(!1),p=(0,o.useRef)(null),y=(0,v.vy)(()=>{C.current=!0}),f=P.layout===b.t8m.Mobile,S=t.history.items.length;t.isHistoryReady&&(null===(e=n.account)||void 0===e?void 0:e.uid)&&(0,o.use)(t.getHistory({userId:n.account.uid,config:i})),(0,o.useEffect)(()=>{p.current&&g.canBack&&p.current.focus()},[g.canBack]),(0,o.useEffect)(()=>()=>{(null==C?void 0:C.current)?(t.resetHistoryItems(),C.current=!1):t.resetHistoryStateRequest()},[t]);let k=(0,o.useMemo)(()=>(0,r.Z)(()=>{null==g||g.back()},200),[g]),j=(0,o.useMemo)(()=>S?(0,s.jsx)("div",{className:_().items,children:t.history.items.map(v.Fu).filter(e=>!!e)}):(0,s.jsx)(h.Caption,{className:_().emptyHistory,variant:"div",size:"m",type:"text",children:(0,s.jsx)(a.Z,{id:"search.history-empty"})}),[t.history.items,S]);return(0,s.jsx)("div",{className:_().root,...(0,d.BA)(d.Br.search.SEARCH_HISTORY_PAGE),children:(0,s.jsxs)(m.t,{className:_().scrollContent,containerClassName:_().scrollContainer,children:[(0,s.jsxs)("div",{className:_().header,children:[(0,s.jsxs)("div",{className:_().title,children:[g.canBack&&(0,s.jsx)(c.z,{ref:p,"aria-label":x({id:"navigation.go-back"}),radius:"round",disabled:!g.canBack,size:"s",icon:(0,s.jsx)(u.J,{size:"xxs",variant:"arrowLeft"}),onClick:k}),(0,s.jsx)(h.Heading,{variant:"h2",size:f?"m":"xl",children:(0,s.jsx)(a.Z,{id:"search.history"})})]}),(0,s.jsx)(c.z,{"aria-label":x({id:"search.clear-history"}),radius:"xxxl",variant:"outline",disabled:!S,size:f?"s":"default",onClick:y,children:(0,s.jsx)(h.Caption,{variant:"span",size:"m",type:"text",children:(0,s.jsx)(a.Z,{id:"search.clear-history"})})})]}),!t.isHistoryLoading&&j]})})})},55805:function(e,i,t){"use strict";t.d(i,{SearchPage:function(){return S}});var s=t(9753),r=t(60836),n=t(98780),o=t(9544),l=t(74717),a=t(98639),d=t(80542),c=t(23881),u=t(40193),m=t(41055),h=t(54950),v=t(14102),b=t(21901),P=t(23194),_=t(34152),x=t(3084);let g=[u.ay.TOP,u.ay.TRACK,u.ay.ALBUM,u.ay.ARTIST,u.ay.PLAYLIST,u.ay.PODCAST,u.ay.BOOK],C=()=>{let e=(0,_.RVp)(),{experiments:i}=(0,_.oR4)();return g.filter(t=>{if((t!==u.ay.PODCAST||e)&&(t!==u.ay.BOOK||e||i.checkExperiment(_.peG.WebNextBookSearch,"on")))return t})};var p=t(77722),y=t.n(p);let f="text",S=(0,o.Pi)(()=>{let e=(0,v.useTabsState)(0),[i,t]=(0,a.useState)(u.ay.TOP),[o,p]=(0,a.useState)(!1),{formatMessage:S}=(0,d.Z)(),{search:k,experiments:j,location:A}=(0,_.oR4)(),T=(0,_.uK4)().get(_.U5t),V=C();j.checkExperiment(_.peG.WebNextDisableSearch,"on")&&(0,l.redirect)("/");let N=(0,a.useMemo)(()=>{var e;return decodeURIComponent(null!==(e=new URLSearchParams(A.searchParams).get(f))&&void 0!==e?e:"")},[A.searchParams]),[R,B]=(0,a.useState)(N),I=R.length>0;(0,a.useEffect)(()=>()=>{k.reset()},[k]);let L=(0,a.useCallback)((e,i)=>{k.resetResults(),0!==e.length&&k.getSearchResults({text:decodeURIComponent(e),filter:i,config:T,experiments:j})},[k,T,j]);k.isNeededToLoad&&N.length>0&&(0,a.use)(k.getSearchResults({text:decodeURIComponent(N),filter:i,config:T,experiments:j}));let M=(0,a.useCallback)(e=>{let t=encodeURIComponent(e.trim());B(t),L(t,i),k.resetSearchCorrectedText(),p(!1);let s=new URL(window.location.href);s.searchParams.set(f,t),window.history.replaceState(null,"",String(s))},[L,i,k]),w=(0,a.useCallback)(()=>{p(!0)},[p]),E=(0,a.useMemo)(()=>(0,n.Z)(i=>{var s;if(!e.onTabChange||i===e.value)return;e.onTabChange(i);let r=null!==(s=g[i])&&void 0!==s?s:u.ay.TOP;t(r),L(R,r)},300),[L,R,e]),z=(0,a.useMemo)(()=>e=>{let{id:i,type:t,blockPosition:s,position:r,feedbackType:n}=e;k.sendFeedback({blockType:t,entityId:"".concat(t,":").concat(i),timestamp:new Date().toISOString(),searchRequestId:k.searchRequestId,query:R,clickType:n,blockPosition:s,position:r,page:0})},[k,R]),O=(0,a.useMemo)(()=>k.searchCorrectedText?(0,s.jsx)(P.gK,{searchCorrectedText:k.searchCorrectedText,onCorrectText:w}):null,[w,k.searchCorrectedText]),F=(0,a.useMemo)(()=>{if(!k.isLoading&&0===k.results.length)return(0,s.jsx)(P.hF,{searchCorrectedText:O});switch(i){case u.ay.TOP:return(0,s.jsx)(P.Id,{className:y().searchResults,isLoading:k.isLoading,results:k.results,sendSearchFeedback:z,searchCorrectedText:O});case u.ay.TRACK:return(0,s.jsx)(P.XM,{className:y().searchResults,isLoading:k.isLoading,results:k.results,sendSearchFeedback:z,searchCorrectedText:O});case u.ay.ALBUM:return(0,s.jsx)(P.xz,{className:y().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.ALBUM,sendSearchFeedback:z,searchCorrectedText:O});case u.ay.PLAYLIST:return(0,s.jsx)(P.xz,{className:y().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.PLAYLIST,sendSearchFeedback:z,searchCorrectedText:O});case u.ay.ARTIST:return(0,s.jsx)(P.xz,{className:y().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.ARTIST,sendSearchFeedback:z,searchCorrectedText:O});case u.ay.PODCAST:return(0,s.jsx)(P.R_,{className:y().searchResults,isLoading:k.isLoading,results:k.results,sendSearchFeedback:z,searchCorrectedText:O});case u.ay.BOOK:return(0,s.jsx)(P.xz,{className:y().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.BOOK,sendSearchFeedback:z,searchCorrectedText:O});default:return O}},[k.isLoading,k.results,i,z,O]),U=(0,a.useMemo)(()=>R.length>0?F:(0,s.jsxs)(m.t,{className:y().scrollableContent,containerClassName:y().main,children:[(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(_.Ja5,{blockId:_.BEo.SEARCH_HISTORY,blockType:_.BEo.SEARCH_HISTORY,blockPosX:1,blockPosY:1,blockIdForFrom:_.BEo.SEARCH_HISTORY,objectsCount:k.history.items.length,children:(0,s.jsx)(P.y9,{})})}),(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(b.JG,{})}),(0,s.jsx)(x.$_,{className:y().footer})]}),[R.length,F,k.history.items.length]),G=(0,a.useMemo)(()=>({top:S({id:"search-filters.top"}),track:S({id:"search-filters.track"}),album:S({id:"search-filters.album"}),artist:S({id:"search-filters.artist"}),playlist:S({id:"search-filters.playlist"}),podcast:S({id:"search-filters.podcast"}),book:S({id:"search-filters.book"})}),[S]);return(0,s.jsx)(_.Lh6,{pageId:_.Rhz.SEARCH,children:(0,s.jsxs)("div",{className:(0,r.W)(y().root,{[y().root_showFilters]:I}),...(0,c.BA)(c.Br.search.SEARCH_PAGE),children:[(0,s.jsxs)("div",{className:y().header,children:[(0,s.jsx)(h.M,{className:y().input,autoFocus:!0,initialValue:R,placeholder:S({id:"search.input-placeholder"}),onChange:M,resetButtonAriaLabel:S({id:"interface-actions.reset-search-input"}),correctedValue:o?k.searchCorrectedText:null}),I&&(0,s.jsx)(x.no,{className:y().tabCarousel,...e,onTabChange:E,children:V.map((i,t)=>(0,s.jsx)(x.OK,{className:(0,r.W)(y().filter,{[y().filter_selected]:t===e.value}),title:G[i],value:t},t))})]}),(0,s.jsx)("div",{className:y().content,children:U})]})})})},21901:function(e,i,t){"use strict";t.d(i,{JG:function(){return s.Mixes},RB:function(){return r.MixesGrid},ZP:function(){return u}});var s=t(8564),r=t(54140),n=t(42288),o=t(10542),l=t(40193),a=t(48606),d=t(34152);let c=e=>({items:(0,n.pj)(e.items.map(e=>(0,a.Fh)(e.data)))}),u=n.V5.model("Mixes",{loadingState:n.V5.enumeration(Object.values(d.Gui)),items:n.V5.array(a.zn),errorStatusCode:n.V5.maybeNull(n.V5.number)}).actions(e=>({getMixes:(0,n.ls)(function*(i){let{landingResource:t,modelActionsLogger:s}=(0,n.dU)(e);if(e.loadingState!==d.Gui.PENDING)try{e.loadingState=d.Gui.PENDING;let s=yield t.getBlock({uri:"/landing/block/mixes",fullList:i},l.gQ.MIXES);e.items=c(s).items,e.loadingState=d.Gui.RESOLVE}catch(i){s.error(i),i instanceof o.du&&(i.statusCode===o.CN.NOT_FOUND||i.statusCode===o.CN.BAD_REQUEST)&&(e.errorStatusCode=o.CN.NOT_FOUND),e.loadingState!==d.Gui.IDLE&&(e.loadingState=d.Gui.REJECT)}})})).views(e=>({get isLoading(){return e.loadingState===d.Gui.IDLE||e.loadingState===d.Gui.PENDING},get isRejected(){return e.loadingState===d.Gui.REJECT},get isNotFound(){let i=e.loadingState===d.Gui.RESOLVE&&0===e.items.length;return e.errorStatusCode===o.CN.NOT_FOUND||i}}))},8564:function(e,i,t){"use strict";t.d(i,{Mixes:function(){return b}});var s=t(9753),r=t(9544),n=t(98639),o=t(34152),l=t(80542),a=t(5993),d=t(48606),c=t(3084),u=t(66051),m=t.n(u);let h=(0,r.Pi)(e=>{let{isShimmerVisible:i,isShimmerActive:t,mixes:r}=e,{formatMessage:o}=(0,l.Z)(),u=(0,n.useMemo)(()=>i?(0,c.Cl)({isActive:t,withInfo:!1}):r.map(e=>(0,s.jsx)(d.GX,{title:e.title,weblink:e.weblink,covers:e.covers,coverSize:80,imagesLayoutType:e.imagesLayoutType},e.id)),[t,i,r]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.ti,{className:m().carouselHeader,title:o({id:"entity-names.mixes"}),titleSize:"xs",viewAllActionLink:"/mixes"}),(0,s.jsx)(a.l,{className:m().carouselBlock,itemClassName:m().mixItem,children:u})]})});var v=t(54140);let b=(0,r.Pi)(()=>{let{settings:e,search:i}=(0,o.oR4)(),t=e.layout===o.t8m.Mobile;return(i.mixes.loadingState===o.Gui.IDLE&&(0,n.use)(i.mixes.getMixes(!1)),t)?(0,s.jsx)(h,{isShimmerVisible:i.mixes.isLoading||i.mixes.isRejected,isShimmerActive:i.mixes.isLoading,mixes:i.mixes.items}):(0,s.jsx)(v.MixesGrid,{isShimmerVisible:i.mixes.isLoading||i.mixes.isRejected,isShimmerActive:i.mixes.isLoading,mixes:i.mixes.items,withTitle:!0})})},54140:function(e,i,t){"use strict";t.d(i,{MixesGrid:function(){return m}});var s=t(9753),r=t(9544),n=t(98639),o=t(31014),l=t(2570),a=t(48606),d=t(3084),c=t(8104),u=t.n(c);let m=(0,r.Pi)(e=>{let{isShimmerVisible:i,isShimmerActive:t,withTitle:r,mixes:c,shimmerCount:m=5}=e,h=(0,n.useMemo)(()=>i?(0,s.jsx)(d.Wm,{isActive:t,round:!1,centered:!1,withInfo:!1,count:m}):c.map(e=>(0,s.jsx)(a.GX,{title:e.title,weblink:e.weblink,covers:e.covers,imagesLayoutType:e.imagesLayoutType},e.id)),[t,i,c,m]);return(0,s.jsxs)("div",{children:[r&&(0,s.jsx)(l.Heading,{className:u().mixesTitle,size:"s",weight:"bold",variant:"h3",children:(0,s.jsx)(o.Z,{id:"entity-names.mixes"})}),(0,s.jsx)("div",{className:u().mixesGrid,children:h})]})})},86678:function(e){e.exports={root:"MixCard_root__9tPLV",header:"MixCard_header__j7Zpo",title:"MixCard_title__nhghp",cover:"MixCard_cover__oSu73",covers:"MixCard_covers__S61hz",covers_stack:"MixCard_covers_stack__VeHDp",covers_radial:"MixCard_covers_radial__orE40"}},70010:function(e){e.exports={root:"VibeButton_root___i3R5",ripple:"VibeButton_ripple__cmoBR",textContainer:"VibeButton_textContainer__j9nOW",titleContainer:"VibeButton_titleContainer__yrRRu",title:"VibeButton_title__sLC0I",subtitle:"VibeButton_subtitle__MQ_Ca",image:"VibeButton_image__GOwKJ",button:"VibeButton_button__tXFAm",button_loading:"VibeButton_button_loading__LYnUR","applying-setting":"VibeButton_applying-setting__Jd_3C",icon:"VibeButton_icon__KIv7n"}},55215:function(e){e.exports={root:"VibeCard_root__9TDjP",playingAnimation:"VibeCard_playingAnimation__iRgvh",cover:"VibeCard_cover__LbX93",image:"VibeCard_image__luolD",controls:"VibeCard_controls__CcEVx",controls_isPlaying:"VibeCard_controls_isPlaying__1_Ass",important:"VibeCard_important__WPWqc",control:"VibeCard_control__SM3H4",playControl:"VibeCard_playControl__pZxq5",playButton:"VibeCard_playButton__LWepP"}},62914:function(e){e.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",trailerButton:"ArtistCard_trailerButton__a2NHm",control:"ArtistCard_control___qv5j"}},15739:function(e){e.exports={root:"SearchHistoryPage_root__Wbvyf",title:"SearchHistoryPage_title__gnJuo",header:"SearchHistoryPage_header__YdTG5",scrollContainer:"SearchHistoryPage_scrollContainer__ScAez",scrollContent:"SearchHistoryPage_scrollContent__5AXWC",content:"SearchHistoryPage_content__iPgVO",desktopItem:"SearchHistoryPage_desktopItem__Xv9C_",items:"SearchHistoryPage_items___okS8",emptyHistory:"SearchHistoryPage_emptyHistory__gzfUu"}},77722:function(e){e.exports={header:"SearchPage_header__BOkdn",root:"SearchPage_root__i7sE0",root_showFilters:"SearchPage_root_showFilters__reB44",input:"SearchPage_input__TSbxK",content:"SearchPage_content__ycqK5",scrollableContent:"SearchPage_scrollableContent__gzoBu",main:"SearchPage_main__FV4Cr",tabCarousel:"SearchPage_tabCarousel__9cWOl",filter:"SearchPage_filter__5xzTL",filter_selected:"SearchPage_filter_selected__FOfyJ",compilations:"SearchPage_compilations__52N9u",footer:"SearchPage_footer__20bvg"}},66051:function(e){e.exports={carouselBlock:"MixesCarousel_carouselBlock__ZpMU2",carouselHeader:"MixesCarousel_carouselHeader__6mMHX",mixItem:"MixesCarousel_mixItem__YNSsB"}},8104:function(e){e.exports={mixesTitle:"MixesGrid_mixesTitle__QawnL",mixesGrid:"MixesGrid_mixesGrid__uZQtt"}}}]);