(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3490],{40113:function(e,t,i){"use strict";i.d(t,{KX:function(){return c},gI:function(){return d},lf:function(){return n},N:function(){return m},hh:function(){return b},H0:function(){return v.useAlbumEntityName},SB:function(){return p.useOnLikeClick},BV:function(){return C.useOnPinClick},IK:function(){return _.useOnPresaveClick},od:function(){return g}});var r,n,a=i(42288),s=i(40193),l=i(34152),o=i(395);let u=a.V5.model("TrackPosition",{volume:a.V5.number,index:a.V5.number}),c=a.V5.compose(a.V5.model({id:a.V5.number,title:a.V5.string,type:a.V5.maybe(a.V5.enumeration(Object.values(s.VZ))),coverUri:a.V5.maybe(a.V5.string),averageColor:a.V5.maybe(a.V5.string),year:a.V5.maybe(a.V5.number),version:a.V5.maybe(a.V5.string),isAvailable:a.V5.optional(a.V5.boolean,!0),availableForOptions:a.V5.maybe(a.V5.array(a.V5.enumeration(Object.values(s.Yk)))),availableForPremiumUsers:a.V5.maybe(a.V5.boolean),bookmateOptionRequired:a.V5.maybe(a.V5.boolean),genre:a.V5.maybe(a.V5.string),trackPosition:a.V5.maybe(u),disclaimers:a.V5.maybe(a.V5.array(a.V5.string)),trackCount:a.V5.maybe(a.V5.number),bestAlbumTracks:a.V5.maybe(a.V5.array(a.V5.number)),trailer:a.V5.maybe(o.K8),durationSec:a.V5.maybe(a.V5.number)}),o.fE,o.ie).views(e=>({get url(){return"/album/".concat(e.id)},get isLiked(){if(!(0,a.fh)(e))return!1;let{library:t}=(0,a.yj)(e);return t.isAlbumLiked(e.id)},get pinId(){return"".concat(s.Qm.ALBUM).concat(e.id)},get seeds(){return["album:".concat(e.id)]},get isPodcast(){return e.type===s.VZ.PODCAST},get isAudiobook(){return e.type===s.VZ.AUDIOBOOK},get isNonMusic(){return this.isAudiobook||this.isPodcast},get isPinned(){if(!(0,a.fh)(e))return!1;let{pinsCollection:t}=(0,a.yj)(e);return t.isPinned(this.pinId)},get isLegalRejected(){if(!(0,a.fh)(e))return!1;let{experiments:t}=(0,a.yj)(e),i=t.checkExperiment(l.peG.WebNextLegalRejectAlbum,"on");if(e.disclaimers&&i)return!e.isAvailable&&e.disclaimers.includes(s.em.MODAL);return!1},get isUnsafeLegal(){if(!(0,a.fh)(e))return!1;let{experiments:t}=(0,a.yj)(e),i=t.checkExperiment(l.peG.WebNextLegalUnsafeAlbum,"on");if(e.disclaimers&&i)return e.isAvailable&&e.disclaimers.includes(s.em.MODAL);return!1}})).actions(e=>({toggleLike:(0,a.ls)(function*(){if(!(0,a.fh)(e))return;let{library:t,user:i}=(0,a.yj)(e);if(i.isAuthorized){let r=yield t.toggleAlbumLike({entityId:e.id,userId:i.account.uid});return(0,a.fh)(e)&&r===s.Bi.OK&&(e.isLiked?e.likePending():e.unlikePending()),r}}),togglePin:(0,a.ls)(function*(){if(!(0,a.fh)(e))return;let{pinsCollection:t,user:i}=(0,a.yj)(e);if(i.isAuthorized)return yield t.toggleAlbumPin({id:e.id},e.pinId)}),getKey:t=>"".concat(t,"_").concat(e.id)})).named("BaseAlbum"),d=a.V5.compose(a.V5.model("BaseUpcomingAlbum",{id:a.V5.number,isPresave:a.V5.boolean,title:a.V5.maybe(a.V5.string),type:a.V5.maybe(a.V5.enumeration(Object.values(s.VZ))),coverUri:a.V5.maybe(a.V5.string),releaseDate:a.V5.maybe(a.V5.string)}),o.ie).actions(e=>{let t={presaveAlbum:(0,a.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,a.dU)(e);try{e.isPresave=!0;let r=yield i.presaveAlbum(t);return r===s.ZW.ERROR&&(e.isPresave=!1),r}catch(t){return e.isPresave=!1,r.error(t),s.ZW.ERROR}}),removePresaveAlbum:(0,a.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,a.dU)(e);try{e.isPresave=!1;let r=yield i.removePresaveAlbum(t);return r===s.ZW.ERROR&&(e.isPresave=!0),r}catch(t){return e.isPresave=!0,r.error(t),s.ZW.ERROR}}),toggleLike:(0,a.ls)(function*(){let i;if(!(0,a.fh)(e))return;let{user:r}=(0,a.yj)(e);if(r.account.uid)return i=e.isPresave?yield t.removePresaveAlbum({albumId:e.id,userId:r.account.uid}):yield t.presaveAlbum({albumId:e.id,userId:r.account.uid,likeAfterRelease:!0}),(0,a.fh)(e),i})};return t});(r=n||(n={})).TRACK="track",r.TEXT="text";let m=e=>{let t=(0,l.GFX)(e.trailer);return(0,a.pj)({id:e.id,title:e.title,coverUri:e.coverUri,type:e.type,year:e.year,version:e.version,contentWarning:e.contentWarning,genre:e.genre,likesCount:e.likesCount,averageColor:(0,l.Usz)(e.derivedColors),isAvailable:!!e.available,trackPosition:e.trackPosition,disclaimers:e.disclaimers,trackCount:e.trackCount,availableForPremiumUsers:e.availableForPremiumUsers,availableForOptions:e.availableForOptions||[],bestAlbumTracks:e.bests,durationSec:e.durationSec,trailer:t})},b=e=>{let t=!1;return e.presaveDate?t=!0:e.presaved&&(t=e.presaved),(0,a.pj)({id:e.id,contentWarning:e.contentWarning,disclaimers:e.disclaimers,isPresave:t,title:e.title,type:e.type,coverUri:e.coverUri,releaseDate:e.releaseDate})};var v=i(25053),p=i(41345),_=i(51578),C=i(9266);let g=e=>{let{isAvailable:t,availableForOptions:i,availableForPremiumUsers:r}=e;return!t&&(r||!!(null==i?void 0:i.includes(s.Yk.BOOKMATE)))}},25053:function(e,t,i){"use strict";i.d(t,{useAlbumEntityName:function(){return l}});var r=i(98639),n=i(80542),a=i(40193),s=i(34152);let l=e=>{let{formatMessage:t}=(0,n.Z)(),i=(0,s.RVp)();return(0,r.useMemo)(()=>{if(!i)return e===a.VZ.SINGLE?t({id:"entity-names.single"}):t({id:"entity-names.album"});switch(e){case a.VZ.SINGLE:return t({id:"entity-names.single"});case a.VZ.PODCAST:return t({id:"entity-names.podcast"});case a.VZ.AUDIOBOOK:return t({id:"entity-names.audiobook"});case a.VZ.FAIRY_TALE:return t({id:"entity-names.fairy-tale"});default:return t({id:"entity-names.album"})}},[e,t,i])}},94721:function(e,t,i){"use strict";i.d(t,{C:function(){return s}});var r=i(40193),n=i(34152),a=i(3084);let s=e=>{if(!(0,n.RVp)())return a.j9.ALBUM;switch(e.type){case r.VZ.PODCAST:return a.j9.PODCAST;case r.VZ.AUDIOBOOK:return a.j9.AUDIOBOOK;default:return a.j9.ALBUM}}},41345:function(e,t,i){"use strict";i.d(t,{useOnLikeClick:function(){return p}});var r=i(9753),n=i(24244),a=i(98639),s=i(80542),l=i(40193),o=i(34152),u=i(3084),c=i(9544),d=i(94721);let m="/collection/albums",b=e=>{if(!(0,o.RVp)())return m;switch(e.type){case l.VZ.PODCAST:case l.VZ.AUDIOBOOK:return"/collection/non-music/liked";default:return m}},v=(0,c.Pi)(e=>{let{album:t,closeToast:i}=e,n=b(t),a=(0,d.C)(t);return(0,r.jsx)(u.AP,{closeToast:i,entityVariant:a,coverUri:t.coverUri,entityUrl:"/album/".concat(t.id),collectionUrl:n,entityTitle:t.title,isLiked:t.isLiked})}),p=e=>{let{user:t}=(0,o.oR4)(),{notify:i}=(0,o.d$W)(),[c,d]=(0,a.useState)(!1),{formatMessage:m}=(0,s.Z)();return(0,a.useCallback)(async()=>{if(!e)return;if(!t.isAuthorized){i((0,r.jsx)(u.Q,{error:m({id:"authorization-messages.need-to-authorizate"})}),{containerId:o.W$x.ERROR});return}if(c)return;let a={...(0,n.ZN)(e),isLiked:!e.isLiked};d(!0);let s=await e.toggleLike();d(!1),s===l.Bi.OK?i((0,r.jsx)(v,{album:a}),{containerId:o.W$x.INFO}):i((0,r.jsx)(u.Q,{error:m({id:"error-messages.error-during-action"})}),{containerId:o.W$x.ERROR})},[t.isAuthorized,c,e,m,i])}},9266:function(e,t,i){"use strict";i.d(t,{useOnPinClick:function(){return m}});var r=i(9753),n=i(24244),a=i(98639),s=i(80542),l=i(34152),o=i(3084),u=i(9544),c=i(94721);let d=(0,u.Pi)(e=>{let{album:t,closeToast:i}=e,n=(0,c.C)(t);return(0,r.jsx)(o.K1,{closeToast:i,entityVariant:n,coverUri:t.coverUri,entityUrl:"/album/".concat(t.id),entityTitle:t.title,isPinned:t.isPinned})}),m=e=>{let{user:t}=(0,l.oR4)(),{notify:i}=(0,l.d$W)(),{formatMessage:u}=(0,s.Z)(),[c,m]=(0,a.useState)(!1);return(0,a.useCallback)(async()=>{if(!t.isAuthorized){i((0,r.jsx)(o.Q,{error:u({id:"authorization-messages.need-to-authorizate"})}),{containerId:l.W$x.ERROR});return}if(c)return;let a={...(0,n.ZN)(e),isPinned:!e.isPinned};m(!0);let s=await e.togglePin();m(!1),s?i((0,r.jsx)(d,{album:a}),{containerId:l.W$x.INFO}):i((0,r.jsx)(o.Q,{error:u({id:"error-messages.error-during-action"})}),{containerId:l.W$x.ERROR})},[e,u,i,c,t.isAuthorized])}},51578:function(e,t,i){"use strict";i.d(t,{useOnPresaveClick:function(){return d}});var r=i(9753),n=i(24244),a=i(98639),s=i(80542),l=i(40193),o=i(34152),u=i(3084);let c=e=>{let{upcomingAlbum:t,closeToast:i}=e;return(0,r.jsx)(u.V1,{closeToast:i,albumTitle:t.title,coverUri:t.coverUri,entityTitle:t.title,isPresave:t.isPresave})},d=e=>{let{user:t}=(0,o.oR4)(),{notify:i}=(0,o.d$W)(),[d,m]=(0,a.useState)(!1),{formatMessage:b}=(0,s.Z)();return(0,a.useCallback)(async()=>{if(!t.isAuthorized){i((0,r.jsx)(u.Q,{error:b({id:"authorization-messages.need-to-authorizate"})}),{containerId:o.W$x.ERROR});return}if(d)return;let a={...(0,n.ZN)(e),isPresave:!e.isPresave};m(!0);let s=await e.toggleLike();m(!1),s===l.ZW.OK?i((0,r.jsx)(c,{upcomingAlbum:a}),{containerId:o.W$x.INFO}):i((0,r.jsx)(u.Q,{error:b({id:"error-messages.error-during-action"})}),{containerId:o.W$x.ERROR})},[t.isAuthorized,d,e,i,b])}},94342:function(e,t,i){"use strict";i.d(t,{kL:function(){return s.Chart},BH:function(){return a},W5:function(){return l}});var r=i(42288),n=i(40193);let a=r.V5.model("Chart",{position:r.V5.maybe(r.V5.number),progress:r.V5.maybe(r.V5.enumeration(Object.values(n.h9)))});var s=i(59558);let l=e=>(0,r.pj)({position:e.position,progress:e.progress})},59558:function(e,t,i){"use strict";i.d(t,{Chart:function(){return b}});var r=i(9753),n=i(60836),a=i(9544),s=i(98639),l=i(80542),o=i(40193),u=i(28852),c=i(2570),d=i(7005),m=i.n(d);let b=(0,a.Pi)(e=>{let{progress:t,position:i,isDisliked:a,isDisabled:d,className:b}=e,{formatMessage:v}=(0,l.Z)(),p=(0,s.useMemo)(()=>{switch(t){case o.h9.UP:return"chartUp";case o.h9.DOWN:return"chartDown";case o.h9.NEW:return"chartNew";default:return"chartSame"}},[t]),_=(0,s.useMemo)(()=>{switch(t){case o.h9.UP:return v({id:"entity-names.chart-up"});case o.h9.DOWN:return v({id:"entity-names.chart-down"});case o.h9.NEW:return v({id:"entity-names.chart-new"});default:return v({id:"entity-names.chart-same"})}},[v,t]);return(0,r.jsxs)("div",{className:(0,n.W)(m().root,b),children:[(0,r.jsx)(c.Caption,{variant:"div",weight:"normal",type:"entity",size:"m",className:(0,n.W)(m().position,{[m().position_disliked]:a,[m().position_disabled]:d}),children:i}),(0,r.jsx)(u.J,{variant:p,size:"xxs","aria-label":_,className:(0,n.W)(m().progress,m()["progress_".concat(t)],{[m().progress_disliked]:a,[m().progress_disabled]:d})})]})})},93490:function(e,t,i){"use strict";i.d(t,{rf:function(){return r.AlbumCard},oK:function(){return f.AlbumContextMenu},ug:function(){return c.u},wk:function(){return u},vK:function(){return n.UpcomingAlbumCard},W9:function(){return v},ym:function(){return p},cO:function(){return g},wJ:function(){return h},wq:function(){return _},jV:function(){return A.useAlbumDisclaimer}});var r=i(49473),n=i(24298),a=i(9753),s=i(98639),l=i(3084);let o=e=>{let{forwardRef:t,isShimmerVisible:i,isShimmerActive:n,title:s,description:o,albums:u,className:c,containerClassName:d,headerClassName:m,viewAllActionLink:b,headingRef:v,...p}=e;return(0,a.jsx)(l.HY,{isShimmerVisible:i,isShimmerActive:n,className:c,headerClassName:m,containerClassName:d,ref:t,title:s,description:o,viewAllActionLink:b,headingRef:v,...p,children:null==u?void 0:u.map(e=>(0,a.jsx)(r.AlbumCard,{album:e,contentLinesCount:3},e.id))})},u=(0,s.forwardRef)((e,t)=>(0,a.jsx)(o,{forwardRef:t,...e}));var c=i(75422),d=i(42288),m=i(40113),b=i(33589);let v=m.gI.props({artists:d.V5.maybe(d.V5.array(b.Go))}).views(e=>({get artistNames(){var t;return null===(t=e.artists)||void 0===t?void 0:t.map(e=>e.name).join(", ")}})),p=e=>{let t=e.artists.map(e=>(0,b.d)(e));return(0,d.pj)({...(0,m.N)(e),artists:t})},_=e=>{var t;let i=null===(t=e.artists)||void 0===t?void 0:t.map(e=>(0,b.tR)({artist:e}));return(0,d.pj)({...(0,m.hh)(e),artists:i})};var C=i(34152);let g=e=>{var t,i;let{album:r,artists:n,bookmateOptionRequired:a,chart:s,likesCount:l,trailer:o}=e,{available:u,disclaimers:c}=(0,C.NuW)(r);return(0,d.pj)({id:r.id,title:r.title,coverUri:null===(t=r.cover)||void 0===t?void 0:t.uri,type:r.albumType,contentWarning:r.contentWarning,disclaimers:c,artists:null==n?void 0:n.map(e=>(0,b.tR)({artist:e})),averageColor:null===(i=r.cover)||void 0===i?void 0:i.color,isAvailable:u,likesCount:l,bookmateOptionRequired:a,chart:s,trailer:(0,C.GFX)(o)})};var k=i(94342);let h=e=>{let{album:t,artists:i,likesCount:r,chart:n}=e;return(0,d.pj)({...g({album:t,artists:i,likesCount:r}),chart:n&&(0,k.W5)(n)})};var A=i(11856),f=i(41566)},11856:function(e,t,i){"use strict";i.d(t,{useAlbumDisclaimer:function(){return s}});var r=i(98639),n=i(3429),a=i(34152);let s=e=>{let{album:t,callback:i,shouldHistoryBack:s}=e,{disclaimer:l,modals:{disclaimerModal:o}}=(0,a.oR4)(),u=(0,r.useRef)(String((0,n.Z)())),c=(0,r.useRef)(!1),d=(0,a.uK4)().get(a.ceh);return(0,r.useEffect)(()=>{l.isUnsafeDisclaimerConfirmed&&l.id===u.current&&!c.current&&(null==i||i(),c.current=!0)},[i,l.isUnsafeDisclaimerConfirmed,l.id]),(0,r.useCallback)(async e=>{let r=d.get(a.BUb.ExEx),n=(null==t?void 0:t.isPodcast)?null==r?void 0:r.includes("".concat(a.coP.PODCAST,"_").concat(t.id)):null==r?void 0:r.includes("".concat(a.coP.ALBUM,"_").concat(null==t?void 0:t.id));if((null==t?void 0:t.isUnsafeLegal)&&n){null==i||i();return}if((null==t?void 0:t.isLegalRejected)||(null==t?void 0:t.isUnsafeLegal)){null==e||e.preventDefault(),await l.getAlbumDisclaimer({albumId:t.id}),t.isUnsafeLegal&&l.setType(a.Gq.UNSAFE),l.setId(u.current),l.setEntityId(t.id),t.isPodcast?l.setEntityType(a.coP.PODCAST):l.setEntityType(a.coP.ALBUM),l.setShouldHistoryBack(!!s),c.current=!1,o.open();return}null==e||e.preventDefault(),null==i||i()},[null==t?void 0:t.id,null==t?void 0:t.isLegalRejected,null==t?void 0:t.isPodcast,null==t?void 0:t.isUnsafeLegal,i,l,o,d,s])}},75422:function(e,t,i){"use strict";i.d(t,{u:function(){return l}});var r=i(42288),n=i(40113),a=i(33589),s=i(94342);let l=n.KX.props({artists:r.V5.maybe(r.V5.array(a.Go)),chart:r.V5.maybe(s.BH)}).views(e=>({get artistNames(){var t;return null===(t=e.artists)||void 0===t?void 0:t.map(e=>e.name).join(", ")}}))},49473:function(e,t,i){"use strict";i.r(t),i.d(t,{AlbumCard:function(){return V}});var r=i(9753),n=i(60836),a=i(9544),s=i(98639),l=i(80542),o=i(18375),u=i(23881),c=i(84338),d=i(40193),m=i(27491),b=i(28852),v=i(12404),p=i(2570),_=i(40113),C=i(33589),g=i(94342),k=i(34152),h=i(3084),A=i(11856),f=i(41566),y=i(96027),x=i.n(y);let V=(0,a.Pi)(e=>{let{className:t,children:i,album:a,contentLinesCount:y,withLikesCount:V,withChart:j,withAddition:P=!0,withArtistName:B=!0}=e,{ref:L,intersectionPropertyId:U}=(0,k.VfV)(),{trailer:N}=(0,k.oR4)(),{from:O}=(0,k.MhG)(),{formatMessage:R}=(0,l.Z)(),{sendLikeSearchFeedback:w,sendNavigateSearchFeedback:M,sendPlaySearchFeedback:S}=(0,k.sAF)(),[W,z]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),[E,D]=(0,s.useState)(!1),Z=(0,k.zxW)(),K=(0,_.SB)(a),G=(0,_.BV)(a),F=(0,k.s0h)(a.url),q=(0,k.s0h)(a.url,!0),[J,$]=(0,s.useState)(!1),Q=(0,_.od)(a),H=(0,k.FTC)(),Y=(0,s.useCallback)(e=>{e.stopPropagation(),N.openAlbumTrailer(a.id),H(o.OB.Album,String(a.id))},[a.id,H,N]),X=a.type===d.VZ.SINGLE?R({id:"entity-names.single"}):void 0,ee=(0,k.tNA)([a.year,X]),et=(0,_.H0)(a.type),ei=(0,s.useMemo)(()=>{var e;let t=a.isLiked?R({id:"entity-names.has-your-like"}):"";return"".concat(et," ").concat(a.title," ").concat(null!==(e=a.version)&&void 0!==e?e:""," ").concat(t)},[et,R,a.title,a.isLiked,a.version]),{isPlaying:er,togglePlay:en}=(0,k.qmq)({playContextParams:{contextData:{type:c.Ak.Album,meta:{id:a.id},from:O},loadContextMeta:!0}}),ea=(0,A.useAlbumDisclaimer)({album:a,callback:F}),es=(0,A.useAlbumDisclaimer)({album:a,callback:q}),el=(0,A.useAlbumDisclaimer)({album:a,callback:en}),eo=(0,C.ik)(es,ea),eu=(0,s.useCallback)(e=>{Z({to:o.qU.AlbumScreen}),null==M||M(),eo(e)},[Z,M,eo]),ec=(0,s.useCallback)(e=>{eu(e)},[eu]),ed=(0,s.useCallback)(()=>{I||er||(T(!0),null==S||S()),el()},[er,I,S,el]),em=(0,s.useCallback)(()=>{W||a.isLiked||(z(!0),null==w||w()),K()},[a.isLiked,K,W,w]),eb=(0,s.useCallback)(()=>{D(!E),$(!E)},[E]),ev=(0,s.useMemo)(()=>{var e;return(0,r.jsxs)(p.Caption,{className:(0,n.W)(x().title,{[x().title_withVersion]:a.version,[x().title_withChart]:j}),variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,u.BA)(u.bG.album.ALBUM_TITLE),children:[(0,r.jsx)(h.rU,{"aria-label":"".concat(a.title," ").concat(null!==(e=a.version)&&void 0!==e?e:""),className:x().titleLink,href:a.url,onClick:eu,children:a.title}),a.version&&(0,r.jsx)(p.Caption,{className:x().version,variant:"span",...(0,u.BA)(u.bG.album.ALBUM_VERSION),children:" ".concat(a.version)})]})},[a.title,a.url,a.version,eu,j]),ep=(0,s.useMemo)(()=>{var e;return(0,r.jsx)(h.rU,{href:a.url,onClick:eu,children:"".concat(a.title," ").concat(null!==(e=a.version)&&void 0!==e?e:"")})},[a.title,a.url,a.version,eu]),e_=(0,s.useMemo)(()=>{var e;if(null==a?void 0:null===(e=a.trailer)||void 0===e?void 0:e.canShow)return(0,r.jsx)(h.xf,{children:(0,r.jsx)(h.eP,{className:(0,n.W)(x().trailerButton,x().control),radius:"round",size:"s",iconSize:"xxs",onClick:Y},a.getKey("TrailerButton"))})},[a,Y]),eC=(0,s.useMemo)(()=>(0,r.jsx)(f.AlbumContextMenu,{album:a,onOpenChange:eb,open:E,className:(0,n.W)(x().menuButton,x().control),icon:(0,r.jsx)(b.J,{size:"xxs",variant:"more"}),size:"s",...(0,u.BA)(u.bG.album.ALBUM_CONTEXT_MENU_BUTTON)},a.getKey("AlbumContextMenu")),[a,eb,E]),eg=(0,s.useMemo)(()=>{if(a.isAvailable)return(0,r.jsx)(m.kk,{isVisible:E||J,className:x().controls,playControl:(0,r.jsx)(h.JM,{className:(0,n.W)(x().playButton,x().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:ed,isPlaying:er},a.getKey("PlayButton")),likeControl:(0,r.jsx)(h.dJ,{className:(0,n.W)(x().likeButton,x().control),isLiked:a.isLiked,onClick:em,variant:"default",size:"s",iconSize:"xxs"},a.getKey("LikeButton")),menuControl:eC,pinControl:(0,r.jsx)(h.RT,{onClick:G,isPinned:a.isPinned,className:(0,n.W)(x().pinButton,x().control),withRipple:!1},a.getKey("PinButton")),trailerControl:e_})},[a,E,J,ed,er,em,eC,G,e_]),ek=(0,s.useMemo)(()=>(0,r.jsx)(v.Paper,{className:x().cover,radius:"s",withShadow:!0,...(0,u.BA)(u.bG.album.ALBUM_CARD),children:(0,r.jsxs)("div",{className:x().coverBlock,onClick:ec,children:[(0,r.jsx)(h.BE,{className:x().image,src:a.coverUri,size:200,fit:"cover",alt:ei,withAvatarReplace:!0,isAvailable:a.isAvailable,"aria-hidden":!0}),Q&&(0,r.jsx)(b.J,{variant:"plusBadge",className:x().plusBadge}),eg]})}),[ec,a.coverUri,a.isAvailable,ei,Q,eg]);return(0,r.jsxs)(m.m7,{ref:L,className:(0,n.W)(x().root,{[x().root_withChart]:j},t),"aria-label":ei,explicitMark:a.albumExplicitMark,explicitMarkSize:a.isNonMusic?"xs":"xxxs",title:ev,srTitle:ep,"data-intersection-property-id":U,contentLinesCount:y,view:ek,description:B&&(0,r.jsx)(C.jO,{className:x().artists,artists:a.artists,lineClamp:1,linkClassName:x().artistLink,captionSize:"s"},a.getKey("description")),chart:j&&a.chart&&(0,r.jsx)(g.kL,{className:x().chart,position:a.chart.position,progress:a.chart.progress},a.getKey("chart")),...(0,u.BA)(u.bG.album.ALBUM_ITEM),children:[P&&ee&&(0,r.jsx)(p.Caption,{className:x().addition,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:ee}),V&&!!a.actualLikesCount&&(0,r.jsx)(h.DB,{className:x().likeTextButton,ariaLabel:R({id:"entity-names.likes-counter"},{counter:a.actualLikesCount}),likesCount:a.actualLikesCount,isLiked:a.isLiked,handleLikeClick:K}),i]})})},41566:function(e,t,i){"use strict";i.d(t,{AlbumContextMenu:function(){return m}});var r=i(9753),n=i(9544),a=i(98639),s=i(80542),l=i(18375),o=i(385),u=i(40113),c=i(34152),d=i(3084);let m=(0,n.Pi)(e=>{var t,i;let{album:n,onOpenChange:m,open:b,wrapperClassName:v,...p}=e,{settings:_,trailer:C}=(0,c.oR4)(),g=(0,u.SB)(n),k=(0,u.BV)(n),h=(0,c.FTC)(),A="".concat(c.aUg.ALBUM,"-").concat(n.id),f=_.layout===c.t8m.Mobile,y=(0,c.RVp)()&&n.isNonMusic,{formatMessage:x}=(0,s.Z)(),{href:V}=(0,c.qKB)(n.url),{isPlaying:j,togglePlay:P}=(0,c.QhE)({seeds:null!==(i=null==n?void 0:n.seeds)&&void 0!==i?i:[],pageIdForFrom:c.Rhz.RADIO,blockIdForFrom:A}),B=(0,a.useCallback)(()=>{j||P()},[j,P]),L=(0,a.useCallback)(()=>{C.openAlbumTrailer(n.id),h(l.OB.Album,String(n.id))},[n.id,h,C]);(0,c.ZP4)(b);let U=(0,a.useMemo)(()=>{if(!f)return(0,r.jsx)(d.Zd,{onClick:k,isPinned:n.isPinned,disabled:!n.isAvailable})},[n.isAvailable,n.isPinned,k,f]),N=(0,a.useMemo)(()=>y?(0,r.jsx)(d.qq,{onClick:g,isLiked:null==n?void 0:n.isLiked,disabled:!n.isAvailable,albumType:n.type}):(0,r.jsx)(d.xZ,{onClick:g,isLiked:null==n?void 0:n.isLiked,disabled:!n.isAvailable}),[n.isAvailable,null==n?void 0:n.isLiked,n.type,g,y]),O=(0,a.useMemo)(()=>{var e;if(!y&&(null===(e=n.trailer)||void 0===e?void 0:e.canShow))return(0,r.jsx)(d.NB,{onClick:L})},[null===(t=n.trailer)||void 0===t?void 0:t.canShow,L,y]),R=(0,a.useMemo)(()=>{if(!y)return(0,r.jsx)(d.GQ,{onClick:B,disabled:!n.isAvailable,variant:"album"})},[n.isAvailable,B,y]);return(0,r.jsxs)(o.v2,{isMobile:f,offsetOptions:10,open:b,onOpenChange:m,ariaLabel:x({id:"interface-actions.context-menu"}),wrapperClassName:v,...p,children:[U,N,O,R,(0,r.jsx)(d.zq,{shareLink:V,entityVariant:"album",entityTitle:n.title})]})})},24298:function(e,t,i){"use strict";i.d(t,{UpcomingAlbumCard:function(){return h}});var r=i(9753),n=i(60836),a=i(9544),s=i(98639),l=i(80542),o=i(31014),u=i(39513),c=i(27491),d=i(28852),m=i(12404),b=i(2570),v=i(40113),p=i(33589),_=i(34152),C=i(3084),g=i(38994),k=i.n(g);let h=(0,a.Pi)(e=>{let{className:t,children:i,upcomingAlbum:a,contentLinesCount:g}=e,{ref:h,intersectionPropertyId:A}=(0,_.VfV)(),{formatMessage:f,formatDate:y}=(0,l.Z)(),x=(0,v.IK)(a),V=(0,s.useMemo)(()=>{let e=f({id:"entity-names.upcoming-album-name"},{upcomingAlbumName:a.title}),t=a.isPresave?f({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(t)},[f,a.title,a.isPresave]),j=(0,s.useMemo)(()=>(0,r.jsxs)(m.Paper,{className:k().cover,radius:"s",withShadow:!0,children:[(0,r.jsx)(C.BE,{className:k().image,src:a.coverUri,size:200,fit:"cover",alt:V,withAvatarReplace:!0}),(0,r.jsx)(c.kk,{className:k().controls,playControl:(0,r.jsx)(u.z,{className:k().lockButton,disabled:!0,radius:"xxxl",variant:"default",size:"s",icon:(0,r.jsx)(d.J,{variant:"lock",size:"xxs",className:k().lockIcon}),"aria-label":f({id:"entity-names.upcoming-album-play-disabled"})}),likeControl:(0,r.jsx)(C.dJ,{className:(0,n.W)(k().control,k().presaveButton),isLiked:a.isPresave,onClick:x,variant:"default",size:"s",iconSize:"xxs"})})]}),[f,x,a.coverUri,a.isPresave,V]);return(0,r.jsxs)(c.m7,{ref:h,className:(0,n.W)(k().root,t),"aria-label":V,explicitMark:a.albumExplicitMark,title:(0,r.jsx)(b.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:a.title}),"data-intersection-property-id":A,contentLinesCount:g,view:j,description:(0,r.jsx)(p.jO,{className:k().artists,artists:a.artists,lineClamp:1,linkClassName:k().artistLink,captionSize:"s"}),children:[(0,r.jsx)(b.Caption,{className:k().releaseDate,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:(0,r.jsx)(o.Z,{id:"entity-names.upcoming-album-date",values:{releaseDate:y(a.releaseDate,(0,_.YTW)())}})}),i]})})},7005:function(e){e.exports={card_root:"HorizontalCardContainer_root__YoAAP",root:"Chart_root__ODed_",position:"Chart_position__7UNY9",position_disliked:"Chart_position_disliked__HzjC7",position_disabled:"Chart_position_disabled__poZzD",progress:"Chart_progress__sGj4s",progress_up:"Chart_progress_up__y083c",progress_same:"Chart_progress_same__Cnbdb",progress_down:"Chart_progress_down__lv_ae",progress_new:"Chart_progress_new__7DobI",progress_disliked:"Chart_progress_disliked__maVAk",progress_disabled:"Chart_progress_disabled__JoFqG"}},96027:function(e){e.exports={root:"AlbumCard_root__vP6k4",root_withChart:"AlbumCard_root_withChart__J2SZv",artists:"AlbumCard_artists__phKco",likeTextButton:"AlbumCard_likeTextButton__2AQd9",controls:"AlbumCard_controls__yuO40",cover:"AlbumCard_cover__zXmdl",coverBlock:"AlbumCard_coverBlock__94ZzY",image:"AlbumCard_image__Mm55s",titleLink:"AlbumCard_titleLink__u_WLG",title:"AlbumCard_title__8YvhT",title_withVersion:"AlbumCard_title_withVersion__NClAp",title_withChart:"AlbumCard_title_withChart__PVOiJ",chart:"AlbumCard_chart__gASdj",version:"AlbumCard_version__h2aJz",artistLink:"AlbumCard_artistLink__uPR_2",playButton:"AlbumCard_playButton__mYK9R",likeButton:"AlbumCard_likeButton__9B9C0",menuButton:"AlbumCard_menuButton__pxkA6",pinButton:"AlbumCard_pinButton__Mdi_E",trailerButton:"AlbumCard_trailerButton__typHh",control:"AlbumCard_control__qx7Xh",plusBadge:"AlbumCard_plusBadge__i0FkP"}},38994:function(e){e.exports={root:"UpcomingAlbumCard_root__lSZ5l",controls:"UpcomingAlbumCard_controls__fQ50f",cover:"UpcomingAlbumCard_cover__qvU1m",image:"UpcomingAlbumCard_image__WKtGR",releaseDate:"UpcomingAlbumCard_releaseDate__EvDzB",artists:"UpcomingAlbumCard_artists__Jp1OE",artistLink:"UpcomingAlbumCard_artistLink__RSqXw",control:"UpcomingAlbumCard_control__pSMdI",presaveButton:"UpcomingAlbumCard_presaveButton__ixwy_",lockButton:"UpcomingAlbumCard_lockButton__9_qyp",lockIcon:"UpcomingAlbumCard_lockIcon__wtvkP"}}}]);