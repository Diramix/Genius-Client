(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4023],{98342:function(t,e,i){"use strict";i.d(e,{m:function(){return l}});var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.createRipple=void 0,a.createRipple=function(t,e,i){let a=null!=i?i:t.currentTarget,l=document.createElement("span"),n=Math.max(a.clientWidth,a.clientHeight),s=n/2,r=a.getBoundingClientRect(),o=0===t.clientX?Math.round(r.width/2):t.clientX-r.left,c=0===t.clientY?Math.round(r.height/2):t.clientY-r.top;l.style.width="".concat(n,"px"),l.style.height="".concat(n,"px"),l.style.left=0===t.clientX?"0px":"".concat(o-s,"px"),l.style.top="".concat(c-s,"px"),l.classList.add(e);let d=a.getElementsByClassName(e)[0];d&&d.remove(),a.insertBefore(l,a.firstChild)},a.__esModule;var l=a.createRipple},20121:function(t,e,i){"use strict";i.d(e,{em:function(){return f},F8:function(){return L},nU:function(){return u},$H:function(){return s}});var a=i(98639),l=i(3429),n=i(34152);let s=t=>{let{entityType:e,isLegalRejected:i,isUnsafeLegal:s,entityId:r,callback:o}=t,{disclaimer:c,modals:{disclaimerModal:d}}=(0,n.oR4)(),u=(0,a.useRef)(String((0,l.Z)())),m=(0,a.useRef)(!1),_=(0,n.uK4)().get(n.ceh);return(0,a.useEffect)(()=>{c.isUnsafeDisclaimerConfirmed&&c.id===u.current&&!m.current&&(null==o||o(),m.current=!0)},[o,c.isUnsafeDisclaimerConfirmed,c.id]),(0,a.useCallback)(async t=>{if(r&&(i||s)){let i=_.get(n.BUb.ExEx);if(s&&(null==i?void 0:i.includes("".concat(e,"_").concat(r)))){null==o||o();return}switch(t.preventDefault(),e){case n.coP.ARTIST:await c.getArtistDisclaimer({artistId:String(r)});break;case n.coP.ALBUM:case n.coP.PODCAST:case n.coP.AUDIOBOOK:await c.getAlbumDisclaimer({albumId:Number(r)});break;case n.coP.TRACK:await c.getTrackDisclaimer({trackId:String(r)})}s&&c.setType(n.Gq.UNSAFE),c.setId(u.current),c.setEntityId(r),c.setEntityType(e),m.current=!1,d.open();return}null==o||o()},[o,c,d,r,e,i,s,_])};var r=i(42288);let o=t=>t.details?(0,r.pj)({title:t.title,description:t.description,details:{text:t.details.text,url:t.details.url}}):(0,r.pj)({title:t.title,description:t.description}),c=r.V5.model("DisclaimerDetails",{text:r.V5.maybe(r.V5.string),url:r.V5.maybe(r.V5.string)}),d=r.V5.model("DisclaimerData",{title:r.V5.maybe(r.V5.string),description:r.V5.maybe(r.V5.string),details:r.V5.maybe(c)}),u=r.V5.model("Disclaimer",{loadingState:r.V5.enumeration(Object.values(n.Gui)),data:r.V5.maybeNull(d),type:r.V5.maybeNull(r.V5.enumeration(Object.values(n.Gq))),id:r.V5.maybeNull(r.V5.string),entityType:r.V5.maybeNull(r.V5.enumeration(Object.values(n.coP))),entityId:r.V5.maybeNull(r.V5.union(r.V5.string,r.V5.number)),isUnsafeDisclaimerConfirmed:r.V5.optional(r.V5.boolean,!1),shouldHistoryBack:r.V5.optional(r.V5.boolean,!1)}).views(t=>({get isLoading(){return t.loadingState===n.Gui.IDLE||t.loadingState===n.Gui.PENDING},get isRejected(){return t.loadingState===n.Gui.REJECT}})).actions(t=>({getArtistDisclaimer:(0,r.ls)(function*(e){let{artistId:i}=e,{artistsResource:a,modelActionsLogger:l}=(0,r.dU)(t);if(t.loadingState!==n.Gui.PENDING)try{t.loadingState=n.Gui.PENDING;let e=yield a.getDisclaimer({artistId:i});e.modal&&(t.data=o(e.modal)),t.loadingState!==n.Gui.IDLE&&(t.loadingState=n.Gui.RESOLVE)}catch(e){l.error(e),t.loadingState!==n.Gui.IDLE&&(t.loadingState=n.Gui.REJECT)}}),getAlbumDisclaimer:(0,r.ls)(function*(e){let{albumId:i}=e,{albumResource:a,modelActionsLogger:l}=(0,r.dU)(t);if(t.loadingState!==n.Gui.PENDING)try{t.loadingState=n.Gui.PENDING;let e=yield a.getDisclaimer({albumId:i});e.modal&&(t.data=o(e.modal)),t.loadingState!==n.Gui.IDLE&&(t.loadingState=n.Gui.RESOLVE)}catch(e){l.error(e),t.loadingState!==n.Gui.IDLE&&(t.loadingState=n.Gui.REJECT)}}),getTrackDisclaimer:(0,r.ls)(function*(e){let{trackId:i}=e,{tracksResource:a,modelActionsLogger:l}=(0,r.dU)(t);if(t.loadingState!==n.Gui.PENDING)try{t.loadingState=n.Gui.PENDING;let e=yield a.getDisclaimer({trackId:i});e.modal&&(t.data=o(e.modal)),t.loadingState!==n.Gui.IDLE&&(t.loadingState=n.Gui.RESOLVE)}catch(e){l.error(e),t.loadingState!==n.Gui.IDLE&&(t.loadingState=n.Gui.REJECT)}}),setId(e){t.id=e},setType(e){t.type=e},setEntityType(e){t.entityType=e},setEntityId(e){t.entityId=e},setConfirmUnsafeDisclaimer(e){t.isUnsafeDisclaimerConfirmed=e},setShouldHistoryBack(e){t.shouldHistoryBack=e},reset(){t.loadingState=n.Gui.IDLE,t.data=null,t.id=null,t.type=null,t.entityType=null,t.entityId=null,t.isUnsafeDisclaimerConfirmed=!1,t.shouldHistoryBack=!1}}));var m=i(9753),_=i(60836),k=i(9544),p=i(31014),v=i(23881),x=i(39513),C=i(90679),y=i(2570),b=i(3084),g=i(62452),h=i.n(g);let T={[n.coP.ALBUM]:(0,m.jsx)(p.Z,{id:"extra-explicit.confirm-unsafe-album"}),[n.coP.PODCAST]:(0,m.jsx)(p.Z,{id:"extra-explicit.confirm-unsafe-podcast"}),[n.coP.ARTIST]:(0,m.jsx)(p.Z,{id:"extra-explicit.confirm-unsafe-artist"}),[n.coP.TRACK]:(0,m.jsx)(p.Z,{id:"extra-explicit.confirm-unsafe-track"}),[n.coP.AUDIOBOOK]:(0,m.jsx)(p.Z,{id:"extra-explicit.confirm-unsafe-audiobook"})},f=(0,k.Pi)(t=>{var e,i,l,s;let{disclaimer:r,onClose:o,className:c}=t,{data:d,isLoading:u}=null!=r?r:{},{href:k}=(0,n.zBm)(null!==(s=null==r?void 0:null===(i=r.data)||void 0===i?void 0:null===(e=i.details)||void 0===e?void 0:e.url)&&void 0!==s?s:""),g=(0,n.k67)(),f=(0,n.s0h)("/"),N=(0,n.uK4)().get(n.ceh),j=(0,a.useCallback)(()=>{if(o)return o();g.canBack&&g.back(),f()},[o,g,f]),I=(null==d?void 0:null===(l=d.details)||void 0===l?void 0:l.url)&&d.details.text,L=(0,a.useCallback)(()=>{null==r||r.setConfirmUnsafeDisclaimer(!0);let t=N.get(n.BUb.ExEx),e=new Date,i=e.setMinutes(e.getMinutes()+15);t?N.set(n.BUb.ExEx,[...t,"".concat(null==r?void 0:r.entityType,"_").concat(null==r?void 0:r.entityId)],{expires:new Date(i)}):N.set(n.BUb.ExEx,["".concat(null==r?void 0:r.entityType,"_").concat(null==r?void 0:r.entityId)],{expires:new Date(i)}),null==o||o()},[r,N,o]),A=(0,a.useCallback)(()=>{(null==r?void 0:r.shouldHistoryBack)?(null==o||o(),g.canBack&&g.back(),f()):null==o||o()},[null==r?void 0:r.shouldHistoryBack,g,f,o]);(0,a.useEffect)(()=>()=>{null==r||r.reset()},[r]);let D=(0,a.useMemo)(()=>{if(u)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(C.Shimmer,{radius:"l",width:200,height:24,className:h().shimmer}),(0,m.jsx)(C.Shimmer,{radius:"l",width:250,height:16,className:h().shimmer})]});if(d&&!u){var t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Heading,{variant:"h4",size:"l",className:(0,_.W)(h().title,h().text),...(0,v.BA)(v.FK.disclaimer.DISCLAIMER_TITLE),children:d.title}),(0,m.jsx)(y.Caption,{variant:"div",size:"l",weight:"normal",className:h().text,...(0,v.BA)(v.FK.disclaimer.DISCLAIMER_DESCRIPTION),children:d.description}),I&&(0,m.jsx)(b.rU,{href:k,className:h().link,children:(0,m.jsx)(y.Caption,{variant:"span",size:"l",weight:"normal",children:null===(t=d.details)||void 0===t?void 0:t.text})})]})}},[u,d,k,I]),E=(0,a.useMemo)(()=>u?(0,m.jsx)(C.Shimmer,{radius:"xl",width:190,height:50,className:h().shimmer}):(null==r?void 0:r.type)===n.Gq.UNSAFE?(0,m.jsxs)("div",{className:h().buttons,children:[(0,m.jsx)(x.z,{color:"primary",onClick:A,size:"l",radius:"xxxl",className:h().button,children:(0,m.jsx)(p.Z,{id:"extra-explicit.reject-unsafe-entity"})}),(0,m.jsx)(x.z,{color:"secondary",onClick:L,size:"l",radius:"xxxl",className:h().button,children:r.entityType&&T[r.entityType]})]}):(0,m.jsx)("div",{className:h().buttons,children:(0,m.jsx)(x.z,{color:"primary",onClick:j,size:"l",radius:"xxxl",className:h().button,...(0,v.BA)(v.FK.disclaimer.DISCLAIMER_REJECT_BUTTON),children:(0,m.jsx)(p.Z,{id:"interface-actions.confirm"})})}),[L,null==r?void 0:r.entityType,null==r?void 0:r.type,j,u,A]);return(0,m.jsx)("div",{className:(0,_.W)(h().root,c),...(0,v.BA)(v.FK.disclaimer.DISCLAIMER_MODAL),children:(0,m.jsxs)("div",{className:h().container,children:[D,E]})})});var N=i(89352),j=i(8554),I=i.n(j);let L=(0,k.Pi)(()=>{let{disclaimer:t,modals:{disclaimerModal:e}}=(0,n.oR4)();return(0,m.jsx)(N.u,{size:"fitContent",placement:"center",open:e.isOpened,onOpenChange:e.onOpenChange,onClose:e.close,showHeader:!1,className:I().root,contentClassName:I().content,children:(0,m.jsx)(f,{disclaimer:t,onClose:e.close})})})},44023:function(t,e,i){"use strict";i.d(e,{MG:function(){return E.AudiobookMeta},jt:function(){return L.ControlsBar},Jx:function(){return T},wT:function(){return D.PodcastMeta},RJ:function(){return c.TrackAlbum},G7:function(){return N.TrackCard},_3:function(){return o.TrackChart},hz:function(){return I.TrackContextMenu},Nl:function(){return W},ko:function(){return A.TrackMeta},le:function(){return x},FP:function(){return s.TrackNonMusic},O2:function(){return a.TrackPlaylist},VZ:function(){return n.TrackPlaylistAddition},qL:function(){return d.TrackUgcUpload},dn:function(){return u.TrailerTrackAlbum},fY:function(){return l.TrailerTrackPlaylist},bc:function(){return y},cO:function(){return r.c},S7:function(){return f},o:function(){return U},E5:function(){return P},Vt:function(){return h},Z2:function(){return j},Wc:function(){return M.W},nD:function(){return B.useTrackDisclaimer}});var a=i(1776),l=i(71456),n=i(5670),s=i(5510),r=i(80485),o=i(96414),c=i(639),d=i(53368),u=i(37379),m=i(42288),_=i(40113),k=i(33589),p=i(94342),v=i(58852);let x=v.yp.props({artists:m.V5.array(k.Go),albums:m.V5.array(_.KX),chart:m.V5.maybe(p.BH)}).views(t=>({get artistsNames(){var e;return null===(e=t.artists)||void 0===e?void 0:e.map(t=>t.name).join(", ")},get mainAlbum(){var i,a;return null!==(a=null===(i=t.albums)||void 0===i?void 0:i[0])&&void 0!==a?a:null},get index(){var l,n,s;return null!==(s=null===(n=t.albums[0])||void 0===n?void 0:null===(l=n.trackPosition)||void 0===l?void 0:l.index)&&void 0!==s?s:null}})).named("Track"),C=m.V5.model("Credit",{title:m.V5.string,value:m.V5.string}),y=m.V5.compose(x,v.v$).named("UgcTrack");var b=i(34152),g=i(395);let h=(t,e)=>{var i,a;let l=null===(i=t.artists)||void 0===i?void 0:i.map(k.d),n=null===(a=t.albums)||void 0===a?void 0:a.map(_.N);return(0,m.pj)({...(0,v.Ni)(t,e),artists:l,albums:n})},T=m.V5.model("CurrentTrackInfo",{id:m.V5.maybeNull(m.V5.union(m.V5.string,m.V5.number)),albumId:m.V5.maybeNull(m.V5.number),isUGC:m.V5.maybeNull(m.V5.boolean),trackLoadingState:m.V5.enumeration(Object.values(b.Gui)),fullTrack:m.V5.maybeNull(x),creditsLoadingState:m.V5.enumeration(Object.values(b.Gui)),credits:m.V5.maybeNull(m.V5.array(C)),modal:g.KL,fullDescription:m.V5.maybeNull(m.V5.string),descriptionLoadingState:m.V5.enumeration(Object.values(b.Gui))}).views(t=>({get isTrackIdle(){return t.trackLoadingState===b.Gui.IDLE},get isCreditsIdle(){return t.creditsLoadingState===b.Gui.IDLE},get isTrackLoading(){return t.trackLoadingState===b.Gui.PENDING||t.trackLoadingState===b.Gui.IDLE},get isTrackRejected(){return t.trackLoadingState===b.Gui.REJECT},get isCreditsLoading(){return t.creditsLoadingState===b.Gui.PENDING||t.creditsLoadingState===b.Gui.IDLE},get isCreditsRejected(){return t.creditsLoadingState===b.Gui.REJECT},get isRejected(){return t.creditsLoadingState===b.Gui.REJECT&&t.trackLoadingState===b.Gui.REJECT}})).actions(t=>({setTrack(e){let{id:i,albumId:a,isUGC:l}=e;t.id=i,t.albumId=a,t.isUGC=l},getFullTrack:(0,m.ls)(function*(){let{tracksResource:e,modelActionsLogger:i}=(0,m.dU)(t);if(!t.id||t.trackLoadingState===b.Gui.PENDING)return null;try{t.trackLoadingState=b.Gui.PENDING;let i=yield e.getFullInfoTrack({trackId:t.id,albumId:t.albumId});if(!i)return null;t.fullTrack=(0,m.pj)(h(i.track)),t.trackLoadingState=b.Gui.RESOLVE}catch(e){i.error(e),t.trackLoadingState=b.Gui.REJECT}return null}),getFullDescription:(0,m.ls)(function*(){let{tracksResource:e,modelActionsLogger:i}=(0,m.dU)(t);if(!t.id||t.descriptionLoadingState===b.Gui.PENDING)return null;try{t.descriptionLoadingState=b.Gui.PENDING;let i=yield e.getFullDescriptionTrack({trackId:t.id});if(!i)return null;t.fullDescription=i.description,t.descriptionLoadingState=b.Gui.RESOLVE}catch(e){i.error(e),t.descriptionLoadingState=b.Gui.REJECT}return null}),getTrackMeta:(0,m.ls)(function*(){let{tracksResource:e,modelActionsLogger:i}=(0,m.dU)(t);if(!t.id||t.trackLoadingState===b.Gui.PENDING)return null;try{t.trackLoadingState=b.Gui.PENDING;let i=yield e.getTracksMeta({trackIds:[t.id],removeDuplicates:!0});if(!i||!i.length)return null;i[0]&&(t.fullTrack=(0,m.pj)(h(i[0])),t.trackLoadingState=b.Gui.RESOLVE)}catch(e){i.error(e),t.trackLoadingState=b.Gui.REJECT}return null}),getCreditsInfo:(0,m.ls)(function*(){let{tracksResource:e,modelActionsLogger:i}=(0,m.dU)(t);if(!t.id||t.creditsLoadingState===b.Gui.PENDING)return null;try{t.creditsLoadingState=b.Gui.PENDING;let i=yield e.getCredits({trackId:t.id});t.credits=(0,m.pj)(null==i?void 0:i.credits),t.creditsLoadingState=b.Gui.RESOLVE}catch(e){i.error(e),t.creditsLoadingState=b.Gui.REJECT}return null}),reset(){t.id=null,t.albumId=null,t.isUGC=null,t.trackLoadingState=b.Gui.IDLE,t.descriptionLoadingState=b.Gui.IDLE,t.creditsLoadingState=b.Gui.IDLE,t.fullTrack=null,t.credits=null}})),f=(t,e)=>(0,m.pj)({...h(t),chart:e&&(0,p.W5)(e)});var N=i(99846);let j=t=>{var e,i;return(0,m.pj)({...h(t),artists:null!==(i=null==t?void 0:null===(e=t.artists)||void 0===e?void 0:e.map(k.d))&&void 0!==i?i:[]})};var I=i(82245),L=i(93393);i(76315);var A=i(47192),D=i(53961),E=i(83906),S=i(92894);let P=t=>({type:S.RX.Unloaded,meta:{id:t.albumId?"".concat(t.id,":").concat(t.albumId):t.id}});var M=i(16030),B=i(44660),R=i(38009);let U=(t,e)=>{let i=Math.floor(Date.now()/1e3),a="".concat(t).concat(i);return{sign:(0,R.createHmac)("sha256",(0,b.Sqh)()).update(a).digest("base64"),timeStamp:i,trackId:t,format:e}};var G=i(24244),O=i(3429),w=i(40193);let W=m.V5.model("TrackLyrics",{loadingState:m.V5.enumeration(Object.values(b.Gui)),lyrics:m.V5.maybeNull(m.V5.string),major:m.V5.maybeNull(v.bP),lyricId:m.V5.maybeNull(m.V5.number),writers:m.V5.array(m.V5.string),externalLyricId:m.V5.maybeNull(m.V5.string),modal:g.KL,track:m.V5.maybeNull(x),prevTrackId:m.V5.maybeNull(m.V5.union(m.V5.string,m.V5.number))}).views(t=>({get isNeededToLoad(){return t.loadingState===b.Gui.IDLE},get isLoading(){return t.loadingState===b.Gui.IDLE||t.loadingState===b.Gui.PENDING},get isRejected(){return t.loadingState===b.Gui.REJECT},get isResolve(){return t.loadingState===b.Gui.RESOLVE},get writersNames(){return t.writers.join(", ")},get hasWriters(){return 0!==t.writers.length},get isPrevTrack(){var e;return t.prevTrackId===(null===(e=t.track)||void 0===e?void 0:e.id)}})).actions(t=>{let e={setTrack(e){t.track=(0,m.pj)({...(0,G.ZN)(e)})},getLyrics:(0,m.ls)(function*(i){let{tracksResource:a,modelActionsLogger:l}=(0,m.dU)(t);if(t.loadingState!==b.Gui.PENDING&&!t.isPrevTrack)try{t.loadingState=b.Gui.PENDING,t.lyrics=null;let{downloadUrl:l,major:n,externalLyricId:s,lyricId:r,writers:o}=yield a.getLyrics(U(i,w.yG.TEXT));yield e.downloadLyrics(l),t.major=(0,v.jp)(n),t.externalLyricId=s,t.lyricId=r,t.writers=(0,m.pj)(o||[]),t.prevTrackId=i,t.loadingState=b.Gui.RESOLVE}catch(e){t.loadingState=b.Gui.REJECT,l.error(e)}}),downloadLyrics:(0,m.ls)(function*(e){let{tracksResource:i}=(0,m.dU)(t),a=yield i.getLyricsText(e);t.lyrics=a}),sendViews:(0,m.ls)(function*(e){let{trackId:i,albumId:a}=e,{lyricViewsResource:l,modelActionsLogger:n}=(0,m.dU)(t);if(t.loadingState===b.Gui.RESOLVE||t.isPrevTrack)try{if(!t.major||!t.lyricId||!t.externalLyricId)return;yield l.sendViews({lyricViews:[{id:(0,O.Z)(),trackId:i,majorId:t.major.id,lyricId:t.lyricId,externalLyricId:t.externalLyricId,lyricFormat:w.yG.TEXT,albumId:a}]})}catch(t){n.error(t)}}),reset(){t.loadingState=b.Gui.IDLE}};return e});i(11867),i(49522)},18269:function(t,e,i){"use strict";i.d(e,{p:function(){return l}});var a=i(90454);let l=function(){var t,e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===(e=i[0])||void 0===e?void 0:null===(t=e.decomposed)||void 0===t?void 0:t.length)return i;let n=l.map(t=>t.id).sort(),s=i.map(t=>t.id).sort();return(0,a.Z)(n,s)?[]:i.filter(t=>!t.various)}},16030:function(t,e,i){"use strict";i.d(e,{W:function(){return o}});var a=i(9753),l=i(98639),n=i(10668),s=i(58852),r=i(34152);let o=()=>{let{notify:t}=(0,r.d$W)(),{playlist:e,fullscreenPlayer:i}=(0,r.oR4)(),o=(0,r.RVp)(),c=(0,l.useCallback)(l=>{var c,d;let{withSuccessNotification:u,withPageRefresh:m,playlist:_,track:k}=l;if(u){let e=(0,s.tx)(k,o);t((0,a.jsx)(n.XD,{entityTitle:k.title,entityVariant:e,entityCoverUri:null!==(d=k.coverUri)&&void 0!==d?d:"",playlist:_}),{containerId:i.modal.isOpened?r.W$x.FULLSCREEN_INFO:r.W$x.INFO})}m&&_.uuid===(null===(c=e.meta)||void 0===c?void 0:c.uuid)&&e.refresh()},[i.modal.isOpened,o,t,e]),d=(0,l.useCallback)(e=>{let{withFailNotification:l}=e;l&&t((0,a.jsx)(n.wi,{}),{containerId:i.modal.isOpened?r.W$x.FULLSCREEN_ERROR:r.W$x.ERROR})},[i.modal.isOpened,t]);return(0,l.useCallback)(async t=>{var e;let{playlist:i,track:a,withSuccessNotification:l=!0,withFailNotification:s=!0,withPageRefresh:r=!0}=t,o=await i.changePlaylist((0,n.PG)({operation:n.aL.INSERT,position:0,tracks:[{id:a.id,albumId:null===(e=a.mainAlbum)||void 0===e?void 0:e.id}]}));return o===n.pX.OK?c({withSuccessNotification:l,withPageRefresh:r,playlist:i,track:a}):d({withFailNotification:s}),o},[c,d])}},54264:function(t,e,i){"use strict";i.d(e,{T:function(){return l}});var a=i(34152);function l(t){let{withCustomTooltip:e}=t,{settings:i}=(0,a.oR4)(),{userAgent:l}=(0,a.$Y6)(),n=i.layout===a.t8m.Mobile;return!("Safari"===l.browserName||n)&&e}},11867:function(t,e,i){"use strict";i.d(e,{B:function(){return o}});var a=i(9753),l=i(98639),n=i(10668),s=i(58852),r=i(34152);let o=()=>{let{notify:t}=(0,r.d$W)(),{playlist:e,fullscreenPlayer:i}=(0,r.oR4)(),o=(0,r.RVp)(),c=(0,l.useCallback)(l=>{var c,d;let{withSuccessNotification:u,withPageRefresh:m,playlist:_,track:k}=l;if(u&&k&&_){let e=(0,s.tx)(k,o);t((0,a.jsx)(n.H2,{entityTitle:k.title,entityVariant:e,entityCoverUri:null!==(d=k.coverUri)&&void 0!==d?d:"",playlist:_}),{containerId:i.modal.isOpened?r.W$x.FULLSCREEN_INFO:r.W$x.INFO})}m&&(null==_?void 0:_.uuid)===(null===(c=e.meta)||void 0===c?void 0:c.uuid)&&e.refresh()},[i.modal.isOpened,o,t,e]),d=(0,l.useCallback)(e=>{let{withFailNotification:l}=e;l&&t((0,a.jsx)(n.BQ,{}),{containerId:i.modal.isOpened?r.W$x.FULLSCREEN_ERROR:r.W$x.ERROR})},[i.modal.isOpened,t]);return(0,l.useCallback)(async t=>{let{playlist:e,track:i,trackIndex:a,withSuccessNotification:l=!0,withFailNotification:s=!0,withPageRefresh:r=!0}=t,o=await e.changePlaylist((0,n.PG)({operation:n.aL.DELETE,startPosition:a,endPosition:a+1}));return o===n.pX.OK?c({withSuccessNotification:l,withPageRefresh:r,playlist:e,track:i}):d({withFailNotification:s}),o},[c,d])}},49522:function(t,e,i){"use strict";i.d(e,{useRemoveTrackFromPlaylistByIndex:function(){return c}});var a=i(9753),l=i(98639),n=i(80542),s=i(10668),r=i(34152),o=i(3084);let c=()=>{let{playlist:t,trackIndex:e}=(0,l.useContext)(s.jK)||{},{notify:i}=(0,r.d$W)(),{playlist:c}=(0,r.oR4)(),{formatMessage:d}=(0,n.Z)(),u=(0,l.useCallback)(async()=>{let l=!1;if(t&&"number"==typeof e&&await t.changePlaylist((0,s.PG)({operation:s.aL.DELETE,startPosition:e,endPosition:e+1}))===s.pX.OK&&(l=!0),l){if(t&&"number"==typeof e){var n;t.uuid===(null===(n=c.meta)||void 0===n?void 0:n.uuid)&&c.removeTracksFromItems(e,1)}}else i((0,a.jsx)(o.Q,{error:d({id:"playlist-errors.failed-to-remove-track"})}),{containerId:r.W$x.ERROR})},[t,e,c,i,d]);return{canRemoveTrackFromPlaylist:!!(null==t?void 0:t.canUserChange),removeTrackFromPlaylist:u}}},44660:function(t,e,i){"use strict";i.d(e,{useTrackDisclaimer:function(){return s}});var a=i(98639),l=i(3429),n=i(34152);let s=t=>{let{track:e,callback:i}=t,{disclaimer:s,modals:{disclaimerModal:r}}=(0,n.oR4)(),o=(0,a.useRef)(String((0,l.Z)())),c=(0,a.useRef)(!1),d=(0,n.uK4)().get(n.ceh);return(0,a.useEffect)(()=>{s.isUnsafeDisclaimerConfirmed&&s.id===o.current&&!c.current&&(null==i||i(),c.current=!0)},[i,s.isUnsafeDisclaimerConfirmed,s.id]),(0,a.useCallback)(async t=>{if(e.isLegalRejected||e.isUnsafeLegal){let a=d.get(n.BUb.ExEx);if(e.isUnsafeLegal&&(null==a?void 0:a.includes("".concat(n.coP.TRACK,"_").concat(e.id)))){null==i||i();return}null==t||t.preventDefault(),await s.getTrackDisclaimer({trackId:e.id}),e.isUnsafeLegal&&s.setType(n.Gq.UNSAFE),s.setId(o.current),s.setEntityId(e.id),s.setEntityType(n.coP.TRACK),c.current=!1,r.open();return}null==i||i()},[i,s,r,d,e.id,e.isLegalRejected,e.isUnsafeLegal])}},76315:function(t,e,i){"use strict";i.d(e,{useTrackModalTitle:function(){return n}});var a=i(80542),l=i(40193);let n=t=>{var e;let{formatMessage:i}=(0,a.Z)();return i((null==t?void 0:t.type)===l.Vc.AUDIOBOOK?{id:"track-modal.audiobook-title"}:(null==t?void 0:t.isTrackPodcast)||(null==t?void 0:null===(e=t.mainAlbum)||void 0===e?void 0:e.isPodcast)?{id:"track-modal.podcast-title"}:{id:"track-modal.title"})}},54355:function(t,e,i){"use strict";i.d(e,{x:function(){return o}});var a=i(9753),l=i(60836),n=i(28852),s=i(81032),r=i.n(s);let o=t=>{let{isDragging:e,className:i}=t;return(0,a.jsx)(n.J,{variant:"dragDots",size:"xxs",className:(0,l.W)(r().root,{[r().root_active]:e},i),"aria-hidden":!0})}},93393:function(t,e,i){"use strict";i.d(e,{ControlsBar:function(){return x}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(23881),c=i(28852),d=i(2570),u=i(58852),m=i(34152),_=i(3084),k=i(82245),p=i(26889),v=i.n(p);let x=(0,n.Pi)(t=>{let{className:e,track:i,withLightning:n,ignoreDislikedStyles:p,onLikeClick:x,onDislikeClick:C}=t,{user:y}=(0,m.oR4)(),{formatMessage:b}=(0,r.Z)(),{sendLikeSearchFeedback:g}=(0,m.sAF)(),[h,T]=(0,s.useState)(!1),[f,N]=(0,s.useState)(!1),j=(0,u.SB)(i),I=(0,u.KX)(i),L=(0,s.useMemo)(()=>{let t=Math.round((i.durationMs||0)/1e3);return(0,m.gf)(t)},[i.durationMs]),A=(0,s.useCallback)(async()=>{h||i.isLiked||(T(!0),null==g||g()),await j(),null==x||x(i.isLiked)},[j,x,h,g,i.isLiked]),D=(0,s.useCallback)(async()=>{await I(),null==C||C(i.isDisliked)},[I,C,i.isDisliked]),E=(0,s.useCallback)(t=>{t.stopPropagation()},[]),S=(0,s.useMemo)(()=>{if(y.isAuthorized&&!i.isRemoved&&i.isAvailable)return(0,a.jsx)(k.TrackContextMenu,{track:i,open:f,onOpenChange:N,placement:"bottom",icon:(0,a.jsx)(c.J,{size:"xs",variant:"more"}),size:"xs",onClick:E,className:(0,l.W)(v().contextMenu,{[v().contextMenu_visible]:f}),...(0,o.BA)(o.bG.track.TRACK_CONTEXT_MENU_BUTTON)})},[E,f,i,y.isAuthorized]);return(0,a.jsxs)("div",{className:(0,l.W)(v().root,v().controls,e,{[v().controls_dislikedControls]:i.isDisliked,[v().controls_dislikedColors]:i.isDisliked&&!p,[v().controls_disabled]:!i.isAvailable}),children:[n&&(0,a.jsx)(c.J,{"aria-label":b({id:"entity-names.popular-among-users"}),size:"xxs",className:v().lightning,variant:"lightning"}),y.isAuthorized&&!i.isRemoved&&i.isAvailable&&(0,a.jsx)(_.dJ,{size:"xs",iconSize:"xxs",className:(0,l.W)(v().item,v().likeIcon),isLiked:i.isLiked,onClick:A}),y.isAuthorized&&!i.isRemoved&&i.isAvailable&&(0,a.jsx)(_.Q1,{size:"xs",iconSize:"xxs",className:(0,l.W)(v().item,v().dislikeIcon),isDisliked:i.isDisliked,onClick:D}),(0,a.jsxs)("div",{className:(0,l.W)(v().item,v().contextMenuWrapper),children:["number"==typeof i.durationMs&&(0,a.jsx)(d.Caption,{variant:"span",className:(0,l.W)(v().duration,{[v().duration_hidden]:f}),type:"entity",size:"m",weight:"medium",children:L}),S]})]})})},83906:function(t,e,i){"use strict";i.d(e,{AudiobookMeta:function(){return T}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(31014),c=i(96622),d=i(5773),u=i(2570),m=i(54264),_=i(33589),k=i(20121),p=i(58852),v=i(34152),x=i(3084),C=i(18269),y=i(41894),b=i.n(y),g=i(21116),h=i.n(g);let T=(0,n.Pi)(t=>{let{track:e,className:i,withAuthor:n=!1,withSecondaryColor:y=!1,withListeningProgress:g=!1,captionSize:T="m",explicitSize:f="xs",withExplicitMark:N=!0,titleContainerClassName:j,textClassName:I,playContextParams:L,withTimeLeftText:A=!0,ignoreDislikedStyles:D,withBookLink:E,albumArtists:S,withCustomTooltip:P=!0}=t,{fullscreenPlayer:M}=(0,v.oR4)(),{formatMessage:B}=(0,r.Z)(),R=(0,m.T)({withCustomTooltip:P}),U=e.mainAlbum,G=(0,v.s0h)(null==U?void 0:U.url),O=(0,k.$H)({entityType:v.coP.AUDIOBOOK,entityId:null==U?void 0:U.id,isLegalRejected:!!(null==U?void 0:U.isLegalRejected),isUnsafeLegal:!!(null==U?void 0:U.isUnsafeLegal),callback:G}),w=(0,s.useCallback)(t=>{M.modal.isOpened&&M.modal.close(),O(t)},[M.modal,O]),W=(0,s.useMemo)(()=>(0,C.p)(e.artists,S),[e.artists,S,e.id]),V=W.length>0&&n,z=(0,s.useMemo)(()=>e.isRemoved?(0,a.jsx)(o.Z,{id:"track-title.audiobook-not-found"}):E&&U?(0,a.jsx)(x.rU,{"aria-label":B({id:"entity-names.audiobook-name"},{bookName:U.title}),className:b().albumLink,href:U.url,title:R?void 0:e.title,onClick:w,children:(0,a.jsx)(d.u,{enabled:R,offsetOptions:4,placement:"top",text:e.title,hoverSettings:v.cHI,children:(0,a.jsx)(u.Caption,{className:b().title,type:"entity",size:T,variant:"span",children:e.title})})}):(0,a.jsx)(d.u,{enabled:R,offsetOptions:4,placement:"top",text:e.title,hoverSettings:v.cHI,children:(0,a.jsx)(u.Caption,{className:b().title,type:"entity",size:T,variant:"span",title:R?void 0:e.title,children:e.title})}),[e.isRemoved,e.title,E,U,T,B,R,w]);return(0,a.jsx)("div",{className:(0,l.W)(b().root,{[b().root_disabled]:!e.isAvailable,[b().root_disliked]:e.isDisliked&&!D,[b().root_withSecondaryColor]:y},i),children:(0,a.jsxs)("div",{className:(0,l.W)(b().metaContainer,h().metaContainer,{[h().metaContainer_oneLine]:!n}),children:[(0,a.jsxs)("div",{className:(0,l.W)(b().titleContainer,j,h().titleContainer),children:[(0,a.jsx)(u.Caption,{className:(0,l.W)(b().text,I),type:"entity",size:T,variant:"div",lineClamp:1,children:z}),e.trackExplicitMark&&N&&(0,a.jsx)(c.ExplicitMark,{variant:c.ExplicitMarkVariant.NUMERIC,className:(0,l.W)(b().explicitMark,h().explicitMark),iconSize:f})]}),V&&(0,a.jsx)(u.Caption,{type:"entity",size:T,variant:"div",lineClamp:1,className:(0,l.W)(b().text,h().artists,I),children:(0,a.jsx)(_.jO,{className:(0,l.W)(b().text,b().artists,I),linkClassName:(0,l.W)(b().text,b().link),captionClassName:(0,l.W)(b().text,b().artistCaption),artists:W,withLink:!e.isUGC,lineClamp:1,captionSize:T,withAllArtistsTitle:!0,withCustomTooltip:R})}),g&&L&&e.shouldRememberPosition&&e.streamProgress&&e.durationMs&&(0,a.jsx)(p.DR,{className:(0,l.W)(h().progress,{[h().progress_withPreviousInfo]:V,[h().progress_disabled]:!e.isAvailable||e.isDisliked}),id:e.id,albumId:e.albumId,streamProgress:e.streamProgress,durationMs:e.durationMs,playContextParams:L,withTimeLeftText:A})]})})})},53961:function(t,e,i){"use strict";i.d(e,{PodcastMeta:function(){return h}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(31014),c=i(32693),d=i(96622),u=i(5773),m=i(2570),_=i(54264),k=i(20121),p=i(58852),v=i(34152),x=i(3084),C=i(41894),y=i.n(C),b=i(14795),g=i.n(b);let h=(0,n.Pi)(t=>{let{track:e,className:i,withPodcastName:n=!1,withDate:C=!0,withSecondaryColor:b=!1,withListeningProgress:h=!1,captionSize:T="m",explicitSize:f="xs",withExplicitMark:N=!0,titleContainerClassName:j,textClassName:I,playContextParams:L,withTimeLeftText:A=!0,ignoreDislikedStyles:D,withCustomTooltip:E=!0}=t,{fullscreenPlayer:S}=(0,v.oR4)(),{formatMessage:P}=(0,r.Z)(),M=(0,_.T)({withCustomTooltip:E}),B=e.mainAlbum,R=B&&n,U=e.pubDate?new Date(e.pubDate):new Date,G=(0,v.u9c)(U),O=!1,w=(0,v.s0h)("/album/".concat(null==B?void 0:B.id)),W=(0,k.$H)({entityType:v.coP.PODCAST,entityId:null==B?void 0:B.id,isLegalRejected:!!(null==B?void 0:B.isLegalRejected),isUnsafeLegal:!!(null==B?void 0:B.isUnsafeLegal),callback:w}),V=(0,s.useCallback)(()=>{switch(G){case v.UvK.TODAY:return(0,a.jsx)(o.Z,{id:"interface-actions.date-today"});case v.UvK.YESTERDAY:return(0,a.jsx)(o.Z,{id:"interface-actions.date-yesterday"});case v.UvK.DATE_WITH_YEAR:return(0,a.jsx)(c.Ji,{value:e.pubDate,month:"long",day:"numeric",year:"numeric"});default:return(0,a.jsx)(c.Ji,{value:e.pubDate,month:"long",day:"numeric"})}},[e.pubDate,G]);e.pubDate&&C&&(O=[v.UvK.TODAY,v.UvK.YESTERDAY].includes(G));let z=(0,s.useCallback)(t=>{S.modal.isOpened&&S.modal.close(),W(t)},[S.modal,W]),K=(0,s.useMemo)(()=>e.isRemoved?(0,a.jsx)(u.u,{enabled:M,offsetOptions:4,placement:"top",text:P({id:"track-title.podcast-not-found"}),hoverSettings:v.cHI,children:(0,a.jsx)("span",{children:(0,a.jsx)(o.Z,{id:"track-title.podcast-not-found"})})}):(0,a.jsx)(u.u,{enabled:M,offsetOptions:4,placement:"top",text:e.title,hoverSettings:v.cHI,children:(0,a.jsx)(m.Caption,{className:y().title,type:"entity",size:T,variant:"span",title:M?void 0:e.title,children:e.title})}),[e.isRemoved,e.title,T,M,P]);return(0,a.jsx)("div",{className:(0,l.W)(y().root,{[y().root_disabled]:!e.isAvailable,[y().root_disliked]:e.isDisliked&&!D,[y().root_withSecondaryColor]:b},i),children:(0,a.jsxs)("div",{className:(0,l.W)(y().metaContainer,g().podcastMetaContainer),children:[(0,a.jsxs)("div",{className:(0,l.W)(y().titleContainer,j,g().podcastTitleContainer),children:[(0,a.jsx)(m.Caption,{className:(0,l.W)(y().text,I),type:"entity",size:T,variant:"div",lineClamp:1,children:K}),e.trackExplicitMark&&N&&(0,a.jsx)(d.ExplicitMark,{variant:d.ExplicitMarkVariant.NUMERIC,className:(0,l.W)(y().explicitMark,g().explicitMark),iconSize:f})]}),(0,a.jsxs)(m.Caption,{type:"entity",size:T,variant:"div",lineClamp:1,className:(0,l.W)(y().text,g().podcastName,I),children:[R&&(0,a.jsx)(x.rU,{"aria-label":P({id:"entity-names.podcast-name"},{podcastName:B.title}),className:y().link,href:"/album/".concat(B.id),title:M?void 0:B.title,onClick:z,children:(0,a.jsx)(u.u,{enabled:M,offsetOptions:4,placement:"top",text:B.title,hoverSettings:v.cHI,children:(0,a.jsx)(m.Caption,{variant:"span",type:"entity",size:T,className:y().albumTitle,children:B.title})})}),e.pubDate&&C&&(0,a.jsx)(m.Caption,{variant:"span",type:"entity",size:T,className:(0,l.W)({[g().dateWithName]:R,[g().soonDate]:O,[g().dateDisabled]:!e.isAvailable,[g().dateDisliked]:e.isDisliked&&!D}),children:V()})]}),h&&L&&e.shouldRememberPosition&&e.streamProgress&&e.durationMs&&(0,a.jsx)(p.DR,{className:(0,l.W)(g().progress,{[g().progress_withPreviousInfo]:R||e.pubDate&&C,[g().progress_disabled]:!e.isAvailable||e.isDisliked}),id:e.id,albumId:e.albumId,streamProgress:e.streamProgress,durationMs:e.durationMs,playContextParams:L,withTimeLeftText:A})]})})})},47192:function(t,e,i){"use strict";i.d(e,{TrackMeta:function(){return h}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(31014),c=i(23881),d=i(40193),u=i(96622),m=i(5773),_=i(2570),k=i(54264),p=i(33589),v=i(34152),x=i(3084),C=i(18269),y=i(44660),b=i(41894),g=i.n(b);let h=(0,n.Pi)(t=>{let{className:e,titleContainerClassName:i,track:n,albumArtists:b,withExplicitMark:h=!0,withSecondaryColor:T,captionSize:f="m",explicitSize:N="xxxs",withAlbumLink:j,withAllArtistsTitle:I,textClassName:L,artistsClassName:A,ignoreDislikedStyles:D,withCustomTooltip:E=!0}=t,{formatMessage:S}=(0,r.Z)(),{fullscreenPlayer:P}=(0,v.oR4)(),M=(0,k.T)({withCustomTooltip:E}),B=(0,v.s0h)("/album/".concat(n.albumId)),R=(0,s.useMemo)(()=>{var t;let e=S({id:"entity-names.track-name"},{trackName:n.title});return"".concat(e," ").concat(null!==(t=n.version)&&void 0!==t?t:"")},[S,n.title,n.version]),U=(0,y.useTrackDisclaimer)({track:n,callback:B}),G=(0,s.useCallback)(t=>{P.modal.isOpened&&P.modal.close(),U(t)},[P.modal,U]),O=(0,s.useMemo)(()=>{let t="".concat(n.title," ").concat(!n.isRemoved&&n.version?n.version:"");return n.isRemoved?(0,a.jsx)(m.u,{enabled:M,offsetOptions:4,placement:"top",text:S({id:"track-title.error-not-found"}),hoverSettings:v.cHI,children:(0,a.jsx)(_.Caption,{className:(0,l.W)(g().text,g().title),type:"entity",size:f,weight:"medium",variant:"span",title:M?void 0:S({id:"track-title.error-not-found"}),children:(0,a.jsx)(o.Z,{id:"track-title.error-not-found"})})}):n.albumId&&j&&n.trackSource===d.zu.OWN&&n.isAvailable?(0,a.jsx)(x.rU,{onClick:G,className:g().albumLink,href:"/album/".concat(n.albumId),"aria-label":R,title:M?void 0:t,...(0,c.BA)(c.bG.track.TRACK_TITLE),children:(0,a.jsx)(m.u,{enabled:M,offsetOptions:4,placement:"top",text:t,hoverSettings:v.cHI,children:(0,a.jsx)(_.Caption,{className:(0,l.W)(g().text,g().title),type:"entity",size:f,weight:"medium",variant:"span",children:n.title})})}):(0,a.jsx)(m.u,{enabled:M,offsetOptions:4,placement:"top",text:t,hoverSettings:v.cHI,children:(0,a.jsx)(_.Caption,{className:(0,l.W)(g().text,g().title),type:"entity",size:f,weight:"medium",variant:"span",...(0,c.BA)(c.bG.track.TRACK_TITLE),children:n.title})})},[f,G,n.albumId,n.isAvailable,n.isRemoved,n.title,n.version,n.trackSource,R,j,S,M]),w=(0,s.useMemo)(()=>(0,C.p)(n.artists,b),[n.artists,b,n.id]);return(0,a.jsx)("div",{className:(0,l.W)(g().root,{[g().root_disabled]:!n.isAvailable,[g().root_disliked]:n.isDisliked&&!D,[g().root_withSecondaryColor]:T},e),children:(0,a.jsxs)("div",{className:g().metaContainer,children:[(0,a.jsxs)("div",{className:(0,l.W)(g().titleContainer,{[g().titleContainer_withVersion]:n.version},i),children:[(0,a.jsxs)(_.Caption,{className:(0,l.W)(g().text,L),type:"entity",size:f,weight:"medium",variant:"div",lineClamp:1,children:[O,!n.isRemoved&&n.version&&(0,a.jsxs)(_.Caption,{className:(0,l.W)(g().text,g().version),type:"entity",size:f,weight:"medium",variant:"span",title:M?void 0:n.version,children:["\xa0",n.version]})]}),n.trackExplicitMark&&h&&(0,a.jsx)(u.ExplicitMark,{iconSize:N,variant:n.trackExplicitMark,className:g().explicitMark})]}),w.length>0&&(0,a.jsx)(p.jO,{className:(0,l.W)(g().text,g().artists,A,L),linkClassName:(0,l.W)(g().text,g().link),captionClassName:(0,l.W)(g().text,g().artistCaption),artists:w,withLink:!n.isUGC,lineClamp:1,captionSize:f,withAllArtistsTitle:I,withCustomTooltip:M})]})})})},9374:function(t,e,i){"use strict";i.d(e,{e:function(){return d}});var a=i(9753),l=i(60836),n=i(9544),s=i(2570),r=i(3084),o=i(33273),c=i.n(o);let d=(0,n.Pi)(t=>{let{className:e,track:i,position:n,onPlayButtonClick:o,isPlaying:d,isCurrent:u}=t;return(0,a.jsxs)("div",{className:(0,l.W)(e,c().root,{[c().root_disabled]:!i.isAvailable,[c().root_playing]:d,[c().root_disliked]:i.isDisliked,[c().root_current]:u}),children:[i.isAvailable&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Up,{className:c().playingAnimation}),(0,a.jsx)(r.JM,{variant:"filled",className:c().playButton,iconClassName:c().playButtonIcon,isPlaying:d,onClick:o,iconSize:"xs"})]}),n&&(0,a.jsx)(s.Caption,{variant:"div",className:c().position,weight:"normal",type:"entity",size:"m",children:n})]})})},82245:function(t,e,i){"use strict";i.d(e,{TrackContextMenu:function(){return W}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(31014),c=i(18375),d=i(23881),u=i(84338),m=i(40193),_=i(28852),k=i(385),p=i(40113),v=i(58852),x=i(34152),C=i(23476),y=i.n(C);let b=t=>{let{className:e,albumType:i,albumId:l}=t,{fullscreenPlayer:n}=(0,x.oR4)(),r=(0,x.s0h)("/album/".concat(l)),c=(0,s.useMemo)(()=>i===m.VZ.AUDIOBOOK?(0,a.jsx)(o.Z,{id:"non-music.navigate-to-book-album"}):(0,a.jsx)(o.Z,{id:"non-music.navigate-to-podcast-album"}),[i]),d=(0,s.useCallback)(()=>{r(),n.modal.close()},[r,n.modal]);return(0,a.jsx)(k.sN,{className:e,onClick:d,icon:(0,a.jsx)(_.J,{className:y().navigateToAlbumIcon,variant:"podcasts",size:"xxs"}),children:c})};var g=i(3084),h=i(49522),T=i(76315),f=i(90679),N=i(10668),j=i(74717),I=i(16030);let L=t=>{let{createPlaylist:e,fullscreenPlayer:i}=(0,x.oR4)(),{notify:l}=(0,x.d$W)(),n=(0,j.useRouter)(),{formatMessage:o}=(0,r.Z)(),c=(0,I.W)(),d=(0,s.useCallback)(async t=>{var i;if(await e.create({title:o({id:"entity-names.new-playlist"}),visibility:m.we.PUBLIC}),!(null==e?void 0:null===(i=e.meta)||void 0===i?void 0:i.uuid))return null;if(await c({playlist:e.meta,track:t,withPageRefresh:!1,withFailNotification:!1,withSuccessNotification:!1})===N.pX.OK){let t=(0,x.SZ_)("/playlists/".concat(e.meta.uuid));return e.reset(),t}return null},[c,e,o]);return(0,s.useCallback)(async()=>{let e=await d(t);e?(i.modal.isOpened&&i.modal.close(),n.push(e)):l((0,a.jsx)(N.wi,{}),{containerId:i.modal.isOpened?x.W$x.FULLSCREEN_ERROR:x.W$x.ERROR})},[d,i.modal,l,n,t])};var A=i(2570);let D=(t,e)=>{var i,a;let l=-1;return(null===(i=t.tracks)||void 0===i?void 0:i.length)&&(l=null===(a=t.tracks)||void 0===a?void 0:a.findIndex(t=>t.albumId?String(t.id)===e.id&&t.albumId===e.albumId:String(t.id)===e.id)),{isTrackInPlaylist:l>-1,trackIndexInPlaylist:l}};var E=i(11867),S=i(45982),P=i.n(S);let M=t=>{let{playlist:e,track:i}=t,{formatMessage:l}=(0,r.Z)(),n=(0,I.W)(),o=(0,E.B)(),{isTrackInPlaylist:c,trackIndexInPlaylist:d}=D(e,i),u=(0,s.useCallback)(()=>{c?o({playlist:e,track:i,trackIndex:d}):n({playlist:e,track:i})},[n,o,e,i,d,c]);return(0,a.jsxs)(k.sN,{className:P().root,onClick:u,children:[(0,a.jsx)(A.Caption,{variant:"div",lineClamp:1,children:e.title}),c&&(0,a.jsx)(_.J,{className:P().icon,size:"xxs",variant:"check","aria-label":l({id:"entity-names.track-in-playlist"})})]})};var B=i(56819),R=i.n(B);let U=()=>(0,a.jsx)(k.sN,{children:(0,a.jsx)(f.Shimmer,{className:R().shimmer})}),G=(0,n.Pi)(t=>{var e;let{track:i}=t,{user:n,contextMenuPlaylists:c,fullscreenPlayer:d}=(0,x.oR4)(),u=(0,v.SB)(i),{notify:m}=(0,x.d$W)(),p=L(i),{formatMessage:C}=(0,r.Z)(),y=(0,s.useCallback)(()=>{u(),m((0,a.jsx)(v.Yc,{track:i}),{containerId:d.modal.isOpened?x.W$x.FULLSCREEN_INFO:x.W$x.INFO})},[d.modal.isOpened,u,m,i]),b=(0,s.useCallback)(t=>{n.account.uid&&c.getData({userId:n.account.uid,page:t,pageSize:20})},[c,n.account.uid]),h=(0,s.useCallback)(async()=>{n.account.uid&&await c.getData({userId:n.account.uid,page:0,pageSize:20})},[c,n.account.uid]);(0,s.useEffect)(()=>()=>{c.reset()},[c]);let T=t=>{var e;let l=null==c?void 0:null===(e=c.items)||void 0===e?void 0:e[t];return l?l.kind!==N.eX.LIKE?(0,a.jsx)(M,{track:i,playlist:l},l.uuid):void 0:(0,a.jsx)(U,{})},f=(0,s.useMemo)(()=>{if(!i.isTrackNonMusic&&c.isLoaded)return(0,a.jsxs)(k.sN,{className:R().favouritesPlaylistItem,onClick:y,children:[(0,a.jsx)(o.Z,{id:"entity-names.liked-playlist"}),i.isLiked&&(0,a.jsx)(_.J,{className:R().icon,size:"xxs",variant:"check","aria-label":C({id:"entity-names.track-in-playlist"})})]})},[c.isLoaded,y,i,C]),j=(0,s.useMemo)(()=>{var t,e,i;return c.isLoaded?(0,a.jsx)(g.Wv,{className:(0,l.W)(R().virtualScroll,R().important),listClassName:R().content,customComponents:{Header:()=>f},itemContentCallback:T,context:{listAriaLabel:C({id:"entity-names.playlists-list"})},totalCount:null!==(e=null==c?void 0:null===(t=c.pager)||void 0===t?void 0:t.total)&&void 0!==e?e:0,onGetDataByPage:b,pageSize:20,withFooter:!1,totalRequests:null!==(i=c.requests)&&void 0!==i?i:0,alwaysShowScrollbar:!0}):[...Array(7)].map((t,e)=>(0,a.jsx)(U,{},e))},[c.loadingState,null==c?void 0:null===(e=c.pager)||void 0===e?void 0:e.total,c.requests,b,u,p]);return(0,a.jsxs)(k.v2,{offsetOptions:3,onShow:h,icon:(0,a.jsx)(_.J,{variant:"addToPlaylist",size:"xxs"}),label:C({id:"playlist-actions.add-track-to-playlist"}),ariaLabel:C({id:"playlist-actions.add-track-to-playlist"}),children:[(0,a.jsx)(k.sN,{onClick:p,icon:(0,a.jsx)(_.J,{variant:"add",size:"xxs"}),children:(0,a.jsx)(o.Z,{id:"playlist-actions.create-playlist"})}),(0,a.jsx)("div",{className:R().root,children:j})]})});var O=i(82079),w=i.n(O);let W=(0,n.Pi)(t=>{var e,i,n,C,y,f,N,j,I,L;let{track:A,onOpenChange:D,open:E,placement:S,isFullscreenMobile:P=!1,icon:M,size:B,...R}=t,U=(0,x.R$C)(),{settings:O,currentTrackInfo:W,experiments:V,fullscreenPlayer:z,trailer:K,sonataState:{entityMeta:Z},trackLyrics:F}=(0,x.oR4)(),{formatMessage:H}=(0,r.Z)(),{modal:J}=F,{modal:Y}=W,X=(0,v.Xw)(A,v.yu.NEXT),q=(0,v.Xw)(A,v.yu.LAST),$=(0,v.SB)(A),Q=(0,v.KX)(A),tt=(0,p.SB)(A.mainAlbum),te=(0,v.Ey)(A),ti=(0,x.FTC)(),ta="".concat(x.aUg.TRACK,"-").concat(A.id),tl=P||O.layout===x.t8m.Mobile,{href:tn}=(0,x.qKB)(A.url),ts=(0,T.useTrackModalTitle)(A),tr=(0,x.RVp)()&&(null===(e=A.mainAlbum)||void 0===e?void 0:e.isNonMusic),to=(null==Z?void 0:Z.id)===A.id&&(null==Z?void 0:Z.albumId)===(null===(i=A.mainAlbum)||void 0===i?void 0:i.id),tc=!!((0,u.xA)(null==U?void 0:U.state.currentContext.value)||(0,u.Q7)(null==U?void 0:U.state.currentContext.value)),{canRemoveTrackFromPlaylist:td,removeTrackFromPlaylist:tu}=(0,h.useRemoveTrackFromPlaylistByIndex)(),{isPlaying:tm,togglePlay:t_}=(0,x.QhE)({seeds:null!==(L=null==A?void 0:A.seeds)&&void 0!==L?L:[],pageIdForFrom:x.Rhz.RADIO,blockIdForFrom:ta}),tk=(0,s.useCallback)(()=>{tm||t_()},[tm,t_]),tp=(0,s.useCallback)(()=>{K.openTrackTrailer(A.entityId),ti(c.OB.Track,A.id)},[ti,A.entityId,A.id,K]),tv=(0,s.useCallback)(()=>{var t;W.setTrack({id:A.id,albumId:(null===(t=A.mainAlbum)||void 0===t?void 0:t.id)||null,isUGC:A.isUGC||null}),Y.open()},[W,A.id,A.isUGC,null===(n=A.mainAlbum)||void 0===n?void 0:n.id,Y]),tx=(0,s.useCallback)(()=>{F.setTrack(A),J.open()},[A,F,J]);(0,x.ZP4)(E);let tC=!tr,ty=!A.isUGC&&!tr,tb=!tr,tg=!tl,th=tr&&tt,tT=V.checkExperiment(x.peG.WebNextTrackAboutModal,"on")&&!tl,tf=A.hasSyncLyrics&&z.modal.isOpened&&tl,tN=tr&&tl,tj=V.checkExperiment(x.peG.WebNextTrackLyrics,"on")&&A.hasLyrics&&!z.modal.isOpened,tI=(null===(C=A.trailer)||void 0===C?void 0:C.canShow)&&!z.modal.isOpened,tL=V.checkExperiment(x.peG.WebNextPlayQueue,"on")&&!tc&&Z;return(0,a.jsxs)(k.v2,{isMobile:tl,placement:S,offsetOptions:10,open:E,onOpenChange:D,icon:M,size:B,containerProps:(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU),ariaLabel:H({id:"interface-actions.context-menu"}),variant:"text",...R,children:[tr&&(0,a.jsx)(g.XB,{onClick:te,isFinished:to&&(null==Z?void 0:null===(y=Z.streamProgress)||void 0===y?void 0:y.hasEverFinished)||(null===(f=A.streamProgress)||void 0===f?void 0:f.hasEverFinished)}),tC&&(0,a.jsx)(g.xZ,{onClick:$,isLiked:A.isLiked}),tI&&(0,a.jsx)(g.NB,{onClick:tp}),ty&&(0,a.jsx)(g.GQ,{onClick:tk,variant:"track",disabled:!A.isAvailable}),tL&&(0,a.jsx)(k.sN,{onClick:X,icon:(0,a.jsx)(_.J,{variant:"playNext",size:"xxs"}),children:(0,a.jsx)(o.Z,{id:"play-queue.play-next"})}),tL&&(0,a.jsx)(k.sN,{onClick:q,icon:(0,a.jsx)(_.J,{variant:"playLast",size:"xxs"}),children:(0,a.jsx)(o.Z,{id:"play-queue.play-last"})}),tf&&!z.syncLyrics.isVisible&&(0,a.jsx)(k.sN,{className:(0,l.W)({[w().syncLyrics]:P}),onClick:z.showSyncLyrics,icon:(0,a.jsx)(_.J,{variant:"syncLyrics",size:"xxs"}),...(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU_SHOW_SYNC_LYRICS_BUTTON),children:(0,a.jsx)(o.Z,{id:"interface-actions.open-sync-lyrics"})}),tf&&z.syncLyrics.isVisible&&(0,a.jsx)(k.sN,{className:(0,l.W)({[w().syncLyrics]:P}),onClick:z.syncLyrics.setInvisible,icon:(0,a.jsx)(_.J,{variant:"syncLyrics"}),...(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU_HIDE_SYNC_LYRICS_BUTTON),children:(0,a.jsx)(o.Z,{id:"interface-actions.hide-sync-lyrics"})}),tb&&(0,a.jsx)(g.ZL,{onClick:Q,isDisliked:A.isDisliked}),tg&&(0,a.jsx)(G,{track:A}),tj&&(0,a.jsx)(k.sN,{onClick:tx,icon:(0,a.jsx)(_.J,{variant:"lyrics"}),...(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU_LYRICS_BUTTON),children:(0,a.jsx)(o.Z,{id:"interface-actions.open-lyrics"})}),(0,a.jsx)(g.zq,{disabled:A.isUGC||A.trackSource===m.zu.OWN_REPLACED_TO_UGC,shareLink:tn,entityVariant:"track",entityTitle:A.title}),tN&&(0,a.jsx)(b,{albumId:A.mainAlbum.id,albumType:null===(N=A.mainAlbum)||void 0===N?void 0:N.type}),th&&(0,a.jsx)(g.qq,{onClick:tt,isLiked:null===(j=A.mainAlbum)||void 0===j?void 0:j.isLiked,albumType:null===(I=A.mainAlbum)||void 0===I?void 0:I.type,...(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU_SUBSCRIBE_BUTTON)}),td&&(0,a.jsx)(k.sN,{onClick:tu,icon:(0,a.jsx)(_.J,{variant:"bucket",size:"xxs"}),...(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU_REMOVE_TRACK_FROM_PLAYLIST_BUTTON),children:(0,a.jsx)(o.Z,{id:"playlist-actions.remove-from-playlist"})}),tT&&(0,a.jsx)(k.sN,{onClick:tv,icon:(0,a.jsx)(_.J,{variant:"info"}),...(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU_ABOUT_TRACK_BUTTON),children:ts})]})})},60808:function(t,e,i){"use strict";i.d(e,{f:function(){return k}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(98342),c=i(34152),d=i(3084),u=i(44660),m=i(66563),_=i.n(m);let k=(0,n.Pi)(t=>{let{className:e,track:i,meta:n,beforeBlock:m,controls:k,playButtonCellRender:p,withLightning:v,isPlaying:x,isCurrent:C,togglePlay:y,restartPlay:b,onPlayClick:g,...h}=t,{formatMessage:T}=(0,r.Z)(),{ref:f,intersectionPropertyId:N}=(0,c.VfV)(),j=(0,u.useTrackDisclaimer)({track:i,callback:y}),{sendPlaySearchFeedback:I}=(0,c.sAF)(),[L,A]=(0,s.useState)(!1),D=(0,s.useCallback)(()=>{L||x||(A(!0),null==I||I()),j(),null==g||g(!x)},[j,x,g,L,I]),E=(0,s.useCallback)(()=>{x?b():D()},[x,b,D]),S=(0,s.useCallback)(t=>{i.isAvailable&&(2===t.detail?E():(0,o.m)(t,_().ripple))},[E,i.isAvailable]),P=null==p?void 0:p({onPlayButtonClick:D,isPlaying:x,isCurrent:C}),M=(0,s.useMemo)(()=>{var t;if(!i.isAvailable)return"".concat(T({id:"extra-explicit.play-unavailable"})," ").concat(i.artistsNames," ").concat(i.title);let e=v?T({id:"entity-names.popular-among-users"}):"";return"".concat(i.artistsNames," ").concat(i.title," ").concat(null!==(t=i.version)&&void 0!==t?t:""," ").concat(e)},[T,i.artistsNames,i.isAvailable,i.title,i.version,v]);return(0,a.jsxs)(d.Md,{ref:f,"aria-label":M,"data-intersection-property-id":N,onClick:S,className:(0,l.W)(_().root,{[_().root_disabled]:!i.isAvailable},e),...h,children:[m,P,n,k]})})},99846:function(t,e,i){"use strict";i.d(e,{TrackCard:function(){return N}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(31014),c=i(18375),d=i(23881),u=i(84338),m=i(40193),_=i(27491),k=i(28852),p=i(12404),v=i(2570),x=i(33589),C=i(58852),y=i(34152),b=i(3084),g=i(44660),h=i(82245),T=i(98129),f=i.n(T);let N=(0,n.Pi)(t=>{let{className:e,children:i,track:n,contentLinesCount:T,overrideContextType:N}=t,{from:j}=(0,y.MhG)(),{trailer:I}=(0,y.oR4)(),{formatMessage:L}=(0,r.Z)(),[A,D]=(0,s.useState)(!1),[E,S]=(0,s.useState)(!1),[P,M]=(0,s.useState)(!1),{sendLikeSearchFeedback:B,sendPlaySearchFeedback:R}=(0,y.sAF)(),U=(0,C.SB)(n),[G,O]=(0,s.useState)(!1),w=(0,s.useMemo)(()=>{var t;let e=L({id:"entity-names.track-name"},{trackName:n.title}),i=n.isLiked?L({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(null!==(t=n.version)&&void 0!==t?t:""," ").concat(i)},[L,n.title,n.isLiked,n.version]),W=n.albumId?"".concat(n.id,":").concat(n.albumId):n.id,V=n.albumId&&n.trackSource===m.zu.OWN&&n.isAvailable,{isPlaying:z,togglePlay:K}=(0,y.qmq)({playContextParams:{contextData:{type:u.Ak.Various,meta:{id:W},from:j,overrideContextType:N},queueParams:{index:0},loadContextMeta:!0},entityId:W}),Z=(0,g.useTrackDisclaimer)({track:n}),F=(0,g.useTrackDisclaimer)({track:n,callback:K}),H=(0,y.FTC)(),J=(0,s.useCallback)(t=>{t.stopPropagation(),I.openTrackTrailer(n.id),H(c.OB.Track,n.id)},[n.id,H,I]),Y=(0,s.useCallback)(t=>{Z(t)},[Z]),X=(0,s.useCallback)(()=>{A||z||(D(!0),null==R||R()),F()},[z,A,R,F]),q=(0,s.useCallback)(()=>{E||n.isLiked||(S(!0),null==B||B()),U()},[U,E,B,n.isLiked]),$=(0,s.useCallback)(t=>{t.preventDefault(),t.stopPropagation()},[]),Q=(0,s.useCallback)(()=>{M(!P),O(!P)},[P]),tt=(0,s.useMemo)(()=>{var t;if(null==n?void 0:null===(t=n.trailer)||void 0===t?void 0:t.canShow)return(0,a.jsx)(b.xf,{children:(0,a.jsx)(b.eP,{className:(0,l.W)(f().trailerButton,f().control),radius:"round",size:"s",iconSize:"xxs",onClick:J},n.getKey("TrailerButton"))})},[J,n]),te=(0,s.useMemo)(()=>{var t;return(0,a.jsxs)(v.Caption,{className:(0,l.W)(f().titleContainer,{[f().titleContainer_withVersion]:n.version}),variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:[V?(0,a.jsx)(b.rU,{"aria-label":"".concat(n.title," ").concat(null!==(t=n.version)&&void 0!==t?t:""),className:f().titleLink,href:"/album/".concat(n.albumId),onClick:Y,children:n.title}):(0,a.jsx)(v.Caption,{className:f().title,variant:"span",onClick:Y,children:n.title}),n.version&&(0,a.jsx)(v.Caption,{className:f().version,variant:"span",children:" ".concat(n.version)})]})},[n.title,n.version,V,Y,n.albumId]),ti=(0,s.useMemo)(()=>{var t;return V?(0,a.jsx)(b.rU,{href:"/album/".concat(n.albumId),onClick:Y,children:"".concat(n.title," ").concat(null!==(t=n.version)&&void 0!==t?t:"")}):null},[n.title,n.version,n.albumId,V,Y]),ta=(0,s.useMemo)(()=>(0,a.jsx)(h.TrackContextMenu,{placement:"bottom",track:n,onOpenChange:Q,open:P,onClick:$,className:(0,l.W)(f().menuButton,f().control),icon:(0,a.jsx)(k.J,{size:"xxs",variant:"more"}),size:"s",...(0,d.BA)(d.bG.track.TRACK_CONTEXT_MENU_BUTTON)},n.getKey("TrackContextMenu")),[$,Q,P,n]),tl=(0,s.useMemo)(()=>{if(n.isAvailable)return(0,a.jsx)(_.kk,{isVisible:P||G,className:f().controls,labelText:(0,a.jsx)(o.Z,{id:"entity-names.track"}),playControl:(0,a.jsx)(b.JM,{className:(0,l.W)(f().playButton,f().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",isPlaying:z,onClick:X},n.getKey("PlayButton")),likeControl:(0,a.jsx)(b.dJ,{className:(0,l.W)(f().likeButton,f().control),isLiked:n.isLiked,onClick:q,variant:"default",size:"s",iconSize:"xxs"},n.getKey("LikeButton")),menuControl:ta,trailerControl:tt})},[ta,q,X,P,G,z,n,tt]),tn=(0,s.useMemo)(()=>(0,a.jsx)(p.Paper,{className:f().cover,radius:"l",withShadow:!0,onClick:Y,children:(0,a.jsxs)("div",{className:f().coverBlock,children:[(0,a.jsx)(b.BE,{className:f().image,src:n.coverUri,size:200,fit:"cover",alt:w,withAvatarReplace:!0,isAvailable:n.isAvailable,"aria-hidden":!0}),tl]})}),[tl,Y,n.coverUri,n.isAvailable,w]);return(0,a.jsx)(_.m7,{className:(0,l.W)(f().root,e),"aria-label":w,explicitMark:n.trackExplicitMark,title:te,srTitle:ti,contentLinesCount:T,view:tn,description:(0,a.jsx)(x.jO,{className:f().artists,artists:n.artists,lineClamp:1,linkClassName:f().artistLink,captionSize:"s",withLink:!n.isUGC},n.getKey("description")),children:i})})},639:function(t,e,i){"use strict";i.d(e,{TrackAlbum:function(){return k}});var a=i(9753),l=i(9544),n=i(98639),s=i(23881),r=i(34152),o=i(93393),c=i(47192),d=i(9374),u=i(60808),m=i(55491),_=i.n(m);let k=(0,l.Pi)(t=>{let{track:e,albumArtists:i,position:l,playContextParams:m,withLightning:k}=t,p=(0,r.qmq)({playContextParams:m,entityId:e.entityId}),v=(0,n.useCallback)(t=>(0,a.jsx)(d.e,{track:e,position:l,className:_().playButtonCell,...t}),[e,l]);return(0,a.jsx)(u.f,{track:e,withLightning:k,meta:(0,a.jsx)(c.TrackMeta,{albumArtists:i,track:e}),playButtonCellRender:v,controls:(0,a.jsx)(o.ControlsBar,{withLightning:k,track:e,className:_().controlsBarCell}),...p,...(0,s.BA)(s.bG.track.TRACK_ALBUM)})})},37379:function(t,e,i){"use strict";i.d(e,{TrailerTrackAlbum:function(){return k}});var a=i(9753),l=i(9544),n=i(98639),s=i(23881),r=i(34152),o=i(93393),c=i(47192),d=i(9374),u=i(60808),m=i(55491),_=i.n(m);let k=(0,l.Pi)(t=>{let{track:e,albumArtists:i,position:l,playContextParams:m,withLightning:k,onPlayClick:p,onLikeClick:v,onDislikeClick:x}=t,C=(0,r.bA$)({playContextParams:m,entityId:e.entityId}),y=(0,n.useCallback)(t=>(0,a.jsx)(d.e,{track:e,position:l,className:_().playButtonCell,...t}),[e,l]);return(0,a.jsx)(u.f,{track:e,withLightning:k,meta:(0,a.jsx)(c.TrackMeta,{albumArtists:i,track:e}),playButtonCellRender:y,onPlayClick:p,controls:(0,a.jsx)(o.ControlsBar,{withLightning:k,track:e,className:_().controlsBarCell,onLikeClick:v,onDislikeClick:x}),...C,...(0,s.BA)(s.bG.track.TRACK_ALBUM)})})},96414:function(t,e,i){"use strict";i.d(e,{TrackChart:function(){return p}});var a=i(9753),l=i(9544),n=i(98639),s=i(23881),r=i(94342),o=i(34152),c=i(3084),d=i(93393),u=i(47192),m=i(60808),_=i(61383),k=i.n(_);let p=(0,l.Pi)(t=>{var e,i;let{track:l,playContextParams:_}=t,p=(0,o.qmq)({playContextParams:_,entityId:l.entityId}),v=(0,n.useCallback)(t=>(0,a.jsx)(c.Df,{isAvailable:l.isAvailable,isDisliked:l.isDisliked,coverUri:l.coverUri,title:l.title,className:k().playButtonCell,...t}),[l]);return(0,a.jsx)(m.f,{track:l,meta:(0,a.jsx)(u.TrackMeta,{track:l}),beforeBlock:(0,a.jsx)(r.kL,{className:k().chartCell,progress:null===(e=l.chart)||void 0===e?void 0:e.progress,position:null===(i=l.chart)||void 0===i?void 0:i.position,isDisliked:l.isDisliked,isDisabled:!l.isAvailable}),playButtonCellRender:v,controls:(0,a.jsx)(d.ControlsBar,{track:l,className:k().controlsBarCell}),...p,...(0,s.BA)(s.bG.track.TRACK_CHART)})})},5510:function(t,e,i){"use strict";i.d(e,{TrackNonMusic:function(){return g}});var a=i(9753),l=i(9544),n=i(60836),s=i(98639),r=i(23881),o=i(34152),c=i(3084),d=i(54355),u=i(93393),m=i(83906),_=i(9374),k=i(60808),p=i(36818),v=i.n(p),x=i(80485);let C=(0,l.Pi)(t=>{let{track:e,playContextParams:i,className:l,withDNDBlock:p,isDragging:C,draggingClassName:y,withTimeLeftText:b,ignoreDislikedStyles:g,viewType:h=x.c.PLAYLIST,position:T}=t,f=(0,o.qmq)({playContextParams:i,entityId:e.entityId}),N=(0,s.useCallback)(t=>h===x.c.ALBUM?(0,a.jsx)(_.e,{track:e,position:T,className:v().playButtonCell,...t}):(0,a.jsx)(c.Df,{isAvailable:e.isAvailable,isDisliked:e.isDisliked,coverUri:e.coverUri,title:e.title,className:v().playButtonCell,ignoreDislikedStyles:g,...t}),[g,T,h,e]);return(0,a.jsx)(k.f,{className:(0,n.W)(l,{[v().trackWithDots]:p}),track:e,meta:(0,a.jsx)(m.AudiobookMeta,{withAuthor:h===x.c.PLAYLIST,track:e,playContextParams:i,withListeningProgress:!0,withTimeLeftText:b,ignoreDislikedStyles:g}),playButtonCellRender:N,controls:(0,a.jsx)(u.ControlsBar,{track:e,className:v().controlsBarCell,ignoreDislikedStyles:g}),beforeBlock:p?(0,a.jsx)(d.x,{className:(0,n.W)(v().dots,y),isDragging:C}):void 0,...f,...(0,r.BA)(r.bG.track.TRACK_AUDIOBOOK)})});var y=i(53961);let b=(0,l.Pi)(t=>{let{track:e,playContextParams:i,withPodcastName:l=!1,className:m,withDNDBlock:_,isDragging:p,draggingClassName:x,withTimeLeftText:C,ignoreDislikedStyles:b}=t,g=(0,o.qmq)({playContextParams:i,entityId:e.entityId}),h=(0,s.useCallback)(t=>(0,a.jsx)(c.Df,{isAvailable:e.isAvailable,isDisliked:e.isDisliked,coverUri:e.coverUri,title:e.title,className:v().playButtonCell,ignoreDislikedStyles:b,...t}),[b,e.coverUri,e.isAvailable,e.isDisliked,e.title]);return(0,a.jsx)(k.f,{className:(0,n.W)(m,{[v().trackWithDots]:_}),track:e,meta:(0,a.jsx)(y.PodcastMeta,{track:e,playContextParams:i,withPodcastName:l,withListeningProgress:!0,withTimeLeftText:C,ignoreDislikedStyles:b}),playButtonCellRender:h,controls:(0,a.jsx)(u.ControlsBar,{track:e,className:v().controlsBarCell,ignoreDislikedStyles:b}),beforeBlock:_?(0,a.jsx)(d.x,{className:(0,n.W)(v().dots,x),isDragging:p}):void 0,...g,...(0,r.BA)(r.bG.track.TRACK_PODCAST)})}),g=(0,l.Pi)(t=>t.track.isTrackAudiobook?(0,a.jsx)(C,{...t}):(0,a.jsx)(b,{...t}))},80485:function(t,e,i){"use strict";var a,l;i.d(e,{c:function(){return a}}),(l=a||(a={})).ALBUM="album",l.PLAYLIST="playlist"},1776:function(t,e,i){"use strict";i.d(e,{TrackPlaylist:function(){return v}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(23881),o=i(34152),c=i(3084),d=i(54355),u=i(93393),m=i(47192),_=i(60808),k=i(25803),p=i.n(k);let v=(0,n.Pi)(t=>{let{track:e,playContextParams:i,className:n,withDNDBlock:k,isDragging:v,draggingClassName:x,ignoreDislikedStyles:C}=t,y=(0,o.qmq)({playContextParams:i,entityId:e.entityId}),b=(0,s.useCallback)(t=>(0,a.jsx)(c.Df,{isAvailable:e.isAvailable,isDisliked:e.isDisliked,coverUri:e.coverUri,title:e.title,className:p().playButtonCell,ignoreDislikedStyles:C,...t}),[C,e.coverUri,e.isAvailable,e.isDisliked,e.title]);return(0,a.jsx)(_.f,{className:(0,l.W)(n,{[p().trackWithDots]:k}),track:e,beforeBlock:k?(0,a.jsx)(d.x,{className:(0,l.W)(p().dots,x),isDragging:v}):void 0,meta:(0,a.jsx)(m.TrackMeta,{track:e,ignoreDislikedStyles:C}),playButtonCellRender:b,controls:(0,a.jsx)(u.ControlsBar,{track:e,className:p().controlsBarCell,ignoreDislikedStyles:C}),...y,...(0,r.BA)(r.bG.track.TRACK_PLAYLIST)})})},71456:function(t,e,i){"use strict";i.d(e,{TrailerTrackPlaylist:function(){return k}});var a=i(9753),l=i(9544),n=i(98639),s=i(23881),r=i(34152),o=i(3084),c=i(93393),d=i(47192),u=i(60808),m=i(25803),_=i.n(m);let k=(0,l.Pi)(t=>{let{track:e,playContextParams:i,onPlayClick:l,onLikeClick:m,onDislikeClick:k}=t,p=(0,r.bA$)({playContextParams:i,entityId:e.entityId}),v=(0,n.useCallback)(t=>(0,a.jsx)(o.Df,{isAvailable:e.isAvailable,isDisliked:e.isDisliked,coverUri:e.coverUri,title:e.title,className:_().playButtonCell,...t}),[e]);return(0,a.jsx)(u.f,{track:e,meta:(0,a.jsx)(d.TrackMeta,{track:e}),playButtonCellRender:v,onPlayClick:l,controls:(0,a.jsx)(c.ControlsBar,{track:e,className:_().controlsBarCell,onLikeClick:m,onDislikeClick:k}),...p,...(0,s.BA)(s.bG.track.TRACK_PLAYLIST)})})},5670:function(t,e,i){"use strict";i.d(e,{TrackPlaylistAddition:function(){return v}});var a=i(9753),l=i(9544),n=i(98639),s=i(80542),r=i(23881),o=i(39513),c=i(28852),d=i(34152),u=i(3084),m=i(47192),_=i(60808),k=i(98387),p=i.n(k);let v=(0,l.Pi)(t=>{let{className:e,track:i,playContextParams:l,onClick:k}=t,{formatMessage:v}=(0,s.Z)(),x=(0,d.qmq)({playContextParams:l,entityId:i.entityId}),C=(0,n.useCallback)(t=>(0,a.jsx)(u.Df,{isAvailable:i.isAvailable,isDisliked:i.isDisliked,coverUri:i.coverUri,title:i.title,className:p().playButtonCell,...t}),[i]),y=(0,n.useCallback)(()=>{null==k||k(i)},[i,k]),b=(0,n.useMemo)(()=>(0,a.jsx)("div",{className:p().controls,children:(0,a.jsx)(o.z,{className:p().button,variant:"text",size:"xs",radius:"xxxl","aria-label":v({id:"interface-actions.add-track-to-playlist"}),onClick:y,icon:(0,a.jsx)(c.J,{size:"xxs",variant:"add"})})}),[v,y]);return(0,a.jsx)(_.f,{className:e,track:i,meta:(0,a.jsx)(m.TrackMeta,{track:i}),playButtonCellRender:C,controls:b,...x,...(0,r.BA)(r.bG.track.TRACK_PLAYLIST_ADDITION)})})},53368:function(t,e,i){"use strict";i.d(e,{TrackUgcUpload:function(){return p}});var a=i(9753),l=i(60836),n=i(9544),s=i(98639),r=i(80542),o=i(31014),c=i(39513),d=i(2570),u=i(58852),m=i(3084),_=i(76665),k=i.n(_);let p=(0,n.Pi)(t=>{var e;let{className:i,track:n}=t,{formatMessage:_}=(0,r.Z)(),p=null===(e=n.file)||void 0===e?void 0:e.name,v=(0,s.useMemo)(()=>(0,a.jsx)(c.z,{variant:"text",withRipple:!1,"aria-label":_({id:"ugc.cancel-upload"}),color:"primary",children:(0,a.jsx)(d.Caption,{variant:"span",size:"m",type:"text",className:k().button,children:(0,a.jsx)(o.Z,{id:"ugc.cancel-upload"})})}),[_]),x=(0,s.useMemo)(()=>(0,a.jsx)(c.z,{variant:"text",withRipple:!1,"aria-label":_({id:"ugc.repeat-upload"}),color:"primary",children:(0,a.jsx)(d.Caption,{variant:"span",size:"m",type:"text",className:k().button,children:(0,a.jsx)(o.Z,{id:"ugc.repeat-upload"})})}),[_]),C=(0,s.useMemo)(()=>{switch(n.loadingState){case u.cU.IDLE:case u.cU.PREPARE:case u.cU.UPLOADING:return v;case u.cU.REJECT:return x;default:return null}},[v,x,n.loadingState]),y=(0,s.useMemo)(()=>{switch(n.loadingState){case u.cU.IDLE:case u.cU.PREPARE:case u.cU.UPLOADING:return(0,a.jsx)(o.Z,{id:"ugc.track-uploading-pending-status"});case u.cU.PROCESSING:case u.cU.RESOLVE:return(0,a.jsx)(o.Z,{id:"ugc.track-uploading-processing-status"});case u.cU.REJECT:return(0,a.jsx)(o.Z,{id:"ugc.track-uploading-error-status"})}},[n.loadingState]);return(0,a.jsxs)(m.Md,{"aria-label":p,className:(0,l.W)(k().root,k().card,i),children:[(0,a.jsx)(m.Df,{title:p,className:k().playButton}),(0,a.jsxs)("div",{className:k().meta,children:[(0,a.jsx)(d.Caption,{variant:"div",size:"m",className:k().title,children:p}),(0,a.jsx)(d.Caption,{variant:"div",size:"m",className:k().status,children:y})]}),(0,a.jsx)("div",{className:k().controls,children:C})]})})},62452:function(t){t.exports={root:"Disclaimer_root___gYw4",container:"Disclaimer_container__Tnsjy",title:"Disclaimer_title__9wHWb",text:"Disclaimer_text__bg6L1",link:"Disclaimer_link__iGciq",buttons:"Disclaimer_buttons__5idgM",button:"Disclaimer_button__OmGNo",shimmer:"Disclaimer_shimmer__vg_D2"}},8554:function(t){t.exports={root:"DisclaimerModal_root__sidbk",content:"DisclaimerModal_content___tRvp"}},81032:function(t){t.exports={root:"DragAndDropIcon_root__OstQU",root_active:"DragAndDropIcon_root_active__xOTKt"}},26889:function(t){t.exports={card_root:"HorizontalCardContainer_root__YoAAP",root:"ControlsBar_root__5HK2B",item:"ControlsBar_item__I_p99",contextMenu:"ControlsBar_contextMenu__8AFkQ",contextMenu_visible:"ControlsBar_contextMenu_visible__PYW8h",contextMenuWrapper:"ControlsBar_contextMenuWrapper__NHkn_",lightning:"ControlsBar_lightning__GBl7O",duration:"ControlsBar_duration__RawSk",duration_hidden:"ControlsBar_duration_hidden__szTkk",controls:"ControlsBar_controls__3nXlz",dislikeIcon:"ControlsBar_dislikeIcon__ENXh_",controls_disabled:"ControlsBar_controls_disabled__5KRgJ",explicitMark:"ControlsBar_explicitMark__w9l80",controls_dislikedControls:"ControlsBar_controls_dislikedControls__XvkXb",likeIcon:"ControlsBar_likeIcon__mrNiz",controls_dislikedColors:"ControlsBar_controls_dislikedColors__22gsG",popover:"ControlsBar_popover__WrYMt"}},21116:function(t){t.exports={card_root:"HorizontalCardContainer_root__YoAAP",explicitMark:"AudiobookMeta_explicitMark__1rN7x",metaContainer:"AudiobookMeta_metaContainer__F7d9X",metaContainer_oneLine:"AudiobookMeta_metaContainer_oneLine__D9CQh",titleContainer:"AudiobookMeta_titleContainer__GIY6Q",artists:"AudiobookMeta_artists__ScMoq",progress:"AudiobookMeta_progress__i3_kS",progress_disabled:"AudiobookMeta_progress_disabled__D_7E9",progress_withPreviousInfo:"AudiobookMeta_progress_withPreviousInfo__97Hxr"}},41894:function(t){t.exports={card_root:"HorizontalCardContainer_root__YoAAP",artistCaption:"Meta_artistCaption__JESZi",link:"Meta_link__IFDBA",albumTitle:"Meta_albumTitle__mHeOs",root:"Meta_root__R8n1h",root_withSecondaryColor:"Meta_root_withSecondaryColor___uENY",root_disabled:"Meta_root_disabled__Dpx_M",albumLink:"Meta_albumLink__gASh6",artists:"Meta_artists__VnR52",explicitMark:"Meta_explicitMark__ocnCV",title:"Meta_title__GGBnH",titleContainer:"Meta_titleContainer__gDuXr",version:"Meta_version__c2sHU",root_disliked:"Meta_root_disliked__DrZ7_",text:"Meta_text__Y5uYH",metaContainer:"Meta_metaContainer__7i2dp",titleContainer_withVersion:"Meta_titleContainer_withVersion__n7MdY"}},14795:function(t){t.exports={card_root:"HorizontalCardContainer_root__YoAAP",explicitMark:"PodcastMeta_explicitMark__IstkP",dateWithName:"PodcastMeta_dateWithName__cKy0o",podcastMetaContainer:"PodcastMeta_podcastMetaContainer__pFASj",podcastTitleContainer:"PodcastMeta_podcastTitleContainer__p9Zja",podcastName:"PodcastMeta_podcastName__iQeNK",progress:"PodcastMeta_progress__5DqlO",progress_disabled:"PodcastMeta_progress_disabled__KX04q",progress_withPreviousInfo:"PodcastMeta_progress_withPreviousInfo__eOrCi",soonDate:"PodcastMeta_soonDate__zGuG9",dateDisabled:"PodcastMeta_dateDisabled__DxjtJ",dateDisliked:"PodcastMeta_dateDisliked__95MlL"}},33273:function(t){t.exports={card_root:"HorizontalCardContainer_root__YoAAP",root:"PlayButtonWithPosition_root__H5FYg",playButton:"PlayButtonWithPosition_playButton__7cfDQ",playButtonIcon:"PlayButtonWithPosition_playButtonIcon___cLAL",playingAnimation:"PlayButtonWithPosition_playingAnimation__Hy5rC",position:"PlayButtonWithPosition_position__wk3OT",root_current:"PlayButtonWithPosition_root_current__FCDLJ",root_playing:"PlayButtonWithPosition_root_playing__RpnYU",root_disliked:"PlayButtonWithPosition_root_disliked__NIZzA",root_disabled:"PlayButtonWithPosition_root_disabled__PMV24"}},45982:function(t){t.exports={root:"ContextMenuPlaylistItem_root__jhTvn",icon:"ContextMenuPlaylistItem_icon__Eqwlv"}},56819:function(t){t.exports={root:"ContextSubMenuAddToPlaylist_root__ZGm6z",content:"ContextSubMenuAddToPlaylist_content__isTx4",virtualScroll:"ContextSubMenuAddToPlaylist_virtualScroll__SJG3e",important:"ContextSubMenuAddToPlaylist_important__OUL53",shimmer:"ContextSubMenuAddToPlaylist_shimmer__uQHAL",favouritesPlaylistItem:"ContextSubMenuAddToPlaylist_favouritesPlaylistItem__aFINX",icon:"ContextSubMenuAddToPlaylist_icon__2okWH"}},82079:function(t){t.exports={syncLyrics:"TrackContextMenu_syncLyrics___CDVn"}},66563:function(t){t.exports={root:"Track_root__dbDjD",root_disabled:"Track_root_disabled__53T42",ripple:"Track_ripple__f8iBh"}},98129:function(t){t.exports={root:"TrackCard_root__kIpe1",controls:"TrackCard_controls__E7Y3L",cover:"TrackCard_cover__tkVPB",coverBlock:"TrackCard_coverBlock__WdvvQ",image:"TrackCard_image__KsOFF",artists:"TrackCard_artists__wH48n",artistLink:"TrackCard_artistLink__aqLl7",titleContainer:"TrackCard_titleContainer__YCcZk",titleContainer_withVersion:"TrackCard_titleContainer_withVersion__fTRGu",title:"TrackCard_title__BVLuv",titleLink:"TrackCard_titleLink__NtPhm",version:"TrackCard_version__7iPuj",playButton:"TrackCard_playButton__ukJDd",likeButton:"TrackCard_likeButton__Hejrk",menuButton:"TrackCard_menuButton__XtYLf",trailerButton:"TrackCard_trailerButton__nGqhD",control:"TrackCard_control___huPc"}},55491:function(t){t.exports={playButtonCell:"TrackAlbum_playButtonCell__pLJte",controlsBarCell:"TrackAlbum_controlsBarCell__XUUCc"}},61383:function(t){t.exports={playButtonCell:"TrackChart_playButtonCell__cvY7u",controlsBarCell:"TrackChart_controlsBarCell__Xd5pn",chartCell:"TrackChart_chartCell__33_al"}},36818:function(t){t.exports={playButtonCell:"TrackNonMusic_playButtonCell__HaJrc",controlsBarCell:"TrackNonMusic_controlsBarCell__zWt44",dots:"TrackNonMusic_dots__Wom40",trackWithDots:"TrackNonMusic_trackWithDots__v2VbZ"}},25803:function(t){t.exports={playButtonCell:"TrackPlaylist_playButtonCell__Q6YT_",controlsBarCell:"TrackPlaylist_controlsBarCell__6clda",dots:"TrackPlaylist_dots__nLYej",trackWithDots:"TrackPlaylist_trackWithDots__EU6LD"}},98387:function(t){t.exports={playButtonCell:"TrackPlaylistAddition_playButtonCell__Ocnhq",controls:"TrackPlaylistAddition_controls__S346Y",button:"TrackPlaylistAddition_button__fsY9k"}},76665:function(t){t.exports={root:"Track_root__dbDjD",card:"TrackUgcUpload_card__bidIG",playButton:"TrackUgcUpload_playButton__3l2I7",meta:"TrackUgcUpload_meta__aHQv9",title:"TrackUgcUpload_title__Xq3UP",status:"TrackUgcUpload_status__aFGvl",controls:"TrackUgcUpload_controls__Ie2Ox"}},23476:function(t){t.exports={navigateToAlbumIcon:"ContextMenuItem_navigateToAlbumIcon__rB5Zh"}}}]);