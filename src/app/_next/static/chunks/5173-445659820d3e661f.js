(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5173],{45173:function(e,t,a){"use strict";a.d(t,{KN:function(){return y.MixedEntitiesBlock},gK:function(){return b.SearchCorrectedText},hF:function(){return T.SearchEmpty},xz:function(){return j.SearchEntitiesGrid},y9:function(){return I.SearchHistoryBlock},Iv:function(){return A},Id:function(){return E.SearchMixed},R_:function(){return N.SearchPodcastList},XM:function(){return P.SearchTrackList},Fu:function(){return o.F},vy:function(){return l.useClearHistory}}),a(95660);var i=a(13555);a(24136);var r=a(82621),s=a(54146),o=a(42835),l=a(86761),n=a(97898),c=a(98645),d=a(70124),u=a(11232),m=a(88693);let _=n.V5.model("SearchAlbum",{type:n.V5.literal(c.S.ALBUM),data:i.ug}),h=n.V5.model("SearchPlaylist",{type:n.V5.literal(c.S.PLAYLIST),data:r.d2}),x=n.V5.model("SearchArtist",{type:n.V5.literal(c.S.ARTIST),data:u.Go}),S=n.V5.model("SearchUgcTrack",{type:n.V5.literal(c.S.UGC_TRACK),data:s.bc}),C=n.V5.model("SearchTrack",{type:n.V5.literal(c.S.TRACK),data:s.le}),p=n.V5.model("SearchVibe",{type:n.V5.literal(c.S.WAVE),data:m.KW}),v=n.V5.model("SearchPodcast",{type:n.V5.literal(c.S.PODCAST),data:i.ug}),k=n.V5.model("SearchPodcastEpisode",{type:n.V5.literal(c.S.PODCAST_EPISODE),data:s.le}),f=n.V5.model("SearchClip",{type:n.V5.literal(c.S.CLIP),data:d.x$}),A=n.V5.union(_,h,x,C,S,p,v,k,f);var y=a(50661);a(84895),a(62567),a(25414);var b=a(31819),T=a(89507),j=a(52593),I=a(41904),E=a(34952),N=a(55696),P=a(56378)},42835:function(e,t,a){"use strict";a.d(t,{F:function(){return o}});var i=a(95660),r=a(98645),s=a(62567);let o=e=>{switch(e.type){case r.S.UGC_TRACK:case r.S.TRACK:case r.S.PODCAST_EPISODE:{let t=e.data;return(0,i.jsx)(s.YL,{track:t},"".concat(e.type,"-").concat(t.id))}case r.S.ARTIST:{let t=e.data;return(0,i.jsx)(s.q3,{artist:t},"".concat(e.type,"-").concat(t.id))}case r.S.PLAYLIST:{let t=e.data;return(0,i.jsx)(s.tN,{playlist:t},t.key)}case r.S.ALBUM:{let t=e.data;return(0,i.jsx)(s.sx,{album:t},"".concat(e.type,"-").concat(t.id))}default:return null}}},86761:function(e,t,a){"use strict";a.d(t,{useClearHistory:function(){return u}});var i=a(95660),r=a(97667),s=a(71859),o=a(36621),l=a(71037),n=a(20794),c=a(96235);let d="/search",u=e=>{let{user:t,search:a}=(0,n.oR4)(),{formatMessage:u}=(0,o.Z)(),{notify:m}=(0,n.d$W)(),_=(0,r.useRouter)();return(0,s.useEffect)(()=>{a.isEmptyHistory&&_.push(d)},[a.isEmptyHistory,_]),(0,s.useCallback)(()=>{try{var r;(null===(r=t.account)||void 0===r?void 0:r.uid)&&a.clearHistory({userId:t.account.uid}),m((0,i.jsx)(c.Yj,{message:(0,i.jsx)(l.Z,{id:"search.cleared-history"})}),{containerId:n.W$x.INFO}),e&&e(),_.push(d)}catch(e){m((0,i.jsx)(c.Q,{error:u({id:"error-messages.error-during-action"})}),{containerId:n.W$x.ERROR})}},[t.account.uid,m,e,_,a,u])}},50661:function(e,t,a){"use strict";a.d(t,{MixedEntitiesBlock:function(){return S}});var i,r,s=a(95660),o=a(23974),l=a(6657),n=a(71859),c=a(9883),d=a(63778),u=a(96235),m=a(84895),_=a(51996),h=a.n(_);(i=r||(r={})).ONE="one",i.TWO="two";let x=e=>{let{forwardRef:t,isLoading:a,title:i,description:r,viewAllAction:_,coverUrl:x,children:S,className:C="",maxColumns:p=2,itemsPerColumn:v=3,containerClassName:k="",headerClassName:f="",titleSize:A,showControls:y=!1}=e,[b,T]=(0,n.useState)(),j=(0,n.useRef)(null),I=(0,n.useId)(),E=(0,n.useMemo)(()=>{let e=(0,l.Z)(S,v).slice(0,p);return 1===e.length?T("one"):T("two"),e.map((e,t)=>(0,s.jsx)(m.MixedEntitiesList,{shimmersCount:3,isLoading:a,className:h().column,children:e},t))},[S,a,v,p]);return(0,s.jsxs)("section",{ref:t,className:(0,o.W)(C,h().root),...(0,c.BA)(c.QM.search.SEARCH_ENTITIES_BLOCK_CONTAINER),children:[(0,s.jsx)(u.ti,{className:f,labeledForId:I,title:i,description:r,coverUrl:x,viewAllActionLink:_,titleSize:A,controls:y&&(0,s.jsx)(u.J8,{className:h().controls,carouselRef:j})}),(0,s.jsx)(d.l,{className:k,ref:j,itemClassName:(0,o.W)(h().columns,h()["columns_".concat(a&&p>1?"two":b)]),"aria-labelledby":I,role:"group",children:E})]})},S=(0,n.forwardRef)((e,t)=>(0,s.jsx)(x,{forwardRef:t,...e}))},84895:function(e,t,a){"use strict";a.d(t,{MixedEntitiesList:function(){return h}});var i=a(95660),r=a(71859),s=a(36621),o=a(23974),l=a(18344),n=a(33460),c=a.n(n);let d=e=>{let{className:t,ariaLabel:a}=e;return(0,i.jsxs)("div",{tabIndex:0,"aria-label":a,"aria-live":"polite","aria-busy":!0,className:(0,o.W)(c().root,t),children:[(0,i.jsxs)("div",{className:c().infoContainer,children:[(0,i.jsx)(l.Shimmer,{className:c().cover,radius:"s"}),(0,i.jsxs)("div",{className:c().textContainer,children:[(0,i.jsx)(l.Shimmer,{className:c().title,radius:"s"}),(0,i.jsx)(l.Shimmer,{className:c().description,radius:"s"})]})]}),(0,i.jsx)(l.Shimmer,{className:c().action,radius:"s"})]})};var u=a(29727),m=a.n(u);let _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,{formatMessage:t}=(0,s.Z)(),a=(0,r.useMemo)(()=>t({id:"loading-messages.entity-is-loading"},{entityName:t({id:"search.history"})}),[t]);return Array.from({length:e},(e,t)=>(0,i.jsx)(d,{className:m().shimmer,ariaLabel:a},t))},h=e=>{let{isLoading:t,shimmersCount:a,className:r,children:s}=e;return(0,i.jsx)("div",{className:r,children:t?_(a):s})}},59284:function(e,t,a){"use strict";a.d(t,{AlbumItem:function(){return p}});var i=a(95660),r=a(23974),s=a(44744),o=a(71859),l=a(9883),n=a(20062),c=a(39661),d=a(15706),u=a(42255),m=a(13555),_=a(20794),h=a(96235),x=a(25414),S=a(87213),C=a.n(S);let p=(0,s.Pi)(e=>{var t;let{className:a,album:s}=e,{from:S}=(0,_.MhG)({pageId:_.Rhz.SEARCH}),p=(0,_.s0h)(s.url),{isPlaying:v,isCurrent:k,togglePlay:f}=(0,_.qmq)({playContextParams:{contextData:{type:n.A.Album,meta:{id:s.id},from:S},loadContextMeta:!0}}),A=(0,m.jV)({album:s,callback:p}),y=(0,m.jV)({album:s,callback:f}),{sendPlaySearchFeedback:b}=(0,_.sAF)(),[T,j]=(0,o.useState)(!1),I=(0,o.useCallback)(()=>{T||v||(j(!0),null==b||b()),y()},[v,T,b,y]),E=(0,o.useCallback)(e=>{(0,c.m)(e,C().ripple),A(e)},[A]),N=(0,o.useCallback)(e=>{A(e)},[A]),P=(0,o.useCallback)(e=>(0,i.jsx)(h.Df,{isAvailable:s.isAvailable,isDisliked:!1,coverUri:s.coverUri,title:s.title,className:C().playButtonCell,...e}),[s]),L=null==P?void 0:P({onPlayButtonClick:I,isPlaying:v,isCurrent:k}),M=(0,o.useMemo)(()=>s.url&&s.isAvailable?(0,i.jsx)(h.rU,{className:(0,r.W)(C().text,C().titleLink),href:s.url,onClick:N,children:s.title}):(0,i.jsx)(u.Caption,{className:(0,r.W)(C().text,C().titleText),size:"m",variant:"div",type:"text",children:s.title}),[s.isAvailable,s.title,s.url,N]);return(0,i.jsxs)(h.Md,{className:(0,r.W)(C().root,{[C().root_disabled]:!s.isAvailable},a),"aria-label":"".concat(s.artistNames," ").concat(s.title," ").concat(null!==(t=s.version)&&void 0!==t?t:""),onClick:E,...(0,l.BA)(l.QM.search.SEARCH_MIXED_ENTITIES_LIST_ALBUM_ITEM),children:[L,(0,i.jsx)(x.J,{isDisabled:!s.isAvailable,artists:s.artists,version:s.version,title:M,explicitMarkVariant:s.albumExplicitMark}),(0,i.jsx)("div",{className:C().controlsBarCell,children:(0,i.jsx)(d.Icon,{className:C().buttonArrow,variant:"arrowRight",size:"xs"})})]})})},69394:function(e,t,a){"use strict";a.d(t,{ArtistItem:function(){return v}});var i=a(95660),r=a(23974),s=a(44744),o=a(71859),l=a(36621),n=a(9883),c=a(20062),d=a(39661),u=a(15706),m=a(42255),_=a(24136),h=a(20794),x=a(96235),S=a(25414),C=a(87213),p=a.n(C);let v=(0,s.Pi)(e=>{let{className:t,artist:a}=e,{from:s}=(0,h.MhG)({pageId:h.Rhz.SEARCH}),C=(0,h.s0h)(a.url),{formatMessage:v}=(0,l.Z)(),{isPlaying:k,isCurrent:f,togglePlay:A}=(0,h.qmq)({playContextParams:{contextData:{type:c.A.Artist,meta:{id:Number(a.id)},from:s},loadContextMeta:!0}}),y=(0,_.v2)({artist:a,callback:C}),b=(0,_.v2)({artist:a,callback:A}),{sendPlaySearchFeedback:T}=(0,h.sAF)(),[j,I]=(0,o.useState)(!1),E=(0,o.useCallback)(()=>{j||k||(I(!0),null==T||T()),b()},[b,k,j,T]),N=(0,o.useCallback)(e=>{(0,d.m)(e,p().ripple),y(e)},[y]),P=(0,o.useCallback)(e=>{y(e)},[y]),L=(0,o.useCallback)(e=>(0,i.jsx)(x.Df,{isAvailable:a.isAvailable,isDisliked:!1,coverUri:a.coverUri,title:a.name,className:p().playButtonCell,radius:"round",...e}),[a,!1]),M=null==L?void 0:L({onPlayButtonClick:E,isPlaying:k,isCurrent:f}),B=(0,o.useMemo)(()=>a.url&&a.isAvailable?(0,i.jsx)(x.rU,{className:(0,r.W)(p().text,p().titleLink),href:a.url,onClick:P,children:a.name}):(0,i.jsx)(m.Caption,{className:(0,r.W)(p().text,p().titleText),size:"m",variant:"div",type:"text",children:a.name}),[a.isAvailable,a.name,a.url,P]);return(0,i.jsxs)(x.Md,{className:(0,r.W)(p().root,{[p().root_disabled]:!a.isAvailable},t),"aria-label":a.name,onClick:N,...(0,n.BA)(n.QM.search.SEARCH_MIXED_ENTITIES_LIST_ARTIST_ITEM),children:[M,(0,i.jsx)(S.J,{isDisabled:!a.isAvailable,isDisliked:!1,title:B,description:v({id:"entity-names.singer"})}),(0,i.jsx)("div",{className:p().controlsBarCell,children:(0,i.jsx)(u.Icon,{className:p().buttonArrow,variant:"arrowRight",size:"xs"})})]})})},12222:function(e,t,a){"use strict";a.d(t,{PlaylistItem:function(){return p}});var i=a(95660),r=a(23974),s=a(44744),o=a(71859),l=a(36621),n=a(9883),c=a(20062),d=a(39661),u=a(15706),m=a(42255),_=a(20794),h=a(96235),x=a(25414),S=a(87213),C=a.n(S);let p=(0,s.Pi)(e=>{let{className:t,playlist:a}=e,{from:s}=(0,_.MhG)({pageId:_.Rhz.SEARCH}),S=(0,_.s0h)(a.url),p=a.title||"",{formatMessage:v}=(0,l.Z)(),{isPlaying:k,isCurrent:f,togglePlay:A}=(0,_.qmq)({playContextParams:{contextData:{type:c.A.Playlist,meta:{id:a.id,uuid:a.uuid},from:s},loadContextMeta:!0}}),{sendPlaySearchFeedback:y}=(0,_.sAF)(),[b,T]=(0,o.useState)(!1),j=(0,o.useCallback)(()=>{b||k||(T(!0),null==y||y()),A()},[k,b,y,A]),I=(0,o.useCallback)(e=>{a.isAvailable&&((0,d.m)(e,C().ripple),S())},[S,a.isAvailable]),E=(0,o.useCallback)(()=>{a.isAvailable&&S()},[S,a.isAvailable]),N=(0,o.useCallback)(e=>(0,i.jsx)(h.Df,{isAvailable:a.isAvailable,isDisliked:!1,coverUri:a.coverUri,title:p,className:C().playButtonCell,...e}),[a,p]),P=null==N?void 0:N({onPlayButtonClick:j,isPlaying:k,isCurrent:f}),L=(0,o.useMemo)(()=>a.url&&a.isAvailable?(0,i.jsx)(h.rU,{className:(0,r.W)(C().text,C().titleLink),href:a.url,onClick:E,children:p}):(0,i.jsx)(m.Caption,{className:(0,r.W)(C().text,C().titleText),size:"m",variant:"div",type:"text",children:p}),[E,a.isAvailable,a.url,p]);return(0,i.jsxs)(h.Md,{className:(0,r.W)(C().root,{[C().root_disabled]:!a.isAvailable},t),"aria-label":a.title||v({id:"entity-names.playlist"}),onClick:I,...(0,n.BA)(n.QM.search.SEARCH_MIXED_ENTITIES_LIST_PLAYLIST_ITEM),children:[P,(0,i.jsx)(x.J,{isDisabled:!a.isAvailable,title:L}),(0,i.jsx)("div",{className:C().controlsBarCell,children:(0,i.jsx)(u.Icon,{className:C().buttonArrow,variant:"arrowRight",size:"xs"})})]})})},67525:function(e,t,a){"use strict";a.d(t,{TrackItem:function(){return C}});var i=a(95660),r=a(23974),s=a(44744),o=a(71859),l=a(9883),n=a(20062),c=a(17202),d=a(62812),u=a(39661),m=a(54146),_=a(20794),h=a(96235),x=a(87213),S=a.n(x);let C=(0,s.Pi)(e=>{var t;let{className:a,track:s}=e,{track:x}=(0,_.oR4)(),{from:C}=(0,_.MhG)({pageId:_.Rhz.SEARCH}),{isPlaying:p,isCurrent:v,togglePlay:k,restartPlay:f}=(0,_.qmq)({playContextParams:{contextData:{type:n.A.Various,meta:{id:s.entityId},from:C,overrideContextType:c.Z.Search},queueParams:{index:0},loadContextMeta:!0},entityId:s.entityId}),A=(0,m.nD)({track:s,callback:k}),y=(0,o.useCallback)(()=>{x.open({trackId:s.id,albumId:s.albumId})},[x,s.id,s.albumId]),b=(0,m.nD)({track:s,callback:y}),{sendPlaySearchFeedback:T}=(0,_.sAF)(),[j,I]=(0,o.useState)(!1),E=(0,o.useCallback)(()=>{j||p||(I(!0),null==T||T()),A()},[p,j,T,A]),N=(0,o.useCallback)(()=>{p?f():E()},[p,f,E]),P=(0,o.useCallback)(e=>{2===e.detail?N():(s.hasTrackLink&&b(),(0,u.m)(e,S().ripple))},[b,N,s.hasTrackLink]),L=(0,o.useCallback)(e=>(0,i.jsx)(h.Df,{isAvailable:s.isAvailable,isDisliked:s.isDisliked,coverUri:s.coverUri,title:s.title,className:S().playButtonCell,...e}),[s]),M=null==L?void 0:L({onPlayButtonClick:E,isPlaying:p,isCurrent:v});return(0,i.jsxs)(h.Md,{className:(0,r.W)(S().root,a),"aria-label":"".concat(s.artistsNames," ").concat(s.title," ").concat(null!==(t=s.version)&&void 0!==t?t:""),onClick:P,...(0,l.BA)(l.QM.search.SEARCH_MIXED_ENTITIES_LIST_TRACK_ITEM),children:[M,s.type===d.V.PODCAST?(0,i.jsx)(m.wT,{track:s,playContextParams:{contextData:{type:n.A.Various,meta:{id:s.albumId?"".concat(s.id,":").concat(s.albumId):s.id},from:C},queueParams:{index:0},loadContextMeta:!0},withPodcastName:!0,withListeningProgress:!0}):(0,i.jsx)(m.ko,{track:s}),(0,i.jsx)(m.jt,{className:S().controlsBarCell,track:s})]})})},62567:function(e,t,a){"use strict";a.d(t,{YL:function(){return o.TrackItem},q3:function(){return r.ArtistItem},sx:function(){return i.AlbumItem},tN:function(){return s.PlaylistItem}});var i=a(59284),r=a(69394),s=a(12222),o=a(67525)},25414:function(e,t,a){"use strict";a.d(t,{J:function(){return d}});var i=a(95660),r=a(23974),s=a(42255),o=a(11232),l=a(96235),n=a(62524),c=a.n(n);let d=e=>{let{isDisliked:t,isDisabled:a,artists:n=[],description:d,explicitMarkVariant:u,className:m,version:_,title:h}=e;return(0,i.jsxs)("div",{className:(0,r.W)(c().root,{[c().root_disabled]:a,[c().root_disliked]:t},m),children:[(0,i.jsxs)("div",{className:c().titleContainer,children:[(0,i.jsxs)(s.Caption,{className:(0,r.W)(c().text,c().title,{[c().title_withVersion]:_}),size:"m",variant:"div",lineClamp:1,type:"text",children:[h,_&&(0,i.jsx)(s.Caption,{className:(0,r.W)(c().text,c().version),size:"m",variant:"div",type:"text",children:" ".concat(_)})]}),u&&(0,i.jsx)(l.$i,{className:c().explicitMark,variant:u})]}),n.length>0&&(0,i.jsx)(o.jO,{linkClassName:(0,r.W)(c().text,c().artistLink),captionClassName:(0,r.W)(c().text,c().artistCaption),artists:n,lineClamp:1,withLink:!a}),!n&&d&&(0,i.jsx)(s.Caption,{className:(0,r.W)(c().text,c().description),variant:"span",type:"text",lineClamp:1,children:d})]})}},31819:function(e,t,a){"use strict";a.d(t,{SearchCorrectedText:function(){return u}});var i=a(95660),r=a(71859),s=a(71037),o=a(9883),l=a(93062),n=a(42255),c=a(21907),d=a.n(c);let u=e=>{let{onCorrectText:t,searchCorrectedText:a}=e,c=(0,r.useMemo)(()=>({text:(0,i.jsx)(l.z,{"aria-label":a,variant:"text",radius:"xs",onClick:t,...(0,o.BA)(o.QM.search.SEARCH_CORRECTED_TEXT_BUTTON),children:(0,i.jsx)(n.Caption,{className:d().link,variant:"span",size:"m",type:"text",children:a})})}),[a,t]);return(0,i.jsx)("div",{className:d().root,...(0,o.BA)(o.QM.search.SEARCH_CORRECTED_TEXT_CONTAINER),children:(0,i.jsx)(n.Caption,{className:d().text,variant:"span",size:"m",type:"text",children:(0,i.jsx)(s.Z,{id:"search.corrected-text",values:c})})})}},89507:function(e,t,a){"use strict";a.d(t,{SearchEmpty:function(){return x}});var i=a(95660),r=a(23974),s=a(71859),o=a(36621),l=a(9883),n=a(15706),c=a(64275),d=a(42255),u=a(96235),m=a(33123),_=a.n(m);let h=e=>{let{forwardRef:t,className:a,searchCorrectedText:s}=e,{formatMessage:m}=(0,o.Z)();return(0,i.jsxs)(c.t,{className:(0,r.W)(_().root,a),containerClassName:_().container,ref:t,children:[(0,i.jsxs)("div",{className:_().content,...(0,l.BA)(l.QM.search.SEARCH_EMPTY_CONTAINER),children:[s&&(0,i.jsx)("div",{className:_().correctedTextBlock,children:s}),(0,i.jsx)(n.Icon,{className:_().icon,variant:"search",size:"xxl",...(0,l.BA)(l.QM.search.SEARCH_EMPTY_ICON)}),(0,i.jsx)(d.Heading,{className:_().title,size:"s",weight:"bold",variant:"h3",...(0,l.BA)(l.QM.search.SEARCH_EMPTY_HEADER),children:m({id:"search-results.not-found-title"})}),(0,i.jsx)(d.Caption,{className:_().subtitle,variant:"div",type:"text",size:"l",weight:"normal",...(0,l.BA)(l.QM.search.SEARCH_EMPTY_DESCRIPTION),children:m({id:"search-results.not-found-description"})})]}),(0,i.jsx)(u.$_,{className:_().footer})]})},x=(0,s.forwardRef)((e,t)=>(0,i.jsx)(h,{forwardRef:t,...e}))},52593:function(e,t,a){"use strict";a.d(t,{SearchEntitiesGrid:function(){return f}});var i=a(95660),r=a(23974),s=a(71859),o=a(98645),l=a(95188),n=a(64275),c=a(13555),d=a(24136),u=a(70124),m=a(82621),_=a(20794),h=a(96235),x=a(69259),S=a(43236);let C=(e,t)=>t===x.a.BOOK?e.filter(e=>e.type===o.S.PODCAST&&e.data.type===S.V.AUDIOBOOK):e.filter(e=>e.type===t);var p=a(55495),v=a.n(p);let k=e=>{let{forwardRef:t,className:a,results:x,filter:S,isLoading:p,sendSearchFeedback:k,searchCorrectedText:f,children:A}=e,[y,b]=(0,s.useState)(0),T=(0,s.useMemo)(()=>{if(p)return(0,i.jsx)(h.Wm,{isActive:!0,itemClassName:v().block,round:S===o.S.ARTIST,centered:S===o.S.ARTIST,count:36,shimmerClassName:S===o.S.CLIP&&v().video});let e=C(x,S);return b(e.length),e.map((e,t)=>{switch(e.type){case o.S.ALBUM:return(0,i.jsx)(_.B1g.Provider,{value:{sendSearchFeedback:k,id:e.data.id,type:l.B.ALBUM,blockPosition:0,position:t},children:(0,i.jsx)(c.rf,{album:e.data},e.data.id)},e.data.id);case o.S.PLAYLIST:return(0,i.jsx)(_.B1g.Provider,{value:{sendSearchFeedback:k,id:e.data.id,type:l.B.PLAYLIST,blockPosition:0,position:t},children:(0,i.jsx)(m.ZL,{playlist:e.data},e.data.key)},e.data.id);case o.S.ARTIST:return(0,i.jsx)(_.B1g.Provider,{value:{sendSearchFeedback:k,id:e.data.id,type:l.B.ARTIST,blockPosition:0,position:t},children:(0,i.jsx)(d.IT,{artist:e.data},e.data.id)},e.data.id);case o.S.PODCAST:return(0,i.jsx)(_.B1g.Provider,{value:{sendSearchFeedback:k,id:e.data.id,type:l.B.PODCAST,blockPosition:0,position:t},children:(0,i.jsx)(c.rf,{album:e.data,withLikesCount:!0,withAddition:!1},e.data.id)},e.data.id);case o.S.CLIP:return(0,i.jsx)(_.B1g.Provider,{value:{sendSearchFeedback:k,id:e.data.clipId,type:l.B.CLIP,blockPosition:0,position:t},children:(0,i.jsx)(u.xq,{clip:e.data},e.data.clipId)},e.data.clipId);default:return null}})},[p,x,S,k]);return(0,i.jsxs)(n.t,{className:(0,r.W)(v().root,a),containerClassName:v().container,ref:t,children:[(0,i.jsxs)("div",{children:[f&&(0,i.jsx)("div",{className:v().correctedTextBlock,children:f}),(0,i.jsx)("div",{className:(0,r.W)(v().items,{[v().video]:S===o.S.CLIP,[v().items_withChildren]:y>0&&!!A}),children:T}),A]}),(0,i.jsx)(h.$_,{className:v().footer})]})},f=(0,s.forwardRef)((e,t)=>(0,i.jsx)(k,{forwardRef:t,...e}))},41904:function(e,t,a){"use strict";a.d(t,{SearchHistoryBlock:function(){return T}});var i=a(95660),r=a(44744),s=a(20794),o=a(71859),l=a(36621),n=a(9883),c=a(42835),d=a(50661),u=a(59386),m=a.n(u);let _="/search/history",h=e=>e===_,x=(0,r.Pi)(()=>{var e;let t=(0,s.uK4)().get(s.U5t),{search:a,user:r}=(0,s.oR4)(),{formatMessage:u}=(0,l.Z)(),x=a.history.items;if(a.isHistoryReady&&(null===(e=r.account)||void 0===e?void 0:e.uid)&&(0,o.use)(a.getHistory({userId:r.account.uid,config:t})),(0,o.useEffect)(()=>()=>{var e;h(null===(e=location)||void 0===e?void 0:e.pathname)||a.resetHistoryStateRequest()},[a]),0===x.length)return null;let S=x.map(c.F).filter(e=>e);return(0,i.jsx)("section",{className:m().root,...(0,n.BA)(n.QM.search.SEARCH_HISTORY_BLOCK_CONTAINER),children:(0,i.jsx)(d.MixedEntitiesBlock,{headerClassName:m().header,containerClassName:m().content,isLoading:a.isHistoryLoading,title:u({id:"search.history"}),viewAllAction:_,maxColumns:2,itemsPerColumn:4,showControls:!0,children:S})})});var S=a(71037),C=a(93062),p=a(42255),v=a(86761),k=a(4689),f=a.n(k);let A="/search/history",y=e=>e===A,b=(0,r.Pi)(()=>{var e;let t=(0,s.uK4)().get(s.U5t),{search:a,user:r}=(0,s.oR4)(),{formatMessage:n}=(0,l.Z)(),u=(0,v.useClearHistory)(a.resetHistoryItems),m=a.history.items;if(a.isHistoryReady&&(null===(e=r.account)||void 0===e?void 0:e.uid)&&(0,o.use)(a.getHistory({userId:r.account.uid,config:t})),(0,o.useEffect)(()=>()=>{var e;y(null===(e=location)||void 0===e?void 0:e.pathname)||a.resetHistoryStateRequest()},[a]),0===m.length)return null;let _=m.map(c.F).filter(e=>e);return(0,i.jsxs)("div",{children:[(0,i.jsx)(d.MixedEntitiesBlock,{headerClassName:f().header,containerClassName:f().mixedEntitiesBlock,isLoading:a.isHistoryLoading,title:n({id:"search.history"}),viewAllAction:A,titleSize:"xs",children:_}),(0,i.jsx)("div",{className:f().buttonContainer,children:(0,i.jsx)(C.z,{className:f().button,"aria-label":n({id:"search.clear-history"}),disabled:!m.length,size:"default",radius:"xxxl",onClick:u,children:(0,i.jsx)(p.Caption,{variant:"span",size:"m",type:"text",children:(0,i.jsx)(S.Z,{id:"search.clear-history"})})})})]})}),T=(0,r.Pi)(()=>{let{settings:e}=(0,s.oR4)();return e.layout===s.t8m.Mobile?(0,i.jsx)(b,{}):(0,i.jsx)(x,{})})},34952:function(e,t,a){"use strict";a.d(t,{SearchMixed:function(){return j}});var i=a(95660),r=a(23974),s=a(71859),o=a(36621),l=a(98645),n=a(64275),c=a(96235),d=a(44744),u=a(17202),m=a(95188),_=a(13555),h=a(24136),x=a(82621),S=a(54146),C=a(88693),p=a(20794);let v=e=>e.filter(e=>e.type!==l.S.PODCAST_EPISODE),k=(0,d.Pi)(e=>{let{forwardRef:t,isLoading:a=!1,items:r=[],title:s,sendSearchFeedback:o,blockPosition:n=0,containerClassName:d,headerClassName:k,className:f}=e,A=v(r);return(0,i.jsx)(c.HY,{isShimmerVisible:a,isShimmerActive:!0,className:f,containerClassName:d,headerClassName:k,showHeaderShimmer:!0,title:s,ref:t,children:A.map((e,t)=>{switch(e.type){case l.S.ALBUM:return(0,i.jsx)(p.B1g.Provider,{value:{sendSearchFeedback:o,id:e.data.id,type:m.B.ALBUM,blockPosition:n,position:t},children:(0,i.jsx)(_.rf,{album:e.data,contentLinesCount:3})},e.data.id);case l.S.ARTIST:return(0,i.jsx)(p.B1g.Provider,{value:{sendSearchFeedback:o,id:e.data.id,type:m.B.ARTIST,blockPosition:n,position:t},children:(0,i.jsx)(h.IT,{artist:e.data,contentLinesCount:3})},e.data.id);case l.S.PLAYLIST:return(0,i.jsx)(p.B1g.Provider,{value:{sendSearchFeedback:o,id:e.data.id,type:m.B.PLAYLIST,blockPosition:n,position:t},children:(0,i.jsx)(x.ZL,{playlist:e.data,contentLinesCount:3})},e.data.key);case l.S.UGC_TRACK:case l.S.TRACK:return(0,i.jsx)(p.B1g.Provider,{value:{sendSearchFeedback:o,id:e.data.albumId?"".concat(e.data.id,":").concat(e.data.albumId):e.data.id,type:m.B.TRACK,blockPosition:n,position:t},children:(0,i.jsx)(S.G7,{track:e.data,overrideContextType:u.Z.Search})},e.data.id);case l.S.WAVE:return(0,i.jsx)(p.B1g.Provider,{value:{sendSearchFeedback:o,id:e.data.stationId,type:m.B.WAVE,blockPosition:n,position:t},children:(0,i.jsx)(C.op,{vibe:e.data})},e.data.stationId);case l.S.PODCAST:return(0,i.jsx)(p.B1g.Provider,{value:{sendSearchFeedback:o,id:e.data.id,type:m.B.PODCAST,blockPosition:n,position:t},children:(0,i.jsx)(_.rf,{album:e.data,contentLinesCount:3,withLikesCount:!0,withAddition:!1})},e.data.id)}})})}),f=(0,s.forwardRef)((e,t)=>(0,i.jsx)(k,{forwardRef:t,...e}));var A=a(22719),y=a.n(A);let b=()=>Array.from([,,].keys()).map(e=>(0,i.jsx)(f,{isLoading:!0,className:y().block,headerClassName:y().blockHeader,containerClassName:y().blockCarousel},e)),T=e=>{let{forwardRef:t,className:a,results:d,isLoading:u,sendSearchFeedback:m,searchCorrectedText:_}=e,{formatMessage:h}=(0,o.Z)(),x=(0,s.useMemo)(()=>{if(u)return(0,i.jsx)(b,{});let e={[l.S.ALL]:{message:h({id:"search-results.best"}),type:l.S.ALL,items:[]},[l.S.ARTIST]:{message:h({id:"search-results.artist"}),type:l.S.ARTIST,items:[]},[l.S.PODCAST]:{message:h({id:"search-results.podcasts-and-books"}),type:l.S.PODCAST,items:[]},[l.S.ALBUM]:{message:h({id:"search-results.album"}),type:l.S.ALBUM,items:[]},[l.S.PLAYLIST]:{message:h({id:"search-results.playlist"}),type:l.S.PLAYLIST,items:[]}};return d.forEach(t=>{var a,i;null===(a=e[t.type])||void 0===a||a.items.push(t),null===(i=e[l.S.ALL])||void 0===i||i.items.push(t)}),Object.getOwnPropertyNames(e).filter(t=>e[t].items.length>0).map((t,a)=>{let r=e[t];return(0,i.jsx)(f,{className:y().block,headerClassName:y().blockHeader,containerClassName:y().blockCarousel,blockPosition:a,items:r.items,title:r.message,sendSearchFeedback:m},a)})},[u,d,h,m]);return(0,i.jsxs)(n.t,{className:(0,r.W)(y().root,a),containerClassName:y().container,ref:t,children:[(0,i.jsxs)("div",{className:y().content,children:[_&&(0,i.jsx)("div",{className:y().correctedTextBlock,children:_}),(0,i.jsx)("div",{className:y().items,children:x})]}),(0,i.jsx)(c.$_,{className:y().footer})]})},j=(0,s.forwardRef)((e,t)=>(0,i.jsx)(T,{forwardRef:t,...e}))},55696:function(e,t,a){"use strict";a.d(t,{SearchPodcastList:function(){return f}});var i=a(95660),r=a(71859),s=a(69259),o=a(98645);let l=e=>{let t=[],a=[];return e.forEach(e=>{e.type===o.S.PODCAST?t.push(e):a.push(e)}),{podcasts:t,podcastEpisodes:a}};var n=a(52593),c=a(44744),d=a(36621),u=a(20062),m=a(95188),_=a(54146),h=a(20794),x=a(50661),S=a(67788),C=a.n(S);let p=(0,c.Pi)(e=>{let{results:t,isLoading:a,sendSearchFeedback:s}=e,{from:o}=(0,h.MhG)(),{formatMessage:l}=(0,d.Z)(),n=(0,r.useMemo)(()=>t.map((e,t)=>{let a=e.data.albumId?"".concat(e.data.id,":").concat(e.data.albumId):e.data.id;return(0,i.jsx)(h.B1g.Provider,{value:{sendSearchFeedback:s,id:e.data.id,type:m.B.PODCAST_EPISODE,blockPosition:0,position:t},children:(0,i.jsx)(_.FP,{track:e.data,playContextParams:{contextData:{type:u.A.Various,meta:{id:a},from:o},queueParams:{index:0},loadContextMeta:!0},withPodcastName:!0})},a)}),[t,o,s]);return(0,i.jsx)(x.MixedEntitiesBlock,{className:C().root,headerClassName:C().header,containerClassName:C().content,isLoading:a,title:l({id:"search-results.podcast-episodes"}),maxColumns:1,itemsPerColumn:4,showControls:!0,children:n})}),v=(0,r.forwardRef)((e,t)=>(0,i.jsx)(p,{forwardRef:t,...e})),k=e=>{let{isLoading:t,results:a,sendSearchFeedback:r,searchCorrectedText:o,className:c}=e,{podcasts:d,podcastEpisodes:u}=l(a);return(0,i.jsx)(n.SearchEntitiesGrid,{className:c,isLoading:t,results:d,filter:s.a.PODCAST,sendSearchFeedback:r,searchCorrectedText:o,children:u.length>0?(0,i.jsx)(v,{sendSearchFeedback:r,results:u,isLoading:t}):void 0})},f=(0,r.forwardRef)((e,t)=>(0,i.jsx)(k,{forwardRef:t,...e}))},56378:function(e,t,a){"use strict";a.d(t,{SearchTrackList:function(){return p}});var i=a(95660),r=a(23974),s=a(71859),o=a(20062),l=a(17202),n=a(98645),c=a(95188),d=a(64275),u=a(54146),m=a(20794),_=a(96235),h=a(38796),x=a.n(h);let S=()=>Array.from(Array(36).keys()).map(e=>(0,i.jsx)(_.DX,{isActive:!0,className:x().shimmer,variant:m.Lxt.PLAYLIST},e)),C=e=>{let{forwardRef:t,className:a,results:h,isLoading:C,sendSearchFeedback:p,searchCorrectedText:v}=e,{from:k}=(0,m.MhG)(),f=(0,s.useCallback)((e,t)=>({contextData:{type:o.A.Various,meta:{id:t?"".concat(e,":").concat(t):e},from:k,overrideContextType:l.Z.Search},queueParams:{index:0},loadContextMeta:!0}),[k]),A=(0,s.useMemo)(()=>C?(0,i.jsx)(S,{}):h.filter(e=>[n.S.TRACK,n.S.UGC_TRACK].includes(e.type)).map((e,t)=>{let{data:a}=e;return(0,i.jsx)(m.B1g.Provider,{value:{sendSearchFeedback:p,id:a.albumId?"".concat(a.id,":").concat(a.albumId):a.id,type:c.B.TRACK,blockPosition:0,position:t},children:(0,i.jsx)(u.O2,{track:a,playContextParams:f(a.id,a.albumId)})},a.id)}),[C,h,f,p]);return(0,i.jsxs)(d.t,{className:(0,r.W)(x().root,a),containerClassName:x().container,ref:t,children:[(0,i.jsxs)("div",{className:x().content,children:[v&&(0,i.jsx)("div",{className:x().correctedTextBlock,children:v}),(0,i.jsx)("div",{className:x().items,children:A})]}),(0,i.jsx)(_.$_,{className:x().footer})]})},p=(0,s.forwardRef)((e,t)=>(0,i.jsx)(C,{forwardRef:t,...e}))},51996:function(e){e.exports={root:"MixedEntitiesBlock_root__Zs8l2",controls:"MixedEntitiesBlock_controls__mOhq7",columns:"MixedEntitiesBlock_columns__6YlqL",columns_one:"MixedEntitiesBlock_columns_one__pVHXi",columns_two:"MixedEntitiesBlock_columns_two__zw6GL",column:"MixedEntitiesBlock_column__sHpUC"}},29727:function(e){e.exports={shimmer:"MixedEntitiesList_shimmer__sPCJN"}},87213:function(e){e.exports={buttonArrow:"MixedEntitiesListItem_buttonArrow__Emsn1",titleLink:"MixedEntitiesListItem_titleLink__RURfg",titleText:"MixedEntitiesListItem_titleText__YuRWS",root:"MixedEntitiesListItem_root__bHtJ6",root_disabled:"MixedEntitiesListItem_root_disabled__DoZ5p",ripple:"MixedEntitiesListItem_ripple__uW_0P",playButtonCell:"MixedEntitiesListItem_playButtonCell__OlVV0",controlsBarCell:"MixedEntitiesListItem_controlsBarCell__J78Qc",text:"MixedEntitiesListItem_text__RM5Qh"}},62524:function(e){e.exports={card_root:"HorizontalCardContainer_root__YoAAP",root:"SearchColumnMeta_root__AlBTs",root_disabled:"SearchColumnMeta_root_disabled__YIvnw",albumLink:"SearchColumnMeta_albumLink__kWgmo",artistCaption:"SearchColumnMeta_artistCaption__aP_ij",artistLink:"SearchColumnMeta_artistLink__2NVDf",description:"SearchColumnMeta_description__55wxv",explicitMark:"SearchColumnMeta_explicitMark__njTQl",title:"SearchColumnMeta_title__TRQrJ",titleContainer:"SearchColumnMeta_titleContainer__0sj5A",version:"SearchColumnMeta_version__dv3CA",root_disliked:"SearchColumnMeta_root_disliked__e46E6",title_withVersion:"SearchColumnMeta_title_withVersion__t3g1H",text:"SearchColumnMeta_text__SsWM7"}},33460:function(e){e.exports={root:"SearchColumnShimmer_root__PDf3Y",infoContainer:"SearchColumnShimmer_infoContainer__cQ8_H",textContainer:"SearchColumnShimmer_textContainer__IekgL",title:"SearchColumnShimmer_title__IorPg",description:"SearchColumnShimmer_description__nNupy",cover:"SearchColumnShimmer_cover__58jV8",action:"SearchColumnShimmer_action__JbJGl"}},21907:function(e){e.exports={root:"SearchCorrectedText_root__ZM2f2",link:"SearchCorrectedText_link__eORMG",text:"SearchCorrectedText_text__HKgvL"}},33123:function(e){e.exports={root:"SearchEmpty_root__Yz53B",container:"SearchEmpty_container__6WP_o",content:"SearchEmpty_content__OdVMa",correctedTextBlock:"SearchEmpty_correctedTextBlock__wR4Hh",icon:"SearchEmpty_icon__NYKMM",title:"SearchEmpty_title__C77x5",subtitle:"SearchEmpty_subtitle__2TlGa",footer:"SearchEmpty_footer__WP03G"}},55495:function(e){e.exports={root:"SearchEntitiesGrid_root__kk0fO",container:"SearchEntitiesGrid_container__zFcDu",correctedTextBlock:"SearchEntitiesGrid_correctedTextBlock__4j4cD",items:"SearchEntitiesGrid_items__RrGDy",items_withChildren:"SearchEntitiesGrid_items_withChildren__VW6y_",video:"SearchEntitiesGrid_video__2xHJc",footer:"SearchEntitiesGrid_footer__NK1iL",block:"SearchEntitiesGrid_block__jnP9P"}},59386:function(e){e.exports={root:"SearchHistoryBlockDesktop_root__jKICZ",controls:"SearchHistoryBlockDesktop_controls__5JPBt",header:"SearchHistoryBlockDesktop_header__zOALK",clearButton:"SearchHistoryBlockDesktop_clearButton__kN4Nk",content:"SearchHistoryBlockDesktop_content__doQsC"}},4689:function(e){e.exports={button:"SearchHistoryBlockMobile_button__Wh_Q6",header:"SearchHistoryBlockMobile_header__Lx4On",mixedEntitiesBlock:"SearchHistoryBlockMobile_mixedEntitiesBlock__cJ3o_",buttonContainer:"SearchHistoryBlockMobile_buttonContainer__IppED"}},22719:function(e){e.exports={root:"SearchMixed_root__RR4QT",container:"SearchMixed_container__KIfE1",correctedTextBlock:"SearchMixed_correctedTextBlock___1rfE",block:"SearchMixed_block__SasiH",blockCarousel:"SearchMixed_blockCarousel__IQjJA",blockHeader:"SearchMixed_blockHeader__L0FSh",footer:"SearchMixed_footer__INQFP"}},67788:function(e){e.exports={root:"SearchPodcastEpisodes_root__VjZhR",controls:"SearchPodcastEpisodes_controls___kYPx",header:"SearchPodcastEpisodes_header__uqkmY",clearButton:"SearchPodcastEpisodes_clearButton__eeDVF",content:"SearchPodcastEpisodes_content__96WMv"}},38796:function(e){e.exports={root:"SearchTrackList_root__pSSfZ",container:"SearchTrackList_container__Bww_R",shimmer:"SearchTrackList_shimmer__L9t1x",correctedTextBlock:"SearchTrackList_correctedTextBlock__w5t0t",items:"SearchTrackList_items__VucVX",footer:"SearchTrackList_footer__M70p4"}},69259:function(e,t,a){"use strict";var i,r;a.d(t,{a:function(){return i}}),(r=i||(i={})).TOP="top",r.TRACK="track",r.CLIP="clip",r.ALBUM="album",r.ARTIST="artist",r.PLAYLIST="playlist",r.KIDS_MUSIC="kids-music",r.KIDS_PLAYLIST="kids-playlist",r.SPOKEN_PLAYLIST="spoken-playlist",r.PODCAST="podcast",r.BOOK="book",r.KIDS_PODCAST="kids-podcast",r.KIDS_BOOK="kids-book"},98645:function(e,t,a){"use strict";var i,r;a.d(t,{S:function(){return i}}),(r=i||(i={})).ALL="all",r.TRACK="track",r.ALBUM="album",r.ARTIST="artist",r.PLAYLIST="playlist",r.WAVE="wave",r.GENRE="genre",r.USER="user",r.UGC_TRACK="ugc_track",r.PODCAST="podcast",r.PODCAST_EPISODE="podcast_episode",r.VIDEO="video",r.LYRICS="lyrics",r.CLIP="clip"}}]);