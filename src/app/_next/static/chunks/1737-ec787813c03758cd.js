(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1737],{18745:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});var i=a(95660),o=a(71859),n=a(53912),l=a(20794),s=a(63901);let r=()=>{let{notify:e}=(0,l.d$W)(),{sonataState:t,fullscreenPlayer:a}=(0,l.oR4)(),r=(0,l.R$C)();return(0,o.useCallback)(()=>{if(null===t.entityMeta||!t.canChangeRepeatMode)return;let o=n.zq.NONE;switch(t.repeatMode){case n.zq.NONE:o=n.zq.CONTEXT;break;case n.zq.CONTEXT:o=n.zq.ONE}null==r||r.setRepeatMode(o),e((0,i.jsx)(s.NotificationRepeat,{repeatMode:o}),{containerId:a.modal.isOpened?l.W$x.FULLSCREEN_INFO:l.W$x.INFO})},[a.modal.isOpened,e,r,t.canChangeRepeatMode,t.entityMeta,t.repeatMode])}},66233:function(e,t,a){"use strict";a.d(t,{m:function(){return s}});var i=a(95660),o=a(71859),n=a(20794),l=a(94391);let s=()=>{let{notify:e}=(0,n.d$W)(),{sonataState:t,fullscreenPlayer:a}=(0,n.oR4)(),s=(0,n.R$C)();return(0,o.useCallback)(()=>{null!==t.entityMeta&&t.canShuffle&&(null==s||s.toggleShuffle(),e((0,i.jsx)(l.NotificationShuffle,{shuffle:!!(null==s?void 0:s.state.queueState.shuffle.value)}),{containerId:a.modal.isOpened?n.W$x.FULLSCREEN_INFO:n.W$x.INFO}))},[a.modal.isOpened,e,s,t.canShuffle,t.entityMeta])}},63901:function(e,t,a){"use strict";a.d(t,{NotificationRepeat:function(){return p}});var i=a(95660),o=a(23974),n=a(71859),l=a(71037),s=a(53912),r=a(15706),d=a(42255),c=a(96235),u=a(88993),_=a.n(u);let p=e=>{let{repeatMode:t,closeToast:a}=e,u=t===s.zq.ONE?"repeat_one":"repeat",p=(0,n.useMemo)(()=>{let e;switch(t){case s.zq.CONTEXT:e=(0,i.jsx)(l.Z,{id:"notifications-info.change-repeat-context"});break;case s.zq.ONE:e=(0,i.jsx)(l.Z,{id:"notifications-info.change-repeat-track"});break;case s.zq.NONE:default:e=(0,i.jsx)(l.Z,{id:"notifications-info.change-repeat-none"})}return(0,i.jsx)(d.Caption,{className:_().message,variant:"div",type:"controls",size:"m",children:e})},[t]);return(0,i.jsx)(c.Yj,{cover:(0,i.jsx)(r.Icon,{className:(0,o.W)(_().icon,{[_().icon_unset]:t===s.zq.NONE}),size:"xs",variant:u}),message:p,closeToast:a})}},94391:function(e,t,a){"use strict";a.d(t,{NotificationShuffle:function(){return _}});var i=a(95660),o=a(23974),n=a(71859),l=a(71037),s=a(15706),r=a(42255),d=a(96235),c=a(1548),u=a.n(c);let _=e=>{let{shuffle:t,closeToast:a}=e,c=(0,n.useMemo)(()=>{let e;return e=t?(0,i.jsx)(l.Z,{id:"notifications-info.shuffle-enabled"}):(0,i.jsx)(l.Z,{id:"notifications-info.shuffle-disabled"}),(0,i.jsx)(r.Caption,{className:u().message,variant:"div",type:"controls",size:"m",children:e})},[t]);return(0,i.jsx)(d.Yj,{cover:(0,i.jsx)(s.Icon,{className:(0,o.W)(u().icon,{[u().icon_unset]:!t}),size:"xs",variant:"shuffle"}),message:c,closeToast:a})}},16407:function(e,t,a){"use strict";a.d(t,{RepeatButton:function(){return x}});var i=a(95660),o=a(23974),n=a(36621),l=a(9883),s=a(53912),r=a(93062),d=a(15706),c=a(18745),u=a(40991),_=a.n(u);let p=(e,t,a)=>t(e===s.zq.NONE||a?{id:"player-actions.repeat"}:e===s.zq.ONE?{id:"player-actions.repeat-one"}:{id:"player-actions.repeat-context"}),m=(e,t)=>e===s.zq.NONE||t?l.bG.sonata.REPEAT_BUTTON_NO_REPEAT:e===s.zq.ONE?l.bG.sonata.REPEAT_BUTTON_REPEAT_ONE:l.bG.sonata.REPEAT_BUTTON_REPEAT_CONTEXT,x=e=>{let{isDisabled:t,repeatMode:a,className:u,iconClassName:x,size:v="xxxs",iconSize:f="xs",color:h,variant:y="default"}=e,g=(0,c.t)(),{formatMessage:C}=(0,n.Z)(),b=t||a!==s.zq.ONE?"repeat":"repeat_one",P=p(a,C,t);return(0,i.jsx)(r.z,{className:u,radius:"round",size:v,variant:y,color:h,disabled:t,withRipple:!1,"aria-hidden":t,"aria-label":P,"aria-pressed":!t&&a!==s.zq.NONE,onClick:g,icon:(0,i.jsx)(d.Icon,{size:f,variant:b,className:(0,o.W)(_().repeatIcon,_()["repeatIcon_".concat(a)],{[_().repeatIcon_disabled]:t},x)}),...(0,l.BA)(m(a,t))})}},31669:function(e,t,a){"use strict";a.d(t,{ShuffleButton:function(){return _}});var i=a(95660),o=a(23974),n=a(36621),l=a(9883),s=a(93062),r=a(15706),d=a(66233),c=a(16067),u=a.n(c);let _=e=>{let{isDisabled:t,shuffle:a,className:c,size:_="xxxs",variant:p="default",iconSize:m="xs",color:x}=e,v=(0,d.m)(),{formatMessage:f}=(0,n.Z)();return(0,i.jsx)(s.z,{className:c,radius:"round",size:_,variant:p,color:x,withRipple:!1,disabled:t,"aria-label":f({id:"player-actions.shuffle"}),"aria-pressed":!t&&a,"aria-hidden":t,icon:(0,i.jsx)(r.Icon,{variant:"shuffle",size:m,className:(0,o.W)(u().shuffleIcon,{[u().shuffleIcon_disabled]:t,[u().shuffleIcon_on]:!t&&a,[u().shuffleIcon_off]:!t&&!a})}),onClick:v,...(0,l.BA)(l.bG.sonata.SHUFFLE_BUTTON)})}},4157:function(e,t,a){"use strict";a.d(t,{SonataControls:function(){return T}});var i=a(95660),o=a(44744),n=a(71859),l=a(37460),s=a(20794),r=a(18745);let d=()=>{let{entityMeta:e}=(0,s.oR4)().sonataState,t=(0,s.R$C)();return{rewindBackwards:(0,n.useCallback)(()=>{if(!t||!e||!e.durationMs)return;let a=t.state.playerState.progress.value.position-15;t.setProgress(a<0?0:a)},[e,t]),rewindForward:(0,n.useCallback)(()=>{if(!t||!e||!e.durationMs)return;let a=e.durationMs/1e3,i=t.state.playerState.progress.value.position+30;t.setProgress(i<a?i:a)},[e,t])}};var c=a(66233),u=a(27195),_=a(96235);let p=e=>{let{disabled:t,isPlaying:a,onClickPlayPause:o,className:n}=e;return(0,i.jsx)(_.JM,{className:n,size:"s",disabled:t,isPlaying:a,onClick:o,forcedPlayAd:!0})};var m=a(23974),x=a(36621),v=a(9883),f=a(93062),h=a(15706),y=a(16407),g=a(31669),C=a(98506),b=a.n(C);let P=(0,o.Pi)(e=>{let{disabled:t,isPlaying:a,repeatMode:o,canMoveForward:n,canMoveBackward:l,canRewind:s,canShuffle:r,onClickNext:d,onClickPrev:c,onRewindBackwardsClick:u,onRewindForwardClick:p,onClickPlayPause:C,canChangeRepeatMode:P,shuffle:N,className:j}=e,{formatMessage:A}=(0,x.Z)();return(0,i.jsxs)("div",{className:(0,m.W)(b().root,j),children:[(0,i.jsxs)("div",{className:b().buttonContainer,children:[(t||r)&&(0,i.jsx)(g.ShuffleButton,{className:b().sonataButton,size:"s",iconSize:"xxs",color:"secondary",isDisabled:t,shuffle:N,...(0,v.BA)(v.bG.sonata.SHUFFLE_BUTTON)}),!t&&s&&(0,i.jsx)(f.z,{className:(0,m.W)(b().sonataButton,b().rewind),color:"secondary",size:"m",radius:"round",withRipple:!1,"aria-label":A({id:"player-actions.rewind-backwards"}),icon:(0,i.jsx)(h.Icon,{variant:"rewindBackwards"}),onClick:u,...(0,v.BA)(v.bG.sonata.REWIND_BACKWARDS_BUTTON)})]}),(0,i.jsxs)("div",{className:b().sonataButtons,children:[(0,i.jsx)(f.z,{className:b().sonataButton,color:"secondary",size:"m",radius:"round",disabled:!l,withRipple:!1,"aria-label":A({id:"player-actions.previous-track"}),icon:(0,i.jsx)(h.Icon,{variant:"previous"}),onClick:c,...(0,v.BA)(v.bG.sonata.PREVIOUS_TRACK_BUTTON)}),(0,i.jsx)(_.JM,{className:b().sonataButton,iconSize:"m",size:"l",radius:"round",color:"secondary",buttonVariant:"default",isPlaying:a,iconClassName:b().playPauseButtonIcon,onClick:C}),(0,i.jsx)(f.z,{className:b().sonataButton,radius:"round",size:"m",color:"secondary",disabled:!n,withRipple:!1,"aria-label":A({id:"player-actions.next-track"}),icon:(0,i.jsx)(h.Icon,{variant:"next"}),onClick:d,...(0,v.BA)(v.bG.sonata.NEXT_TRACK_BUTTON)})]}),(0,i.jsxs)("div",{className:b().buttonContainer,children:[!t&&s&&(0,i.jsx)(f.z,{className:(0,m.W)(b().sonataButton,b().rewind),color:"secondary",size:"m",radius:"round",withRipple:!1,"aria-label":A({id:"player-actions.rewind-forward"}),icon:(0,i.jsx)(h.Icon,{variant:"rewindForward"}),onClick:p,...(0,v.BA)(v.bG.sonata.REWIND_FORWARD_BUTTON)}),(t||P)&&(0,i.jsx)(y.RepeatButton,{className:b().sonataButton,size:"s",color:"secondary",isDisabled:t,iconSize:"xxs",repeatMode:o})]})]})});var N=a(20062),j=a(44022),A=a(68904),k=a.n(A);let w=(0,o.Pi)(e=>{let{isPlaying:t,canMoveForward:a,canMoveBackward:o,canRewind:l,onClickNext:r,onClickPrev:d,onRewindBackwardsClick:c,onRewindForwardClick:u,onClickPlayPause:p,className:v}=e,{formatMessage:y}=(0,x.Z)(),{user:g,sonataState:C}=(0,s.oR4)(),b=(0,s.XUT)(),P=C.entityMeta,A=C.contextType===N.A.Generative,w=g.isAuthorized&&!A,T=(0,j.SB)(C.entityMeta),S=(0,j.KX)(C.entityMeta);(0,n.useEffect)(()=>{if(!C.isGenerativeContext)return null==b||b.addShortcutsListener(s.Pwk.MAIN,s.yxF.LIKE,T),null==b||b.addShortcutsListener(s.Pwk.MAIN,s.yxF.DISLIKE,S),()=>{null==b||b.removeShortcutsListener(s.Pwk.MAIN,s.yxF.LIKE),null==b||b.removeShortcutsListener(s.Pwk.MAIN,s.yxF.DISLIKE)}},[S,T,b,C.isGenerativeContext]);let B=(0,n.useMemo)(()=>l?(0,i.jsx)(f.z,{className:k().sonataButton,variant:"text",color:"secondary",size:"m",radius:"round",withRipple:!1,"aria-label":y({id:"player-actions.rewind-backwards"}),icon:(0,i.jsx)(h.Icon,{variant:"rewindBackwards"}),onClick:c}):(0,i.jsx)(f.z,{className:k().sonataButton,variant:"text",color:"secondary",size:"m",radius:"round",disabled:!o,withRipple:!1,"aria-label":y({id:"player-actions.previous-track"}),icon:(0,i.jsx)(h.Icon,{variant:"previous"}),onClick:d}),[l,o,y,d,c]),R=(0,n.useMemo)(()=>l?(0,i.jsx)(f.z,{className:k().sonataButton,variant:"text",radius:"round",size:"m",color:"secondary",disabled:!a,withRipple:!1,"aria-label":y({id:"player-actions.rewind-forward"}),icon:(0,i.jsx)(h.Icon,{variant:"rewindForward"}),onClick:u}):(0,i.jsx)(f.z,{className:k().sonataButton,variant:"text",radius:"round",size:"m",color:"secondary",withRipple:!1,"aria-label":y({id:"player-actions.next-track"}),icon:(0,i.jsx)(h.Icon,{variant:"next"}),onClick:r}),[l,a,y,r,u]);return(0,i.jsxs)("div",{className:(0,m.W)(k().root,v),children:[(0,i.jsx)("div",{className:k().buttonContainer,children:P&&w&&(0,i.jsx)(_.Q1,{isDisliked:P.isDisliked,onClick:S})}),(0,i.jsxs)("div",{className:k().sonataButtons,children:[B,(0,i.jsx)(_.JM,{className:k().sonataButton,iconSize:"xxl",variant:"filled",color:"secondary",isPlaying:t,iconClassName:k().playPauseButtonIcon,onClick:p}),R]}),(0,i.jsx)("div",{className:k().buttonContainer,children:P&&w&&(0,i.jsx)(_.dJ,{isLiked:P.isLiked,onClick:T})})]})}),T=(0,o.Pi)(e=>{var t,a;let{isMobile:o,entityMeta:_,isFullscreen:m,className:x}=e,{sonataState:v,vibe:f,advert:h,modals:{popoverOverPlayer:y}}=(0,s.oR4)(),g=(0,s.XUT)(),C=(0,s.R$C)(),{rewindBackwards:b,rewindForward:N}=d(),j=(0,s.RVp)(),A=(0,s.ozq)(),k=j&&(null==_?void 0:_.isNonMusic),{togglePlay:T}=(0,s.QhE)({seeds:null!==(a=null===(t=f.meta)||void 0===t?void 0:t.seeds)&&void 0!==a?a:[],pageIdForFrom:s.Rhz.HOME,blockIdForFrom:s.BEo.RUP_MAIN_RADIO,onPlayInterrupted:y.open}),S=(0,n.useMemo)(()=>h.isAdvertShown?h.isAdvertPlaying:[l.Xz.PLAYING,l.Xz.LOADING_MEDIA_SOURCE,l.Xz.LOADING_MEDIA_DATA].includes(v.status),[v.status,h.isAdvertShown,h.isAdvertPlaying]),B=(0,n.useCallback)(()=>{if(h.isAdvertShown){var e;null==A||null===(e=A.audioAdvertPlayback)||void 0===e||e.togglePause();return}_?null==C||C.togglePause():T()},[_,C,T,h.isAdvertShown,null==A?void 0:A.audioAdvertPlayback]),R=(0,n.useCallback)(()=>{null==C||C.moveForward()},[C]),M=(0,n.useCallback)(()=>{null==C||C.moveBackward()},[C]),I=(0,c.m)(),E=(0,r.t)();(0,n.useEffect)(()=>{if(!m&&(null==g||g.addShortcutsListener(s.Pwk.MAIN,s.yxF.TOGGLE_PLAY,B),!h.isAdvertShown))return null==g||g.addShortcutsListener(s.Pwk.MAIN,s.yxF.TOGGLE_REPEAT,E),null==g||g.addShortcutsListener(s.Pwk.MAIN,s.yxF.TOGGLE_SHUFFLE,I),()=>{null==g||g.removeShortcutsListener(s.Pwk.MAIN,s.yxF.TOGGLE_PLAY),h.isAdvertShown||(null==g||g.removeShortcutsListener(s.Pwk.MAIN,s.yxF.TOGGLE_SHUFFLE),null==g||g.removeShortcutsListener(s.Pwk.MAIN,s.yxF.TOGGLE_REPEAT))}},[m,B,E,I,g,h.isAdvertShown]);let L=(0,n.useMemo)(()=>m?o?w:P:o?p:u.S,[o,m]);return(0,i.jsx)(L,{className:x,disabled:null===v.entityMeta||h.isAdvertShown&&!o,isPlaying:S||!1,canMoveBackward:v.canMoveBackward&&!h.isAdvertShown,canMoveForward:v.canMoveForward&&!h.isAdvertShown,canShuffle:v.canShuffle,shuffle:v.shuffle,onClickPlayPause:B,onClickNext:R,onClickPrev:M,canRewind:k&&!h.isAdvertShown,onRewindBackwardsClick:b,onRewindForwardClick:N,canChangeRepeatMode:v.canChangeRepeatMode,repeatMode:v.repeatMode})})},27195:function(e,t,a){"use strict";a.d(t,{S:function(){return C}});var i=a(95660),o=a(23974),n=a(44744),l=a(71859),s=a(36621),r=a(9883),d=a(93062),c=a(15706),u=a(20794),_=a(96235),p=a(20062),m=a(37460);let x=()=>{let{sonataState:e,modals:{popoverOverPlayer:t},user:a}=(0,u.oR4)(),{isPassToProduct:i}=(0,u.NMB)(),o=(0,u.R$C)(),n=e.contextType===p.A.Generative;(0,l.useEffect)(()=>{if(a.isAuthorized&&!i||n)return;let e=null==o?void 0:o.state.playerState.event.onChange(e=>{e===m.KX.PLAYING&&t.open()});return()=>{null==e||e()}},[o,t,n,i,a.isAuthorized])};var v=a(16407),f=a(31669),h=a(69424),y=a.n(h);let g={mainAxis:44},C=(0,n.Pi)(e=>{let{disabled:t,isPlaying:a,repeatMode:n,canMoveForward:p,canMoveBackward:m,canShuffle:h,shuffle:C,onClickNext:b,onClickPrev:P,onClickPlayPause:N,canChangeRepeatMode:j,className:A}=e,{formatMessage:k}=(0,s.Z)(),{advert:w,modals:{popoverOverPlayer:T},user:S}=(0,u.oR4)(),{isFreemium:B,hasFreeUserAccess:R}=(0,u.NMB)();x();let M=(0,l.useCallback)(()=>(0,i.jsx)(_.JM,{className:y().sonataButton,iconSize:"l",variant:"filled",isPlaying:a,iconClassName:y().playButtonIcon,forcedPlayAd:!0,onClick:N}),[a,N]),I=(0,l.useCallback)(e=>{e||T.close()},[T]),E=(0,l.useMemo)(()=>{let e=B?"vibe":"fullTracks";return S.isAuthorized?(0,i.jsx)(_.pl,{isEnabled:R,isOpened:T.isOpened,placement:"top",onOpenChange:I,offsetOptions:g,textVariant:e,renderChildren:M}):(0,i.jsx)(_.Ld,{isEnabled:!0,isOpened:T.isOpened,placement:"top",onOpenChange:I,offsetOptions:g,textVariant:e,renderChildren:M})},[R,B,I,T.isOpened,M,S.isAuthorized]);return(0,i.jsxs)("div",{className:(0,o.W)(y().root,A),children:[(0,i.jsx)("div",{className:y().buttonContainer,children:(t||h)&&!(null==w?void 0:w.isAdvertShown)&&(0,i.jsx)(f.ShuffleButton,{className:y().sonataButton,size:"xxxs",variant:"text",iconSize:"xs",isDisabled:t,shuffle:C,...(0,r.BA)(r.bG.sonata.SHUFFLE_BUTTON)})}),(0,i.jsxs)("div",{className:y().sonataButtons,children:[(0,i.jsx)(d.z,{className:y().sonataButton,variant:"text",size:"m",radius:"round","aria-hidden":!m,disabled:!m,withRipple:!1,"aria-label":k({id:"player-actions.previous-track"}),icon:(0,i.jsx)(c.Icon,{variant:"previous"}),onClick:P,...(0,r.BA)(r.bG.sonata.PREVIOUS_TRACK_BUTTON)}),E,(0,i.jsx)(d.z,{className:y().sonataButton,radius:"round",size:"m",variant:"text",disabled:!p,"aria-hidden":!p,withRipple:!1,"aria-label":k({id:"player-actions.next-track"}),icon:(0,i.jsx)(c.Icon,{variant:"next"}),onClick:b,...(0,r.BA)(r.bG.sonata.NEXT_TRACK_BUTTON)})]}),(0,i.jsx)("div",{className:y().buttonContainer,children:(t||j)&&!(null==w?void 0:w.isAdvertShown)&&(0,i.jsx)(v.RepeatButton,{className:y().sonataButton,size:"xxxs",variant:"text",isDisabled:t,iconSize:"xs",repeatMode:n})})]})})},78898:function(e,t,a){"use strict";a.d(t,{SonataVideoControls:function(){return r}});var i=a(95660),o=a(44744),n=a(71859),l=a(53912),s=a(27195);let r=(0,o.Pi)(e=>{let{className:t}=e,a=(0,n.useCallback)(()=>{},[]),o=(0,n.useCallback)(()=>{},[]),r=(0,n.useCallback)(()=>{},[]);return(0,i.jsx)(s.S,{className:t,isPlaying:!1,canMoveBackward:!0,canMoveForward:!0,canShuffle:!1,onClickPlayPause:r,onClickNext:a,onClickPrev:o,canChangeRepeatMode:!1,shuffle:!1,repeatMode:l.zq.NONE})})},13729:function(e,t,a){"use strict";a.d(t,{hx:function(){return ea},f3:function(){return ef},LH:function(){return S},HZ:function(){return eC},Vm:function(){return eY},KC:function(){return I}});var i,o=a(95660),n=a(23974),l=a(44744),s=a(71859),r=a.t(s,2),d=a(9883),c={5881:(e,t,a)=>{function i(){for(var e,t,a=0,i="";a<arguments.length;)(e=arguments[a++])&&(t=function e(t){var a,i,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t))for(a=0;a<t.length;a++)t[a]&&(i=e(t[a]))&&(o&&(o+=" "),o+=i);else for(a in t)t[a]&&(o&&(o+=" "),o+=a)}return o}(e))&&(i&&(i+=" "),i+=t);return i}a.r(t),a.d(t,{clsx:()=>i,default:()=>o});let o=i},2994:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});let i={root:"LizdJ2L0HW7JWOvPrfly"}},390:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});let i={root_controls_xxs:"tRaaBpDMg9Qu8v6gKjtn",root_entity_xxs:"M9zvtlcpLUVn6DKdcHhj",root_text_xxs:"ln0PYYwDmFnfYxCDJsFU",root_controls_xs:"n5AeWEsJC3_AYXcbK4Lt",root_entity_xs:"__hrMKGmNbw54T54IUyh",root_text_xs:"SehSa7OyRpC2nzYTVb2Q",root_controls_s:"_oBLf5gprWsKjCw4Ce58",root_entity_s:"mxSPe5xpZnie9gpIqacd",root_text_s:"Ai2iRN9elHpk_u5splD6",root_controls_m:"tk7ahHRDYXJMMB879KUA",root_entity_m:"Z_WIr2W8JU4MPQek3hgR",root_text_m:"g3qWNP6xl__7qxNmtrvd",root_controls_l:"grvxapJE3vGArOKDWf6n",root_entity_l:"Esj5A1UeSi4xV4tZ839D",root_text_l:"V3WU123oO65AxsprotU9",root_weight_normal:"ZYV27jeWd30QDXu4GhaH",root_weight_medium:"_3_Mxw7Si7j2g4kWjlpR",root_weight_bold:"Vi7Rd0SZWqD17F0872TB"}},8544:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});let i={root_size_xs:"qJJ288377iHlWN_RXeEE",root_size_s:"_sd8Q9d_Ttn0Ufe4ISWS",root_size_m:"Ctk8dbecq31Qh7isOJPQ",root_size_l:"M_Djh6ppIkCO3A2k_BTA",root_size_xl:"dtxlzGQMPAbM2MEndXWX",root_size_xxl:"IUb9XLplTAoZqne9rNUL",root_size_xxxl:"ZYZamUwql_rfFR4RpI2B",root_size_xxxxl:"ZBZyxow5njdq8z5dnRPY",root_size_xxxxxl:"WdvQQNwdDNCdRSwRkAtT",root_weight_bold:"nSU6fV9y80WrZEfafvww",root_weight_black:"KBeGPPK4DinQzAP41Y_N"}},2524:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});let i={root:"_MWOVuZRvUQdXKTMcOPx",root_clamp:"LezmJlldtbHWqU7l1950",root_clamp_oneline:"oyQL2RSmoNbNQf3Vc6YI",root_clamp_multiline:"jMyoZB5J9iZbzJmWOrF0"}},6161:(e,t,a)=>{var i=a(810),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,a){var i,n={},d=null,c=null;for(i in void 0!==a&&(d=""+a),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,i)&&!r.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===n[i]&&(n[i]=t[i]);return{$$typeof:o,type:e,key:d,ref:c,props:n,_owner:s.current}}t.Fragment=n,t.jsx=d,t.jsxs=d},9541:(e,t,a)=>{e.exports=a(6161)},2:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;let o=a(9541),n=a(5881),l=a(2582),s=i(a(2994));t.Label=e=>{let{children:t,className:a,size:i="s"}=e;return(0,o.jsx)(l.Caption,{variant:"div",type:"text",size:i,lineClamp:1,className:(0,n.clsx)(s.default.root,a),children:t})}},7743:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Caption=t.CaptionComponent=void 0;let o=a(9541),n=a(5881),l=a(810),s=a(4721),r=i(a(390));function d(e){let{forwardRef:t,variant:a,type:i="text",size:l="s",className:d,children:c,weight:u="medium",..._}=e;return(0,o.jsx)(s.Typography,{variant:a,ref:t,className:(0,n.clsx)(r.default.root,r.default["root_".concat(i,"_").concat(l)],r.default["root_weight_".concat(u)],d),..._,children:c})}t.CaptionComponent=d,t.Caption=(0,l.forwardRef)((e,t)=>(0,o.jsx)(d,{forwardRef:t,...e}))},404:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Heading=t.HeadingComponent=void 0;let o=a(9541),n=a(5881),l=a(810),s=a(4721),r=i(a(8544));t.HeadingComponent=e=>{let{forwardRef:t,variant:a,weight:i="bold",size:l="s",className:d,children:c,...u}=e;return(0,o.jsx)(s.Typography,{variant:a,ref:t,className:(0,n.clsx)(r.default.root,r.default["root_size_".concat(l)],r.default["root_weight_".concat(i)],d),...u,children:c})},t.Heading=(0,l.forwardRef)((e,a)=>(0,o.jsx)(t.HeadingComponent,{forwardRef:a,...e}))},4721:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Typography=t.TypographyComponent=void 0;let o=a(9541),n=a(5881),l=a(810),s=i(a(2524));function r(e){let{forwardRef:t,style:a,className:i,children:l,variant:r,lineClamp:d,...c}=e,u=d&&"string"==typeof l?l:void 0;return(0,o.jsx)(r,{style:{...a,WebkitLineClamp:d},ref:t,title:u,className:(0,n.clsx)(s.default.root,{[s.default.root_clamp]:d&&d>0,[s.default.root_clamp_oneline]:d&&1===d,[s.default.root_clamp_multiline]:d&&d>1},i),...c,children:l})}t.TypographyComponent=r,t.Typography=(0,l.forwardRef)((e,t)=>(0,o.jsx)(r,{forwardRef:t,...e}))},2582:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Heading=t.Caption=void 0;var i=a(7743);Object.defineProperty(t,"Caption",{enumerable:!0,get:function(){return i.Caption}});var o=a(404);Object.defineProperty(t,"Heading",{enumerable:!0,get:function(){return o.Heading}})},810:e=>{e.exports=r}},u={};function _(e){var t=u[e];if(void 0!==t)return t.exports;var a=u[e]={exports:{}};return c[e].call(a.exports,a,a.exports,_),a.exports}_.d=(e,t)=>{for(var a in t)_.o(t,a)&&!_.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},_.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),_.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.Label=void 0,i=_(2),Object.defineProperty(p,"Label",{enumerable:!0,get:function(){return i.Label}});var m=p.Label;p.__esModule;var x=a(42255),v=a(84424),f=a.n(v),h=a(36621),y=a(93062),g=a(15706),C=a(30476),b=a(20794),P=a(83874),N=a.n(P);let j=(0,l.Pi)(e=>{let{className:t,text:a="",maxTextLength:i,minTextLength:l,variant:r="input",shouldFinishOnKeyPress:d=!1,placeholder:c,onChangeFinish:u}=e,[_,p]=(0,s.useState)(a),m=(0,s.useRef)(!1),x=(0,s.useRef)(null),v=(0,s.useCallback)(e=>{p(e.target.value)},[]),f=(0,s.useCallback)(e=>{if(d&&["Enter","Escape"].includes(e.key)){var t;"Escape"===e.key&&(m.current=!0),null===(t=e.currentTarget)||void 0===t||t.blur()}},[d]),h=(0,s.useCallback)(()=>{let e=_.trim();m.current||l&&e.length<l?(m.current=!1,null==u||u(a)):null==u||u(e)},[_,m,l,u,a]);(0,s.useEffect)(()=>{x.current&&(x.current.selectionStart=x.current.value.length,x.current.selectionEnd=x.current.value.length)},[]),(0,s.useLayoutEffect)(()=>{let e=x.current;if(e){e.style.height="0px";let t=e.scrollHeight;e.style.height="".concat(t,"px")}},[x,_]);let y=(0,s.useMemo)(()=>"textarea"===r?e=>(0,o.jsx)("textarea",{ref:x,rows:6,...e}):e=>(0,o.jsx)("input",{...e}),[r]);return(0,o.jsx)(y,{className:(0,n.W)(N().root,t,{[N().root_textarea]:"textarea"===r}),type:"text",value:_,maxLength:i,onBlur:h,onChange:v,onKeyDown:f,placeholder:c,autoFocus:!0})});var A=a(69994),k=a.n(A);let w=(0,l.Pi)(e=>{let{title:t="","aria-labelledby":a,canChange:i=!1,onChange:l,maxTitleLength:r,version:c="",onVersionClick:u,className:_,headingVariant:p="h2"}=e,{settings:m}=(0,b.oR4)(),{formatMessage:v}=(0,h.Z)(),[f,P]=(0,s.useState)(!1),N=(0,s.useRef)(null),A=m.layout===b.t8m.Mobile,w=t.length+c.length>25,T=(0,s.useMemo)(()=>A?k().font_mobile:w?k().font_long:k().font_short,[A,w]),S=!A&&i&&f,B=(0,s.useCallback)(()=>{var e;P(!0),null===(e=N.current)||void 0===e||e.focus()},[]),R=(0,s.useCallback)(e=>{P(!1),null==l||l(e)},[l]);return(0,o.jsxs)(o.Fragment,{children:[!S&&(0,o.jsxs)("div",{className:(0,n.W)(k().root,_),children:[(0,o.jsx)(C.b4,{title:t,className:k().stickyTitle,children:(0,o.jsxs)(x.Heading,{variant:p,id:a,className:(0,n.W)(k().heading,{[k().heading_withVersion]:c}),...(0,d.BA)(d.QM.pageHeader.ENTITY_TITLE),children:[(0,o.jsx)(x.Caption,{className:(0,n.W)(k().font,T,k().title),variant:"span",children:t}),c&&(0,o.jsx)(x.Caption,{onClick:u,className:(0,n.W)(k().font,T,k().version,{[k().version_withOtherVersions]:u}),variant:"span",...(0,d.BA)(d.QM.pageHeader.ENTITY_VERSION),children:" ".concat(c)})]})}),i&&(0,o.jsx)("div",{className:(0,n.W)(k().editButton,{[k().editButton_centered]:!w&&!A}),children:(0,o.jsx)(y.z,{onClick:B,"aria-label":v({id:"playlist-actions.change-title"}),icon:(0,o.jsx)(g.Icon,{size:"xxs",variant:"pencil"}),size:"s",radius:"round",...(0,d.BA)(d.QM.pageHeader.EDIT_TITLE_BUTTON)})})]}),S&&(0,o.jsx)("div",{className:k().textFieldContainer,children:(0,o.jsx)(j,{text:t,className:(0,n.W)(k().font,T,k().textField,k().title,{[k().textField_long]:w&&!A}),onChangeFinish:R,maxTextLength:r,minTextLength:1,placeholder:v({id:"playlist-actions.enter-title"}),shouldFinishOnKeyPress:!0})})]})}),T=(0,l.Pi)(e=>{let{"aria-labelledby":t,entityName:a,title:i,meta:l,controls:r,className:c,forwardRef:u,canChangeTitle:_=!1,maxTitleLength:p,onTitleChange:v,cover:h,version:y,onVersionClick:g,disclaimerLabel:C,entityNameIcon:b,headingVariant:P,metaClassName:N,contentClassName:j}=e,A=(0,s.useMemo)(()=>C?(0,o.jsx)("div",{className:f().entityContainer,children:(0,o.jsx)(m,{className:f().disclaimerLabel,size:"m",children:C})}):(0,o.jsxs)(x.Caption,{variant:"div",type:"text",size:"m",weight:"medium",className:f().entityName,children:[a,b]}),[C,a,b]);return(0,o.jsxs)("div",{className:(0,n.W)(f().root,c),ref:u,...(0,d.BA)(d.QM.pageHeader.ENTITY_HEADER),children:[h&&(0,o.jsx)("div",{className:f().coverCell,children:h}),(0,o.jsxs)("div",{className:(0,n.W)(f().content,j),children:[(0,o.jsxs)("div",{className:f().info,children:[A,(0,o.jsx)(w,{className:(0,n.W)(f().title,{[f().title_withDisclaimerLabel]:!!C}),title:i,"aria-labelledby":t,canChange:_,maxTitleLength:p,onChange:v,version:y,onVersionClick:g,headingVariant:P}),!!l&&(0,o.jsx)("div",{className:(0,n.W)(f().meta,{[f().meta_withDisclaimerLabel]:!!C},N),children:l})]}),(0,o.jsx)("div",{className:f().controls,...(0,d.BA)(d.QM.pageHeader.BASE_PAGE_HEADER_CONTROLS),children:r})]})]})}),S=(0,s.forwardRef)((e,t)=>(0,o.jsx)(T,{forwardRef:t,...e}));var B=a(18344),R=a(54190),M=a.n(R);let I=(0,l.Pi)(e=>{let{className:t,coverRadius:a="m",isActive:i}=e,{settings:l}=(0,b.oR4)(),r=(0,s.useMemo)(()=>l.layout===b.t8m.Mobile?(0,o.jsxs)("div",{className:M().controls,children:[(0,o.jsx)(B.Shimmer,{className:M().button,radius:"round",isActive:i}),(0,o.jsx)(B.Shimmer,{className:M().button,radius:"round",isActive:i}),(0,o.jsx)(B.Shimmer,{className:M().button,radius:"round",isActive:i})]}):(0,o.jsxs)("div",{className:M().controls,children:[(0,o.jsx)(B.Shimmer,{className:M().desktopPlayButton,isActive:i}),(0,o.jsx)(B.Shimmer,{className:M().button,radius:"round",isActive:i}),(0,o.jsx)(B.Shimmer,{className:M().button,radius:"round",isActive:i}),(0,o.jsx)(B.Shimmer,{className:M().button,radius:"round",isActive:i})]}),[i,l.layout]);return(0,o.jsxs)("div",{className:(0,n.W)(M().root,t),children:[(0,o.jsx)(B.Shimmer,{className:M().cover,radius:a,isActive:i}),(0,o.jsxs)("div",{className:M().content,children:[(0,o.jsxs)("div",{className:M().info,children:[(0,o.jsx)(B.Shimmer,{className:M().entityName,radius:"s",isActive:i}),(0,o.jsx)(B.Shimmer,{className:M().title,radius:"xl",isActive:i}),(0,o.jsx)(B.Shimmer,{className:M().meta,radius:"s",isActive:i})]}),r]})]})});var E=a(71037),L=a(20062),z=a(43683),H=a(96235),O=a(51739),F=a(13555),D=a(35613),U=a.n(D);let W=(0,l.Pi)(e=>{var t;let{album:a,likeButtonAriaLabel:i,withLikeButton:n=!0}=e,{settings:l,trailer:r,advert:c}=(0,b.oR4)(),{notify:u}=(0,b.d$W)(),[_,p]=(0,s.useState)(!1),m=l.layout===b.t8m.Mobile,x=(0,z.SB)(a),v=(0,z.BV)(a),f=(0,b.FTC)(),{utmLink:h}=(0,b.MhG)({contextId:a.id,contextType:L.A.Album}),y=m?"l":"s",C=m?"m":"xxs",P=(0,s.useCallback)(()=>{if(c.isAdvertShown){u((0,o.jsx)(H.vd,{}),{containerId:b.W$x.INFO});return}r.setUtmLink(h),r.openAlbumTrailer(a.id),f(O.OB.Album,String(a.id))},[a.id,f,r,h,c.isAdvertShown,u]),N=(0,s.useMemo)(()=>{var e;return(null===(e=a.trailer)||void 0===e?void 0:e.canShow)&&!m?(0,o.jsx)(H.Wd,{children:(0,o.jsx)(H.eP,{size:"s",radius:"xxxl",iconSize:"xxs",className:U().trailerControl,disabled:!a.isAvailable,onClick:P,children:(0,o.jsx)(E.Z,{id:"entity-names.trailer"})})}):null},[null===(t=a.trailer)||void 0===t?void 0:t.canShow,a.isAvailable,P,m]);return(0,o.jsxs)(o.Fragment,{children:[N,n&&(0,o.jsx)(H.dJ,{className:U().likeControl,isLiked:a.isLiked,onClick:x,variant:"default",size:y,iconSize:C,withRipple:!m,disabled:!a.isAvailable,"aria-label":i}),!m&&(0,o.jsx)(H.RT,{size:y,iconSize:C,onClick:v,isPinned:a.isPinned,isDisabled:!a.isAvailable,className:U().pinControl}),(0,o.jsx)(F.oK,{album:a,open:_,onOpenChange:p,wrapperClassName:U().menuControl,size:y,icon:(0,o.jsx)(g.Icon,{size:C,variant:"more"}),variant:F.y2.PAGE,...(0,d.BA)(d.QM.pageHeader.ALBUM_HEADER_CONTEXT_MENU_BUTTON)})]})});var G=a(67061),Z=a(11232);let V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(e=>!e.composer),a=t.filter(e=>!e.various),i=e.filter(e=>e.composer&&!e.various),o=[];return a.length>0?o=a:t.length>0&&(o=t),o.concat(i)};var q=a(33845),Q=a.n(q);let Y=(0,l.Pi)(e=>{var t,a,i;let{album:l}=e,{settings:r}=(0,b.oR4)(),c=r.layout===b.t8m.Mobile,u=(0,s.useMemo)(()=>V(l.artists),[l.artists]),_=(null==u?void 0:u.length)===1&&!(null===(t=u[0])||void 0===t?void 0:t.decomposed)&&!(null===(a=u[0])||void 0===a?void 0:a.various);return(0,o.jsxs)("div",{className:Q().meta,children:[_&&(0,o.jsx)(G.Paper,{radius:"round",className:Q().artistCover,children:(0,o.jsx)(H.BE,{src:null===(i=u[0])||void 0===i?void 0:i.coverUri,size:30,withAvatarReplace:!0})}),(0,o.jsx)(Z.jO,{artists:u,lineClamp:c?1:void 0,className:Q().artists,spoilerClassName:Q().artistsSpoiler,visibleArtistsCount:c?void 0:2,linkClassName:Q().artistLink,captionClassName:Q().artistLabel,variant:c?"breakAll":"breakWord"}),l.year&&(0,o.jsx)(x.Caption,{variant:"div",type:"text",size:"m",weight:"medium",className:(0,n.W)(Q().year,{[Q().year_dot]:u.length>0}),...(0,d.BA)(d.QM.pageHeader.ALBUM_RELEASE_DATE),children:l.year})]})});var K=a(67817),J=a.n(K);let X=e=>{let{coverVariant:t,coverUri:a,isAvailable:i,className:n,withPlusBadge:l}=e;return(0,o.jsxs)(G.Paper,{radius:"round"===t?"round":"m",className:n,children:[(0,o.jsx)(H.BE,{fit:"cover",src:a,size:300,className:J().coverImage,withAvatarReplace:!0,isAvailable:i}),l&&(0,o.jsx)(g.Icon,{variant:"plusBadge",className:J().plusBadge})]})};var $=a(30200),ee=a.n($);let et=(0,l.Pi)(e=>{let{album:t,actionButton:a,className:i,"aria-labelledby":n,forwardRef:l,onVersionClick:r}=e,{shouldShowBuySubscriptionModal:d,showBuySubscriptionModal:c}=(0,b.vLf)(),{from:u,utmLink:_}=(0,b.MhG)({pageId:b.Rhz.ALBUM,blockId:b.aUg.ALBUM,contextType:L.A.Album,contextId:t.id}),{user:p,settings:m,experiments:x,sonataState:v,track:{isTrackPage:f}}=(0,b.oR4)(),h=m.layout===b.t8m.Mobile,y=!p.hasPlus&&!t.isAvailable&&t.availableForPremiumUsers&&x.checkExperiment(b.peG.WebNextPlusPaywall,"on"),C=(0,z.H0)(t.type),P=(0,s.useMemo)(()=>{if(t.shouldShowBooksBadge)return(0,o.jsx)(g.Icon,{variant:"booksLogo",className:ee().booksLogo})},[t.shouldShowBooksBadge]),{isPlaying:N,togglePlay:j}=(0,b.qmq)({playContextParams:{contextData:{type:L.A.Album,meta:{id:t.id},from:u,utmLink:_},loadContextMeta:!0,entitiesData:v.unloadedEntitiesDataFromModels}}),A=(0,s.useCallback)(()=>{if(d){c();return}j()},[d,c,j]),k=(0,s.useMemo)(()=>y?(0,o.jsx)(H._m,{className:ee().plusPaywallButton}):h?(0,o.jsx)(H.JM,{className:ee().playControl,color:"primary",buttonVariant:"default",iconSize:"xxl",isPlaying:N,onClick:A,variant:"filled",disabled:!t.isAvailable}):(0,o.jsx)(H.JM,{className:ee().playControl,withRipple:!0,buttonVariant:"default",radius:"xxxl",size:"s",color:"primary",iconSize:"xxs",isPlaying:N,onClick:A,disabled:!t.isAvailable,children:(0,o.jsx)(E.Z,{id:"player-actions.listen"})}),[y,h,N,A,t.isAvailable]),w=(0,s.useMemo)(()=>(0,o.jsxs)("div",{className:ee().controlsContainer,children:[(0,o.jsxs)("div",{className:ee().controls,children:[k,(0,o.jsx)(W,{album:t,withLikeButton:!y})]}),a&&(0,o.jsx)("div",{className:ee().controls,children:a})]}),[k,t,a,y]);return(0,o.jsx)(S,{ref:l,headingVariant:f?"div":"h1",className:i,controls:w,meta:(0,o.jsx)(Y,{album:t}),entityName:C,entityNameIcon:P,title:t.title,cover:(0,o.jsx)(X,{coverVariant:"square",coverUri:t.coverUri,isAvailable:t.isAvailable,withPlusBadge:t.isAvailableOnlyForPlus}),"aria-labelledby":n,version:t.version,onVersionClick:r})}),ea=(0,s.forwardRef)((e,t)=>(0,o.jsx)(et,{forwardRef:t,...e}));var ei=a(23187),eo=a(24136);let en=e=>{let{isMobile:t,rewindButton:a,pinButton:i,trailerButton:o}=e;return t?a?"'menu play like' 'rewind rewind rewind'":"'menu play like'":"'play ".concat(o?"trailer":""," ").concat(a?"rewind":""," like ").concat(i?"pin":""," menu'")},el=/^https:\/\/tips\.yandex\.ru\//,es=e=>{var t;return e.type===ei.r.DONATION&&el.test(null!==(t=e.url)&&void 0!==t?t:"")};var er=a(15985),ed=a.n(er);let ec=(0,l.Pi)(e=>{let{action:t,forwardRef:a}=e,i=(0,b.s0h)(null==t?void 0:t.url);return(0,o.jsxs)(y.z,{onClick:i,role:"link",color:"secondary",className:ed().label,withRipple:!1,ref:a,"data-intersection-property-id":b.F9V,children:[(0,o.jsx)(g.Icon,{variant:"donation",size:"xxxs"}),(0,o.jsx)(x.Caption,{type:"text",size:"m",weight:"medium",variant:"span",children:t.title})]})}),eu=(0,s.forwardRef)((e,t)=>(0,o.jsx)(ec,{forwardRef:t,...e}));var e_=a(81014),ep=a(91972);let em={width:20,height:8,tipRadius:2,fill:"var(--ym-background-color-primary-enabled-tooltip)"},ex=e=>{let{children:t}=e,{settings:a}=(0,b.oR4)(),i=a.layout===b.t8m.Mobile,{contentRef:n}=(0,b.$Y6)(),{setIsOnboardingOpened:l}=(0,b.tzi)(),[r,d]=(0,b.zU3)(),c=(0,b.kcM)({id:b.xvA.ARTIST_DONATION_BUTTON,ref:r}),{state:u,toggleFalse:_}=(0,e_.O)(c),p=(0,s.useCallback)(()=>{_()},[_]),m=(0,s.useCallback)(e=>{e||(p(),l(!1))},[p,l]);return(0,o.jsxs)(ep.u,{placement:i?"top":"right",arrowProps:em,offsetOptions:14,isHoverEnabled:!1,open:u,onOpenChange:m,enableAriaDescribedby:!0,referenceRef:d,children:[t,(0,o.jsxs)(ep._v,{className:ed().donationButtonTooltip,rootNode:n,children:[(0,o.jsx)(y.z,{icon:(0,o.jsx)(g.Icon,{variant:"close",size:"xxs"}),onClick:p,variant:"text",className:ed().closeTooltip,withRipple:!1}),(0,o.jsx)(x.Caption,{variant:"span",className:ed().tooltipText,children:(0,o.jsx)(E.Z,{id:"onboarding.artist-donation-button-1",values:{br:(0,o.jsx)("br",{})}})})]})]})},ev=(0,l.Pi)(e=>{var t,a,i,l,r;let{artistMeta:c,className:u,forwardRef:_}=e,p=(0,b.s0h)("/slides/artist/".concat(null==c?void 0:c.artist.id,"/")),{shouldShowBuySubscriptionModal:m,showBuySubscriptionModal:v}=(0,b.vLf)(),{from:f,utmLink:C}=(0,b.MhG)({pageId:b.Rhz.ARTIST,blockId:b.aUg.ARTIST,contextType:L.A.Artist,contextId:null==c?void 0:c.artist.id}),P=(0,Z.SB)(null==c?void 0:c.artist),N=(0,Z.BV)(null==c?void 0:c.artist),j=(0,b.FTC)(),{formatMessage:A}=(0,h.Z)(),[k,w]=(0,s.useState)(!1),{disclaimer:T,settings:B,trailer:R,advert:M}=(0,b.oR4)(),{notify:I}=(0,b.d$W)(),z=B.layout===b.t8m.Mobile,F=(null==c?void 0:null===(t=c.artist.trailer)||void 0===t?void 0:t.canShow)&&!z,D=(null==c?void 0:c.artist.isForeignAgent)&&(null===(a=T.data)||void 0===a?void 0:a.title)||void 0,U=(0,s.useMemo)(()=>(null==c?void 0:c.artist.composer)?A({id:"entity-names.composer"}):A({id:"entity-names.singer"}),[A,null==c?void 0:c.artist.composer]),W=(0,s.useMemo)(()=>{if(null==c?void 0:c.lastMonthListeners)return(0,o.jsx)(E.Z,{id:"entity-names.listeners-per-month",values:{counter:c.lastMonthListeners}})},[null==c?void 0:c.lastMonthListeners]),G=(0,s.useMemo)(()=>{var e;return null==c?void 0:null===(e=c.artist.extraActions)||void 0===e?void 0:e.find(e=>e.type===ei.r.REWIND)},[null==c?void 0:c.artist.extraActions]),{isPlaying:V,togglePlay:q}=(0,b.qmq)({playContextParams:{contextData:{type:L.A.Artist,meta:{id:Number(null==c?void 0:c.artist.id)},from:f,utmLink:C},loadContextMeta:!0}}),Q=(0,s.useCallback)(()=>{if(m){v();return}q()},[m,v,q]),Y=(0,s.useMemo)(()=>{var e,t;return z?(0,o.jsx)(H.JM,{className:ed().playControl,color:"primary",buttonVariant:"default",iconSize:"xxl",isPlaying:V,variant:"filled",onClick:Q,disabled:!(null==c?void 0:null===(t=c.artist)||void 0===t?void 0:t.isAvailableForPlaying)||!c.artist.isAvailable}):(0,o.jsx)(H.JM,{className:ed().playControl,withRipple:!0,buttonVariant:"default",radius:"xxxl",size:"s",color:"primary",iconSize:"xxs",isPlaying:V,disabled:!(null==c?void 0:null===(e=c.artist)||void 0===e?void 0:e.isAvailableForPlaying)||!c.artist.isAvailable,onClick:Q,variant:"default",children:(0,o.jsx)(E.Z,{id:"player-actions.listen"})})},[null==c?void 0:c.artist.isAvailable,null==c?void 0:null===(i=c.artist)||void 0===i?void 0:i.isAvailableForPlaying,Q,z,V]),K=(0,s.useCallback)(()=>{if(M.isAdvertShown){I((0,o.jsx)(H.vd,{}),{containerId:b.W$x.INFO});return}(null==c?void 0:c.artist.id)&&(R.setUtmLink(C),R.openArtistTrailer(c.artist.id),j(O.OB.Artist,c.artist.id))},[null==c?void 0:c.artist.id,j,R,C,M.isAdvertShown,I]),J=(0,s.useMemo)(()=>F?(0,o.jsx)(H.Wd,{children:(0,o.jsx)(H.eP,{size:"s",radius:"xxxl",iconSize:"xxs",className:ed().trailerControl,onClick:K,children:(0,o.jsx)(E.Z,{id:"entity-names.trailer"})})}):null,[K,F]),$=(0,s.useMemo)(()=>{var e;return null==c?void 0:null===(e=c.artist.extraActions)||void 0===e?void 0:e.find(es)},[null==c?void 0:c.artist.extraActions]),ee=(0,s.useMemo)(()=>{let e=z?"l":"s",t=z?"m":"xxs",a={gridTemplateAreas:"".concat(en({isMobile:z,rewindButton:!!G,pinButton:!z,trailerButton:!!F}))};return(0,o.jsxs)("div",{style:a,className:ed().controls,children:[Y,J,!!G&&(0,o.jsx)(y.z,{className:ed().rewindControl,withRipple:!z,radius:"xxxl",size:"s",color:"primary",onClick:p,variant:"default",role:"link",children:null==G?void 0:G.title}),(0,o.jsx)(H.dJ,{className:ed().likeControl,isLiked:null==c?void 0:c.artist.isLiked,onClick:P,withRipple:!z,iconSize:t,size:e,variant:"default",iconClassName:ed().likeIcon,disabled:!(null==c?void 0:c.artist.isAvailable)}),!z&&(0,o.jsx)(H.RT,{onClick:N,isPinned:null==c?void 0:c.artist.isPinned,className:ed().pinControl,isDisabled:!(null==c?void 0:c.artist.isAvailable)}),(0,o.jsx)(eo.xG,{artist:null==c?void 0:c.artist,open:k,onOpenChange:w,className:ed().menuControl,size:e,icon:(0,o.jsx)(g.Icon,{size:t,variant:"more"}),...(0,d.BA)(d.QM.pageHeader.ARTIST_HEADER_CONTEXT_MENU_BUTTON)})]})},[z,G,F,Y,J,p,null==c?void 0:c.artist,P,N,k]),et=(0,s.useMemo)(()=>(0,o.jsxs)("div",{className:ed().meta,children:[(null==c?void 0:c.lastMonthListeners)&&(0,o.jsxs)("div",{className:ed().label,...(0,d.BA)(d.QM.pageHeader.ARTIST_LISTENERS_COUNT),children:[(0,o.jsx)(g.Icon,{variant:"users",size:"xxxs"}),(0,o.jsx)(x.Caption,{type:"text",size:"m",weight:"medium",variant:"span",children:W})]}),$&&(0,o.jsx)(ex,{children:(0,o.jsx)(eu,{action:$})})]}),[null==c?void 0:c.lastMonthListeners,$,W]);return(0,o.jsx)(S,{ref:_,className:(0,n.W)(ed().root,u),entityName:U,title:(null==c?void 0:null===(l=c.artist)||void 0===l?void 0:l.name)||"",meta:et,cover:(0,o.jsx)(X,{coverVariant:"round",coverUri:null==c?void 0:null===(r=c.artist)||void 0===r?void 0:r.coverUri,isAvailable:null==c?void 0:c.artist.isAvailable}),controls:ee,disclaimerLabel:D,headingVariant:"h1"})}),ef=(0,s.forwardRef)((e,t)=>(0,o.jsx)(ev,{forwardRef:t,...e}));var eh=a(18281),ey=a.n(eh);let eg=(0,l.Pi)(e=>{var t;let{album:a,className:i,"aria-labelledby":n,forwardRef:l,onVersionClick:r}=e,{shouldShowBuySubscriptionModal:c,showBuySubscriptionModal:u}=(0,b.vLf)(),{from:_,utmLink:p}=(0,b.MhG)({pageId:b.Rhz.ALBUM,blockId:b.aUg.ALBUM,contextType:L.A.Album,contextId:a.id}),{user:m,disclaimer:x,settings:v,experiments:f,sonataState:h}=(0,b.oR4)(),y=v.layout===b.t8m.Mobile,C=(0,b.SfR)(a.isLiked,a.type),P=(0,z.H0)(a.type),N=(0,s.useMemo)(()=>{if(a.shouldShowBooksBadge)return(0,o.jsx)(g.Icon,{variant:"booksLogo",className:ey().booksLogo})},[a.shouldShowBooksBadge]),j=!m.hasPlus&&!a.isAvailable&&a.availableForPremiumUsers&&f.checkExperiment(b.peG.WebNextPlusPaywall,"on"),A=a.isPodcast&&a.isForeignAgent&&(null===(t=x.data)||void 0===t?void 0:t.title)||void 0,{isPlaying:k,togglePlay:w}=(0,b.qmq)({playContextParams:{contextData:{type:L.A.Album,meta:{id:a.id},from:_,utmLink:p},loadContextMeta:!0,entitiesData:h.unloadedEntitiesDataFromModels}}),T=(0,s.useCallback)(()=>{if(c){u();return}w()},[c,u,w]),B=(0,s.useMemo)(()=>j?(0,o.jsx)(H._m,{className:ey().plusPaywallButton}):y?(0,o.jsx)(H.JM,{className:ey().playControl,color:"primary",buttonVariant:"default",iconSize:"xxl",isPlaying:k,onClick:T,variant:"filled",disabled:!a.isAvailable}):(0,o.jsx)(H.JM,{className:ey().playControl,withRipple:!0,buttonVariant:"default",radius:"xxxl",size:"s",color:"primary",iconSize:"xxs",isPlaying:k,onClick:T,disabled:!a.isAvailable,children:(0,o.jsx)(E.Z,{id:"player-actions.listen"})}),[j,y,k,T,a.isAvailable]),R=(0,s.useMemo)(()=>(0,o.jsxs)("div",{className:ey().controls,...(0,d.BA)(d.QM.pageHeader.NON_MUSIC_PAGE_HEADER_CONTROLS),children:[B,(0,o.jsx)(W,{album:a,likeButtonAriaLabel:C,withLikeButton:!j})]}),[B,a,C,j]),M=(0,s.useMemo)(()=>(0,o.jsx)("div",{className:ey().meta,children:(0,o.jsx)(Y,{album:a})}),[a]);return(0,o.jsx)(S,{ref:l,headingVariant:"h1",className:i,controls:R,meta:M,entityName:P,entityNameIcon:N,title:a.title,cover:(0,o.jsx)(X,{coverVariant:"square",coverUri:a.coverUri,isAvailable:a.isAvailable,withPlusBadge:a.isAvailableOnlyForPlus}),"aria-labelledby":n,version:a.version,onVersionClick:r,disclaimerLabel:A})}),eC=(0,s.forwardRef)((e,t)=>(0,o.jsx)(eg,{forwardRef:t,...e}));var eb=a(50022),eP=a(39583),eN=a(83317),ej=a(59429),eA=a.n(ej);let ek=(0,l.Pi)(e=>{let{trackIds:t,className:a}=e,{slam:i}=(0,b.oR4)(),l=(0,b.Ku9)(),{formatMessage:r}=(0,h.Z)(),[d,c]=(0,s.useState)(!1),u=i.isPlaylistDownloaded(t),_=i.isPlaylistDownloading(t),p=i.getPlaylistDownloadingProgress(t),m=(0,s.useCallback)(()=>{if(_){null==l||l.stopDownload(t);return}if(u){c(!0);return}null==l||l.download(t)},[u,_,l,t]),v=(0,s.useCallback)(()=>{null==l||l.delete(t)},[l,t]),f=(0,s.useMemo)(()=>u?(0,o.jsx)(g.Icon,{variant:"check",size:"xxs",className:eA().downloadedIcon}):_?(0,o.jsx)(H.kQ,{value:null!=p?p:0,size:26,withCancelIcon:!0,className:eA().downloadingProgress,progressBarClassName:eA().progress,cancelIconClassName:eA().cancelIcon}):(0,o.jsx)(g.Icon,{variant:"download",size:"xxs"}),[u,_,p]),C=(0,s.useMemo)(()=>_?r({id:"offline.stop-downloading"}):r({id:"offline.download"}),[r,_]);return u?(0,o.jsx)(eN.v2,{variant:"default",size:"s",radius:"xxxl",icon:f,offsetOptions:10,open:d,onOpenChange:c,wrapperClassName:a,ariaLabel:r({id:"offline.delete-from-device"}),children:(0,o.jsx)(eN.sN,{icon:(0,o.jsx)(g.Icon,{variant:"upload",size:"xxs"}),onClick:v,children:(0,o.jsx)(E.Z,{id:"offline.delete-from-device"})})}):(0,o.jsx)(y.z,{className:(0,n.W)(eA().root,{[eA().root_downloading]:_},a),variant:"default",size:"s",radius:"xxxl",icon:f,"aria-label":C,onClick:m,children:_&&(0,o.jsx)(x.Caption,{variant:"div",className:eA().progressText,children:(0,o.jsx)(E.Z,{id:"offline.downloading-progress",values:{value:p}})})})});var ew=a(34735),eT=a.n(ew),eS=a(44539);let eB=["image/png","image/jpeg","image/jpg"],eR=e=>eB.includes(e),eM=e=>e>0&&e<=2e7,eI=e=>{if(!e)return;let t=2*e.naturalHeight||e.height,a=2*e.naturalWidth||e.width;return t<5e3&&a<5e3};var eE=a(4538),eL=a.n(eE);let ez=(0,l.Pi)(e=>{let{className:t,playlist:a}=e,{settings:i}=(0,b.oR4)(),l=a.coverUri,r=i.layout===b.t8m.Mobile,c=a.canUserChange&&!r,{notify:u}=(0,b.d$W)(),{formatMessage:_}=(0,h.Z)(),p=(0,s.useRef)(null),[m,x]=(0,s.useState)(l||""),[v,f]=(0,s.useState)(c),[g,C]=(0,s.useState)(new FormData),P=(0,eS.zp)(l||"",600,!1),N=(0,eS.zp)(l||"",300,!1),[j,A]=(0,s.useState)(P);(0,s.useEffect)(()=>{v!==c&&f(c)},[c,v]);let k=(0,s.useCallback)(()=>u((0,o.jsx)(H.Q,{error:_({id:"playlist-errors.failed-to-change-poster"})}),{containerId:b.W$x.ERROR}),[u,_]),w=(0,s.useCallback)(()=>{var e;null==p||null===(e=p.current)||void 0===e||e.click()},[p]),T=(0,s.useCallback)(e=>{"Enter"===e.key&&w()},[w]),S=(0,s.useCallback)(e=>{let t=e.target,a=(t.files||[])[0]||null;if(t.value="",!a||!eR(a.type)||!eM(a.size)){k();return}m&&A(m),f(!1),x(URL.createObjectURL(a));let i=new FormData;i.append("image",a),C(i)},[k,m]),B=(0,s.useCallback)(async e=>{let t=e.target,i=()=>{x(j),k(),f(!0)};if((!l||t.currentSrc!==P&&t.currentSrc!==N)&&c&&j!==t.currentSrc){if(!eI(t)){i();return}await a.changePlaylistCover(g)===b.SLo.ERROR?i():f(!0)}},[k,j,a,g,l,c,P,N]),R=(0,s.useMemo)(()=>m?_({id:"playlist-actions.change-poster"}):_({id:"playlist-actions.add-poster"}),[m,_]);return(0,o.jsxs)(G.Paper,{radius:"m",className:(0,n.W)(eL().root,t),children:[(0,o.jsx)(H.BE,{fit:"cover",src:m,size:300,className:eL().coverImage,withAvatarReplace:!0,onLoad:B}),v&&(0,o.jsx)("div",{className:(0,n.W)(eL().buttonContainer,{[eL().buttonContainer_withCursorPointer]:m}),children:(0,o.jsxs)("div",{className:(0,n.W)(eL().fileUploadContainer,{[eL().fileUploadContainer_hovered]:m}),children:[(0,o.jsx)(y.z,{className:eL().button,radius:"xxxl",size:"xxs",color:"secondary",withRipple:!1,onClick:w,onKeyUp:T,"aria-label":_({id:"playlist-actions.add-poster"}),...(0,d.BA)(d.QM.pageHeader.PLAYLIST_HEADER_ADD_COVER_BUTTON),children:R}),(0,o.jsx)("form",{className:eL().formFile,encType:"multipart/form-data",children:(0,o.jsx)("input",{ref:p,type:"file",name:"file",accept:"image/jpeg, image/png, image/jpg",onChange:S})})]})})]})});var eH=a(41256),eO=a.n(eH),eF=a(73056);let eD=(0,l.Pi)(e=>{let{playlist:t,className:a}=e,{formatMessage:i}=(0,h.Z)(),n=(0,s.useCallback)((e,t)=>{switch(e){case b.UvK.TODAY:return i({id:"interface-actions.playlist-made-for-today"},t);case b.UvK.YESTERDAY:return i({id:"interface-actions.playlist-made-for-yesterday"},t);case b.UvK.DATE_WITH_YEAR:return i({id:"interface-actions.playlist-made-for-date-with-year"},t);default:return i({id:"interface-actions.playlist-made-for-date"},t)}},[i]),l=(0,s.useCallback)((e,t)=>{switch(e){case b.UvK.TODAY:return i({id:"interface-actions.updated-playlist-today"},t);case b.UvK.YESTERDAY:return i({id:"interface-actions.updated-playlist-yesterday"},t);case b.UvK.DATE_WITH_YEAR:return i({id:"interface-actions.updated-playlist-date-with-year"},t);default:return i({id:"interface-actions.updated-playlist-date"},t)}},[i]),r=(0,s.useMemo)(()=>{var e,a,i,o,s,r,d;let c=new Date(t.modified),u=(0,b.u9c)(c);return t.madeFor?n(u,{playlistReceiver:(null==t?void 0:null===(o=t.madeFor)||void 0===o?void 0:null===(i=o.caseForms)||void 0===i?void 0:i.genitive)||(null==t?void 0:null===(r=t.madeFor)||void 0===r?void 0:null===(s=r.userInfo)||void 0===s?void 0:s.login)||"",updateDate:c}):t.isFavouritePlaylist?(null===(d=t.owner)||void 0===d?void 0:d.name)||"":l(u,{updateDate:new Date(t.modified),ownerName:(null===(e=t.owner)||void 0===e?void 0:e.name)||"",gender:(null===(a=t.owner)||void 0===a?void 0:a.sex)===eF.o.FEMALE?"female":"male"})},[t,n,l]);return(0,o.jsx)(x.Caption,{variant:"span",className:a,type:"text",size:"m",weight:"medium",lineClamp:1,...(0,d.BA)(d.QM.pageHeader.PLAYLIST_HEADER_UPDATED_TEXT),children:r})}),eU=(0,l.Pi)(e=>{let{playlist:t}=e,{formatMessage:a}=(0,h.Z)(),{settings:i}=(0,b.oR4)(),{notify:l}=(0,b.d$W)(),r=i.layout===b.t8m.Mobile,c=t.canUserChange&&!r,u=!!t.description,{state:_,toggleTrue:p,toggleFalse:m}=(0,e_.O)(!1),[v,f]=(0,s.useState)(t.description||""),g=(0,s.useCallback)(async()=>{m(),await t.changeDescription(v)===b.SLo.ERROR&&l((0,o.jsx)(H.Q,{error:a({id:"playlist-errors.failed-to-change-description"})}),{containerId:b.W$x.ERROR})},[a,v,l,t,m]),C=(0,s.useCallback)(e=>{f(e)},[]),P=(0,s.useMemo)(()=>(0,b.g78)(t.description,H.rU,{className:eO().descriptionLink}),[t.description]);return(0,o.jsxs)("div",{className:eO().root,children:[u&&!_&&(0,o.jsxs)(x.Caption,{variant:"span",className:eO().description,type:"text",size:"m",weight:"medium",children:[P,c&&(0,o.jsx)(y.z,{variant:"text",withRipple:!1,onClick:p,className:(0,n.W)(eO().descriptionActionLink,eO().addDescription),"aria-label":a({id:"playlist-actions.change-description"}),color:"primary",...(0,d.BA)(d.QM.pageHeader.PLAYLIST_HEADER_CHANGE_DESCRIPTION_BUTTON),children:(0,o.jsx)(x.Caption,{variant:"span",size:"m",type:"text",className:eO().button,children:(0,o.jsx)(E.Z,{id:"playlist-actions.change-description-abbr"})})})]}),!u&&c&&!_&&(0,o.jsx)(y.z,{variant:"text",withRipple:!1,onClick:p,className:eO().descriptionActionLink,"aria-label":a({id:"playlist-actions.add-description"}),color:"primary",...(0,d.BA)(d.QM.pageHeader.PLAYLIST_HEADER_ADD_DESCRIPTION_BUTTON),children:(0,o.jsxs)(x.Caption,{variant:"span",size:"m",type:"text",className:eO().button,children:[(0,o.jsx)(E.Z,{id:"playlist-actions.add-description"}),"..."]})}),c&&_&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j,{text:t.description,className:eO().textField,placeholder:"".concat(a({id:"playlist-actions.add-description"}),"..."),maxTextLength:eP.Zn,onChangeFinish:C,variant:"textarea"}),(0,o.jsxs)("div",{className:eO().actionButtons,children:[(0,o.jsx)(y.z,{className:eO().saveButton,color:"secondary",radius:"xxxl",size:"s","aria-label":a({id:"interface-actions.save"}),onClick:g,withHover:!0,children:(0,o.jsx)(E.Z,{id:"interface-actions.save"})}),(0,o.jsx)(y.z,{variant:"text",withRipple:!1,onClick:m,className:eO().cancelButton,"aria-label":a({id:"interface-actions.cancel"}),color:"primary",children:(0,o.jsx)(x.Caption,{variant:"span",size:"m",type:"text",className:eO().button,children:(0,o.jsx)(E.Z,{id:"interface-actions.cancel"})})})]})]}),(0,o.jsx)(eD,{className:eO().updatedText,playlist:t})]})});var eW=a(33237),eG=a.n(eW);let eZ=(0,l.Pi)(e=>{let{playlist:t}=e,a=(0,s.useRef)(null),{ugcUploadCenter:i}=(0,b.oR4)(),{formatMessage:n}=(0,h.Z)(),l=(0,s.useCallback)(()=>{var e;null==a||null===(e=a.current)||void 0===e||e.click()},[a]),r=(0,s.useCallback)(e=>{let a=e.target.files;a&&a.length>0&&i.appendFiles([...a],t),e.target.value=""},[t,i]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.z,{size:"s",radius:"xxxl","aria-label":n({id:"ugc.upload-track"}),className:eG().button,onClick:l,children:n({id:"ugc.upload-track"})}),(0,o.jsx)("form",{className:eG().form,encType:"multipart/form-data",children:(0,o.jsx)("input",{ref:a,type:"file",accept:"audio/*",onChange:r,multiple:!0})})]})});var eV=a(97667);let eq=(0,l.Pi)(e=>{var t,a,i;let{playlist:n,onOpenChange:l,open:r,wrapperClassName:c,...u}=e,{shouldShowBuySubscriptionModal:_,showBuySubscriptionModal:p}=(0,b.vLf)(),{settings:m,trailer:x,playlist:{activeFilter:v,analyticsParamsActiveFilterIndex:f},advert:y,user:C}=(0,b.oR4)(),P=(0,eP.SB)(n),N=(0,eP.BV)(n),j=(0,b.FTC)(),A="".concat(b.aUg.PLAYLIST,"-").concat(n.uid,"_").concat(n.kind),k=m.layout===b.t8m.Mobile,w=n.canUserChange,{utmLink:T}=(0,b.MhG)({pageId:b.Rhz.PLAYLIST,blockId:b.aUg.PLAYLIST,contextType:L.A.Playlist,contextId:n.uuid,pageEntityId:n.uuid}),{notify:S}=(0,b.d$W)(),{formatMessage:B}=(0,h.Z)(),R=(0,eV.useRouter)(),M=(0,s.useMemo)(()=>({objectId:n.seeds[0],tabId:v,tabPos:f}),[n.seeds,v,f]),I=(0,b.U2q)(M),{href:z}=(0,b.qKB)("/users/".concat(null===(t=n.owner)||void 0===t?void 0:t.login,"/playlists/").concat(n.kind)),{isPlaying:F,togglePlay:D}=(0,b.QhE)({seeds:null!==(i=n.seeds)&&void 0!==i?i:[],pageIdForFrom:b.Rhz.RADIO,blockIdForFrom:A}),U=(0,s.useCallback)(()=>{if(_&&C.isAuthorized){p();return}if(y.isAdvertShown){S((0,o.jsx)(H.vd,{}),{containerId:b.W$x.INFO});return}F||(D(),I())},[_,C.isAuthorized,y.isAdvertShown,F,p,S,D,I]),W=(0,s.useCallback)(()=>{if(_){p();return}if(y.isAdvertShown){S((0,o.jsx)(H.vd,{}),{containerId:b.W$x.INFO});return}x.setUtmLink(T),x.openPlaylistTrailer(n.id),j(O.OB.Playlist,n.id)},[_,y.isAdvertShown,x,T,n.id,j,p,S]),G=(0,s.useCallback)(async()=>{if(await n.deletePlaylist()===b.SLo.ERROR){S((0,o.jsx)(H.Q,{error:B({id:"playlist-errors.failed-to-remove-playlist"})}),{containerId:b.W$x.ERROR});return}R.push("/collection")},[B,S,n,R]);(0,b.ZP4)(r);let Z=(n.isPublic||n.isFavouritePlaylist)&&n.isAvailable;return(0,o.jsxs)(eN.v2,{isMobile:k,offsetOptions:10,open:r,onOpenChange:l,ariaLabel:B({id:"interface-actions.context-menu"}),wrapperClassName:c,...u,containerProps:(0,d.BA)(d.bG.playlist.PLAYLIST_CONTEXT_MENU),children:[!k&&(0,o.jsx)(H.Zd,{onClick:N,isPinned:n.isPinned}),!n.isFavouritePlaylist&&(0,o.jsx)(H.xZ,{onClick:P,isLiked:n.isLiked}),(null===(a=n.trailer)||void 0===a?void 0:a.canShow)&&(0,o.jsx)(H.NB,{onClick:W}),(0,o.jsx)(H.GQ,{disabled:!n.isAvailable,onClick:U,variant:b.xIL.PLAYLIST}),(0,o.jsx)(H.zq,{disabled:!Z,shareLink:z,entityVariant:"playlist",entityTitle:n.title}),w&&(0,o.jsx)(eN.sN,{icon:(0,o.jsx)(g.Icon,{variant:"bucket",size:"xxs"}),onClick:G,children:(0,o.jsx)(E.Z,{id:"playlist-actions.remove-playlist"})}),w&&(0,o.jsx)(eP.pT,{playlist:n})]})}),eQ=(0,l.Pi)(e=>{var t;let{playlist:a,isDisabled:i,className:n,forwardRef:l}=e,{shouldShowBuySubscriptionModal:r,showBuySubscriptionModal:c}=(0,b.vLf)(),{from:u,utmLink:_}=(0,b.MhG)({pageId:b.Rhz.PLAYLIST,blockId:b.aUg.PLAYLIST,contextType:L.A.Playlist,contextId:a.uuid,pageEntityId:a.uuid}),{settings:p,sonataState:m,experiments:v,trailer:f,playlist:{activeFilter:y,activeFilterName:C,analyticsParamsActiveFilterIndex:P,enableVariousAutoFlow:N,trackIds:j},advert:A,user:k}=(0,b.oR4)(),{formatMessage:w,formatNumber:T}=(0,h.Z)(),[B,R]=(0,s.useState)(!1),M=(0,eP.SB)(a),I=(0,eP.BV)(a),z=(0,b.FTC)(),F=(0,s.useMemo)(()=>({objectId:a.uuid,tabId:y,tabPos:P}),[a.uuid,y,P]),D=(0,b.CIM)(F),U=(0,b.kI9)(F),W=(0,b.q3s)(F),G=(0,b.XVb)(F),Z=(0,b.ig3)(F),V=p.layout===b.t8m.Mobile,q=V?"l":"s",Q=V?"m":"xxs",{notify:Y}=(0,b.d$W)(),K=a.canUserChange&&!V;(0,s.useEffect)(()=>{B&&D()},[B,D]);let J=(0,s.useCallback)(async e=>{await a.changeTitle(e)===b.SLo.ERROR&&Y((0,o.jsx)(H.Q,{error:w({id:"playlist-errors.failed-to-change-title"})}),{containerId:b.W$x.ERROR})},[w,Y,a]),{isPlaying:X,togglePlay:$}=(0,b.qmq)({playContextParams:{contextData:{type:L.A.Playlist,meta:{id:a.id,uuid:a.uuid},filter:y,filterName:C,enableVariousAutoFlow:N,from:u,utmLink:_},loadContextMeta:!0,entitiesData:m.unloadedEntitiesDataFromModels}}),[ee,et]=(0,s.useState)(X),ea=(0,s.useCallback)(()=>{if(r){c();return}$(),m.setPlaylistFilter(y),ee?Z():G()},[r,$,m,y,ee,c,G,Z]);(0,s.useEffect)(()=>{X&&(m.playlistFilter===y||(0,eb.Z)(m.playlistFilter)&&(0,eb.Z)(y))?et(!0):et(!1)},[X,m.playlistFilter,y]);let ei=(0,s.useMemo)(()=>{if(a.actualLikesCount&&a.actualLikesCount>0)return(0,o.jsx)(x.Caption,{variant:"span",type:"controls",size:"s",weight:"medium",children:a.actualLikesCount&&T(a.actualLikesCount)})},[a.actualLikesCount,T]),eo=(0,s.useMemo)(()=>V?(0,o.jsx)(H.JM,{className:eT().playControl,color:"primary",buttonVariant:"default",iconSize:"xxl",isPlaying:ee,variant:"filled",onClick:ea,disabled:i}):(0,o.jsx)(H.JM,{className:eT().playControl,withRipple:!0,buttonVariant:"default",radius:"xxxl",size:"s",color:"primary",iconSize:"xxs",isPlaying:ee,onClick:ea,disabled:i,children:(0,o.jsx)(E.Z,{id:"player-actions.listen"})}),[i,V,ea,ee]),en=(0,s.useCallback)(()=>{if(A.isAdvertShown){Y((0,o.jsx)(H.vd,{}),{containerId:b.W$x.INFO});return}f.setUtmLink(_),f.openPlaylistTrailer(a.id),z(O.OB.Playlist,a.id)},[a.id,z,f,_,A.isAdvertShown,Y]),el=(0,s.useMemo)(()=>{var e;return(null===(e=a.trailer)||void 0===e?void 0:e.canShow)&&!V?(0,o.jsx)(H.Wd,{children:(0,o.jsx)(H.eP,{size:"s",radius:"xxxl",iconSize:"xxs",className:eT().trailerControl,onClick:en,disabled:!a.isAvailable,children:(0,o.jsx)(E.Z,{id:"entity-names.trailer"})})}):null},[en,V,null===(t=a.trailer)||void 0===t?void 0:t.canShow,a.isAvailable]),es=(0,s.useMemo)(()=>{if(a.canUserChange&&v.checkExperiment(b.peG.WebNextUGC,"on"))return(0,o.jsx)("div",{className:eT().ugcControls,children:(0,o.jsx)(eZ,{playlist:a})})},[v,a]),er=(0,s.useMemo)(()=>w({id:"entity-names.likes-count-description"},{count:a.actualLikesCount}),[w,a.actualLikesCount]),ed=(0,s.useCallback)(()=>{M(),a.isLiked?U():W()},[M,a.isLiked,U,W]),ec=(0,s.useMemo)(()=>a.isFavouritePlaylist?void 0:V?(0,o.jsx)(H.dJ,{className:eT().likeControl,isLiked:a.isLiked,onClick:ed,variant:"default",size:q,iconSize:Q,iconClassName:eT().likeIcon}):(0,o.jsx)(H.dJ,{className:eT().likeControl,isLiked:a.isLiked,onClick:ed,withRipple:!0,iconSize:Q,size:q,variant:"default","aria-label":er,iconClassName:eT().likeIcon,children:ei}),[er,q,ed,Q,V,ei,a.isFavouritePlaylist,a.isLiked]),eu=v.checkExperiment(b.peG.WebNextEnableDownloadControls,"on")&&k.hasPlus&&!V&&a.isFavouritePlaylist&&a.isOwnPlaylist,e_=(0,s.useMemo)(()=>(0,o.jsxs)("div",{className:eT().controls,children:[(0,o.jsxs)("div",{className:eT().mainControls,children:[eo,el,ec,!V&&(0,o.jsx)(H.RT,{onClick:I,isPinned:a.isPinned,className:eT().pinControl}),(0,o.jsx)(eq,{playlist:a,open:B,onOpenChange:R,wrapperClassName:eT().menuControl,size:q,icon:(0,o.jsx)(g.Icon,{size:Q,variant:"more"}),...(0,d.BA)(d.QM.pageHeader.PLAYLIST_HEADER_CONTEXT_MENU_BUTTON)}),eu&&(0,o.jsx)(ek,{trackIds:j,className:eT().downloadControl})]}),es]}),[eo,el,ec,V,I,a,eu,j,B,q,Q,es]);return(0,o.jsx)(S,{headingVariant:"h1",ref:l,className:n,controls:e_,meta:(0,o.jsx)(eU,{playlist:a}),entityName:w({id:"entity-names.playlist"}),title:a.title,canChangeTitle:K,maxTitleLength:eP.cp,onTitleChange:J,cover:(0,o.jsx)(ez,{playlist:a})})}),eY=(0,s.forwardRef)((e,t)=>(0,o.jsx)(eQ,{forwardRef:t,...e}))},88993:function(e){e.exports={icon:"NotificationRepeat_icon__TjQ9H",message:"NotificationRepeat_message__IeQXU",icon_unset:"NotificationRepeat_icon_unset__Dr5iH"}},1548:function(e){e.exports={icon:"NotificationShuffle_icon__lIKky",message:"NotificationShuffle_message___Tpxo",icon_unset:"NotificationShuffle_icon_unset__VTrhj"}},40991:function(e){e.exports={repeatIcon_none:"RepeatButton_repeatIcon_none__GQOWG",repeatIcon_context:"RepeatButton_repeatIcon_context__HRK2F",repeatIcon_one:"RepeatButton_repeatIcon_one__vVtqR",repeatIcon_disabled:"RepeatButton_repeatIcon_disabled__PYLys"}},16067:function(e){e.exports={shuffleIcon_off:"ShuffleButton_shuffleIcon_off__PWssl",shuffleIcon_on:"ShuffleButton_shuffleIcon_on__3B_Rm",shuffleIcon_disabled:"ShuffleButton_shuffleIcon_disabled__vT_hB"}},69424:function(e){e.exports={root:"SonataControlsDesktop_root__oluUH",sonataButtons:"SonataControlsDesktop_sonataButtons__ux0qT",sonataButton:"SonataControlsDesktop_sonataButton__FTykq",playButtonIcon:"SonataControlsDesktop_playButtonIcon__BgNUF",buttonContainer:"SonataControlsDesktop_buttonContainer__PczhH"}},98506:function(e){e.exports={root:"SonataFullscreenControlsDesktop_root__l4a2W",sonataButtons:"SonataFullscreenControlsDesktop_sonataButtons__BNse_",sonataButton:"SonataFullscreenControlsDesktop_sonataButton__qmSTF",playPauseButtonIcon:"SonataFullscreenControlsDesktop_playPauseButtonIcon__nD8zZ",buttonContainer:"SonataFullscreenControlsDesktop_buttonContainer__mkxBw"}},68904:function(e){e.exports={root:"SonataFullscreenControlsMobile_root__lsmD7",sonataButtons:"SonataFullscreenControlsMobile_sonataButtons__PkHh6",sonataButton:"SonataFullscreenControlsMobile_sonataButton__2P1xg",playPauseButtonIcon:"SonataFullscreenControlsMobile_playPauseButtonIcon__veX3T",buttonContainer:"SonataFullscreenControlsMobile_buttonContainer__JavFn"}},35613:function(e){e.exports={menuControl:"PageHeaderAlbumControls_menuControl__wlqyr",likeControl:"PageHeaderAlbumControls_likeControl__eohAO",pinControl:"PageHeaderAlbumControls_pinControl__kq6_T",trailerControl:"PageHeaderAlbumControls_trailerControl___HcW0"}},33845:function(e){e.exports={meta:"PageHeaderAlbumMeta_meta__zsMI8",artistCover:"PageHeaderAlbumMeta_artistCover__L3jJ0",artistLabel:"PageHeaderAlbumMeta_artistLabel__2WZSM",year:"PageHeaderAlbumMeta_year__2X3NO",artists:"PageHeaderAlbumMeta_artists__Nfdob",artistsSpoiler:"PageHeaderAlbumMeta_artistsSpoiler__VOkfE",artistLink:"PageHeaderAlbumMeta_artistLink__eTSrZ",year_dot:"PageHeaderAlbumMeta_year_dot__TrSFr"}},84424:function(e){e.exports={root:"PageHeaderBase_root__xMIBu",coverCell:"PageHeaderBase_coverCell__nBx4c",content:"PageHeaderBase_content___DNyv",info:"PageHeaderBase_info__GRcah",entityContainer:"PageHeaderBase_entityContainer__BDwxT",title_withDisclaimerLabel:"PageHeaderBase_title_withDisclaimerLabel__Apuhc",entityName:"PageHeaderBase_entityName__9Sj_Q",disclaimerLabel:"PageHeaderBase_disclaimerLabel___2wo6",meta:"PageHeaderBase_meta__bMvfR",meta_withDisclaimerLabel:"PageHeaderBase_meta_withDisclaimerLabel__nxckS",controls:"PageHeaderBase_controls__HzGgE"}},83874:function(e){e.exports={root:"PageHeaderTextField_root__Aq9UL",root_textarea:"PageHeaderTextField_root_textarea__OgDzd"}},69994:function(e){e.exports={root:"PageHeaderTitle_root__ESu2q",editButton:"PageHeaderTitle_editButton__KF4eh",editButton_centered:"PageHeaderTitle_editButton_centered__W9EwU",textField:"PageHeaderTitle_textField__LXJ3X",textField_long:"PageHeaderTitle_textField_long__ReeJz",title:"PageHeaderTitle_title__caKyB",version:"PageHeaderTitle_version__g5BeO",version_withOtherVersions:"PageHeaderTitle_version_withOtherVersions__Amfwk",heading:"PageHeaderTitle_heading__UADXi",heading_withVersion:"PageHeaderTitle_heading_withVersion__jw12r",textFieldContainer:"PageHeaderTitle_textFieldContainer__FSD_B",font_long:"PageHeaderTitle_font_long__q9Leq",font_short:"PageHeaderTitle_font_short__76VRG",font_mobile:"PageHeaderTitle_font_mobile__M1__v",stickyTitle:"PageHeaderTitle_stickyTitle__CL1m4"}},67817:function(e){e.exports={coverImage:"PageHeaderCover_coverImage__i0wBv",plusBadge:"PageHeaderCover_plusBadge__O09t4"}},54190:function(e){e.exports={root:"PageHeaderShimmer_root__kqSwa",cover:"PageHeaderShimmer_cover__ay2cr",content:"PageHeaderShimmer_content__SdBKK",info:"PageHeaderShimmer_info__cZkS2",entityName:"PageHeaderShimmer_entityName__tlWnA",title:"PageHeaderShimmer_title__xKG4e",meta:"PageHeaderShimmer_meta__YWx0m",controls:"PageHeaderShimmer_controls__gPErM",desktopPlayButton:"PageHeaderShimmer_desktopPlayButton__R7EmH",button:"PageHeaderShimmer_button__13qrG"}},30200:function(e){e.exports={playControl:"PageHeaderAlbum_playControl__fFyS9",controlsContainer:"PageHeaderAlbum_controlsContainer__0djMk",controls:"PageHeaderAlbum_controls__e3QCT",plusPaywallButton:"PageHeaderAlbum_plusPaywallButton__yJWCh",booksLogo:"PageHeaderAlbum_booksLogo__f4gjV"}},15985:function(e){e.exports={playControl:"PageHeaderArtist_playControl__N_3l_",trailerControl:"PageHeaderArtist_trailerControl__BWQXJ",likeControl:"PageHeaderArtist_likeControl__oEdXe",menuControl:"PageHeaderArtist_menuControl__8qi0J",pinControl:"PageHeaderArtist_pinControl__dQToz",controls:"PageHeaderArtist_controls__U_6g7",main:"PageHeaderArtist_main__VNnip",rewindControl:"PageHeaderArtist_rewindControl__BWibU",meta:"PageHeaderArtist_meta__ZAlx_",label:"PageHeaderArtist_label__rXyrB",donationButtonTooltip:"PageHeaderArtist_donationButtonTooltip__G7XtX",tooltipText:"PageHeaderArtist_tooltipText__aYfaU",closeTooltip:"PageHeaderArtist_closeTooltip__z2w_O"}},18281:function(e){e.exports={playControl:"PageHeaderNonMusic_playControl__g_ILX",controls:"PageHeaderNonMusic_controls__IlqCY",meta:"PageHeaderNonMusic_meta__9DQPy",infoNote:"PageHeaderNonMusic_infoNote__7xbV5",infoNoteIcon:"PageHeaderNonMusic_infoNoteIcon__VDK7_",infoNoteText:"PageHeaderNonMusic_infoNoteText__DCQq8",plusPaywallButton:"PageHeaderNonMusic_plusPaywallButton__O7Tx_",booksLogo:"PageHeaderNonMusic_booksLogo__4_TgU"}},59429:function(e){e.exports={cancelIcon:"DownloadButton_cancelIcon__MR36M",root_downloading:"DownloadButton_root_downloading__H8Eh7",root:"DownloadButton_root__AU5eq",downloadingProgress:"DownloadButton_downloadingProgress__eenjt",progress:"DownloadButton_progress__MM72T",progressText:"DownloadButton_progressText__aQ12B",downloadedIcon:"DownloadButton_downloadedIcon__tETl2"}},34735:function(e){e.exports={trailerControl:"PageHeaderPlaylist_trailerControl__grrD9",pinControl:"PageHeaderPlaylist_pinControl__hJOde",downloadControl:"PageHeaderPlaylist_downloadControl__ijcAx",menuControl:"PageHeaderPlaylist_menuControl__RGH0G",likeControl:"PageHeaderPlaylist_likeControl__bCypn",playControl:"PageHeaderPlaylist_playControl__yRQfm",controls:"PageHeaderPlaylist_controls__uSwwK",mainControls:"PageHeaderPlaylist_mainControls__k_S_i",ugcControls:"PageHeaderPlaylist_ugcControls__9q8Ne"}},4538:function(e){e.exports={root:"PageHeaderPlaylistCover_root__Vdn75",coverImage:"PageHeaderPlaylistCover_coverImage__OC58K",button:"PageHeaderPlaylistCover_button__vCYgD",fileUploadContainer:"PageHeaderPlaylistCover_fileUploadContainer___JnqP",fileUploadContainer_hovered:"PageHeaderPlaylistCover_fileUploadContainer_hovered__RtD_X",buttonContainer:"PageHeaderPlaylistCover_buttonContainer__OkEaT",buttonContainer_withCursorPointer:"PageHeaderPlaylistCover_buttonContainer_withCursorPointer__pnzha",formFile:"PageHeaderPlaylistCover_formFile__1xnry"}},41256:function(e){e.exports={root:"PageHeaderPlaylistMeta_root__9SHZ0",description:"PageHeaderPlaylistMeta_description__edoVx",descriptionButton:"PageHeaderPlaylistMeta_descriptionButton__Jkbg9",descriptionLink:"PageHeaderPlaylistMeta_descriptionLink__OcY5m",updatedText:"PageHeaderPlaylistMeta_updatedText__FSo_0",descriptionActionLink:"PageHeaderPlaylistMeta_descriptionActionLink__aGgtK",addDescription:"PageHeaderPlaylistMeta_addDescription__bFw2Y",textField:"PageHeaderPlaylistMeta_textField__J5QMd",actionButtons:"PageHeaderPlaylistMeta_actionButtons__EYX8Z",saveButton:"PageHeaderPlaylistMeta_saveButton__rZbPS",cancelButton:"PageHeaderPlaylistMeta_cancelButton__Qc5lG"}},33237:function(e){e.exports={button:"PageHeaderPlaylistUgcUploadButton_button__mWtCr",form:"PageHeaderPlaylistUgcUploadButton_form__V64Yu"}}}]);