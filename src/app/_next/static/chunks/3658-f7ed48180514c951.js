"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3658],{34785:function(t,e,a){a.d(e,{$:function(){return h}});var r,s,i=a(11098),o=a(94188),c=a(39598);(r=s||(s={})).WEB="YandexMusicWebNext",r.DESKTOP="YandexMusicDesktopApp";let n=(t,e)=>"".concat(t,"/").concat(e),h=()=>{{let t=(0,c.b)()||"1.0";return n("".concat(s.DESKTOP).concat((0,o.y)((0,i.X)())),t)}}},86e3:function(t,e,a){a.d(e,{c:function(){return n}});var r=a(29397),s=a(71833);class i{constructor(t){(0,r._)(this,"httpClient",void 0),this.httpClient=t}}let o=new Set,c=t=>{if(!/\[...notFound\]/.test(t)){let e="".concat(t.replaceAll(/\/(?!$)/gi,"\\/").replace(/\/(?=$)/i,"").replaceAll(/\[[^/-]+\]/gi,"([^/]+)"),"\\/?");o.add(RegExp(e,"ig"))}};class n extends i{createRequestHeadersFromParams(t){var e,a,r,i,o;let c=(null==t?void 0:null===(e=t.common)||void 0===e?void 0:e.oauth)||this.config.params.common.oauth,n=(null==t?void 0:null===(a=t.common)||void 0===a?void 0:a.client)||this.config.params.common.client,h=(null==t?void 0:null===(r=t.common)||void 0===r?void 0:r.language)||this.config.params.common.language,g=(null==t?void 0:null===(i=t.common)||void 0===i?void 0:i.device)||this.config.params.common.device,m=(null==t?void 0:t.customRequestId)||(0,s.Z)(),l=null===(o=null==t?void 0:t.withoutInvocationInfo)||void 0===o||o,d={authorization:void 0!==c?"OAuth ".concat(c):void 0,"x-yandex-music-client":n,"accept-language":h,"x-yandex-music-frontend":"new","X-Request-Id":m,"X-Yandex-Music-Device":g};return l&&(d["X-Yandex-Music-Without-Invocation-Info"]="1"),d}createTvmHeadersFromParams(t){let{params:e,target:a}=t,r=(null==e?void 0:e.tvmTickets)||this.config.params.tvmTickets;if(r&&a){let t=r[a];if(t)return{"X-Ya-Service-Ticket":t.ticket}}return{}}createYandexICookieHeaderFromConfig(){return{"x-yandex-icookie":this.config.params.common.icookie}}createUserTicketHeaderFromParams(){let t=this.config.params.userTicket;return t?{"X-Ya-User-Ticket":t}:{}}getRetryPolicyConfig(t){return{config:this.retryPolicyConfig,isNotIdempotent:t}}constructor(t,e){if(super(t),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),(0,r._)(this,"retryPolicyConfig",void 0),this.httpClient=t,this.config=e,this.retryPolicyConfig=e.retryPolicyConfig,Array.isArray(e.aggregatedIdUrlScheme))for(let t of e.aggregatedIdUrlScheme)c(t);else e.aggregatedIdUrlScheme&&c(e.aggregatedIdUrlScheme)}}},5789:function(t,e,a){a.d(e,{j:function(){return o}});var r=a(29397),s=a(3754),i=a(86e3);class o extends i.c{async saveAds(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post("ads/save-ads",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.saveAds,searchParams:(0,s.f)({from:t.from,trackId:t.trackId,type:t.type})})).json()}constructor(t,e){super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},55028:function(t,e,a){a.d(e,{S:function(){return o}});var r=a(29397),s=a(3754),i=a(86e3);class o extends i.c{async getAlbumWithRichTracks(t){var e;let a=t.albumId,r=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("albums/".concat(a,"/with-tracks"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getAlbumWithRichTracks,searchParams:(0,s.f)({resumeStream:t.resumeStream,page:t.page,pageSize:t.pageSize,"sort-order":t.sortOrder,richTracks:!0,withListeningFinished:!0})})).json()}async getAlbumWithTracksIds(t){var e;let a=t.albumId,r=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("albums/".concat(a,"/with-tracks"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getAlbumWithTracksIds,searchParams:(0,s.f)({resumeStream:t.resumeStream,page:t.page,pageSize:t.pageSize,"sort-order":t.sortOrder,richTracks:!1,withListeningFinished:!0})})).json()}async getDisclaimer(t){var e;let a=t.albumId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("albums/".concat(a,"/disclaimer"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getDisclaimer})).json()}async getTrailer(t){var e;let a=t.albumId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("albums/".concat(a,"/trailer"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getTrailer})).json()}async getRelatedContent(t){var e;let a=t.albumId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("albums/".concat(a,"/related-content"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getRelatedContent})).json()}async getAlbums(t){var e;let a=t.albumIds,r=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("albums",{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},searchParams:(0,s.f)({albumIds:a.join(",")}),retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getAlbums})).json()}constructor(t,e){e.aggregatedIdUrlScheme=["".concat(e.gateway.prefixUrl,"/albums/[albumId]/with-tracks"),"".concat(e.gateway.prefixUrl,"/albums/[albumId]/disclaimer"),"".concat(e.gateway.prefixUrl,"/albums/[albumId]/trailer"),"".concat(e.gateway.prefixUrl,"/albums/[albumId]/related-content")],super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},34924:function(t,e,a){a.d(e,{c:function(){return o}});var r=a(29397),s=a(3754),i=a(86e3);class o extends i.c{async getArtistTracks(t){var e,a,r;let i=t.artistId,o=this.config.gateway.prefixUrl,c=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(i,"/tracks"),{prefixUrl:o,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({"sort-by":null===(e=t.sort)||void 0===e?void 0:e.sortBy,"sort-order":null===(a=t.sort)||void 0===a?void 0:a.sortOrder,page:t.page,pageSize:t.pageSize}),timeout:null===(r=this.config.timeouts)||void 0===r?void 0:r.getArtistTracks})).json()}async getArtistTrackIds(t){var e;let a=t.artistId,r=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(a,"/track-ids"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...i},searchParams:(0,s.f)({page:t.page,pageSize:t.pageSize}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getArtistTrackIds})).json()}async getSafeDirectAlbums(t){var e,a,r;let i=t.artistId,o=this.config.gateway.prefixUrl,c=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(i,"/safe-direct-albums"),{prefixUrl:o,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({"sort-by":null===(e=t.sort)||void 0===e?void 0:e.sortBy,"sort-order":null===(a=t.sort)||void 0===a?void 0:a.sortOrder,limit:t.limit}),timeout:null===(r=this.config.timeouts)||void 0===r?void 0:r.getSafeDirectAlbums})).json()}async getBriefInfo(t){var e;let a=t.artistId,r=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(a,"/brief-info"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({popularTracksCount:t.popularTracksCount,useClipDataFormat:t.useClipDataFormat,discographyBlockEnabled:t.discographyBlockEnabled,fetchPlaylistLikesCounts:t.fetchPlaylistLikesCounts}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getBriefInfo})).json()}async getSimilarArtists(t){var e;let a=t.artistId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(a,"/similar"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getSimilarArtists})).json()}async getDiscographyAlbums(t){var e,a;let r=t.artistId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(r,"/discography-albums"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({page:t.page,pageSize:t.pageSize,"sort-by":null===(e=t.sort)||void 0===e?void 0:e.sortBy,"sort-order":null===(a=t.sort)||void 0===a?void 0:a.sortOrder})})).json()}async getDirectAlbums(t){var e,a;let r=t.artistId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(r,"/direct-albums"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({page:t.page,pageSize:t.pageSize,"sort-by":null===(e=t.sort)||void 0===e?void 0:e.sortBy,"sort-order":null===(a=t.sort)||void 0===a?void 0:a.sortOrder})})).json()}async getAlsoAlbums(t){var e,a;let r=t.artistId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(r,"/also-albums"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({page:t.page,pageSize:t.pageSize,"sort-by":null===(e=t.sort)||void 0===e?void 0:e.sortBy,"sort-order":null===(a=t.sort)||void 0===a?void 0:a.sortOrder})})).json()}async getConcerts(t){var e;let a=t.artistId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers,i=await this.httpClient.get("artists/".concat(a,"/concerts"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams({withoutInvocationInfo:!1,...t}),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getConcerts});return(await i.json()).result}async getFamiliarYouInfo(t){var e;let{artistId:a,withWaveInfo:r,withCollectionInfo:i}=t,o=this.config.gateway.prefixUrl,c=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(a,"/familiar-you/info"),{prefixUrl:o,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getFamiliarYouInfo,searchParams:(0,s.f)({withWaveInfo:r,withCollectionInfo:i})})).json()}async getFamiliarYou(t){var e;let{artistId:a,waveTracksLimit:r,collectionTracksLimit:i,collectionAlbumsLimit:o,withIds:c}=t,n=this.config.gateway.prefixUrl,h=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(a,"/familiar-you"),{prefixUrl:n,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...h},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getFamiliarYou,searchParams:(0,s.f)({waveTracksLimit:r,collectionTracksLimit:i,collectionAlbumsLimit:o,withIds:c})})).json()}async getDisclaimer(t){var e;let{artistId:a}=t,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(a,"/disclaimer"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getDisclaimer})).json()}async getTrailer(t){var e;let{artistId:a}=t,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("artists/".concat(a,"/trailer"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getTrailer})).json()}constructor(t,e){e.aggregatedIdUrlScheme=["".concat(e.gateway.prefixUrl,"/artists/[artistId]/tracks"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/safe-direct-albums"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/brief-info"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/similar"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/direct-albums"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/also-albums"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/discography-albums"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/concerts"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/familiar-you/info"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/familiar-you"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/disclaimer"),"".concat(e.gateway.prefixUrl,"/artists/[artistId]/trailer")],super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},21045:function(t,e,a){a.d(e,{d:function(){return o}});var r=a(29397),s=a(3754),i=a(86e3);class o extends i.c{async getFileInfo(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.get("get-file-info",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({ts:t.tsInSeconds,trackId:t.trackId,quality:t.quality,codecs:t.codecs.join(","),transports:t.transports.join(","),sign:t.sign}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getFileInfo})).json()}async getFileInfoBatch(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.get("get-file-info/batch",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({ts:t.tsInSeconds,trackIds:t.trackIds,quality:t.quality,codecs:t.codecs.join(","),transports:t.transports.join(","),sign:t.sign}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getFileInfo})).json()}async getByteRange(t){var e;let a=await this.httpClient.get(t.srcUrl,{headers:{Range:"bytes=".concat(t.start,"-").concat(t.end)},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getByteRange});return{data:await a.arrayBuffer(),contentLength:Number(a.headers["content-length"]),contentRange:a.headers["content-range"]}}constructor(t,e){super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},11876:function(t,e,a){a.d(e,{B:function(){return o}});var r=a(29397),s=a(86e3),i=a(3754);class o extends s.c{async getPlaylist(t){var e;let a=t.playlistUuid,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("playlist/".concat(a),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,i.f)({resumeStream:t.resumeStream,richTracks:t.richTracks,trackPlayCounts:t.trackPlayCounts,withSimilarsLikesCount:t.withSimilarsLikesCount,page:t.page,pageSize:t.pageSize}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getPlaylist})).json()}constructor(t,e){e.aggregatedIdUrlScheme="".concat(e.gateway.prefixUrl,"/playlist/[playlistUuid]/"),super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},87836:function(t,e,a){a.d(e,{U:function(){return c}});var r=a(29397),s=a(3754),i=a(6408),o=a(86e3);class c extends o.c{async getStationInfo(t){var e;let{stationId:a}=t,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("rotor/station/".concat(a,"/info"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getStationInfo})).json()}async sessionNew(t){var e;let a=(0,i.c)({seeds:t.seeds,queue:t.queue,includeTracksInResponse:t.includeTracksInResponse,trackToStartFrom:t.trackToStartFrom,clientRemoteType:t.clientRemoteType,incognito:t.incognito,child:t.child,allowExplicit:t.allowExplicit,aliceExperiments:t.aliceExperiments,djData:t.djData,useIchwill:t.useIchwill,includeWaveModel:t.includeWaveModel}),r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.post("rotor/session/new",{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),json:a,timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.sessionNew})).json()}async sessionTracks(t){var e;let a=(0,i.c)({queue:t.queue,aliceExperiments:t.aliceExperiments,djData:t.djData,useIchwill:t.useIchwill,feedbacks:t.feedbacks}),r=this.config.gateway.prefixUrl,s=this.config.gateway.headers,o="rotor/session/".concat(t.radioSessionId,"/tracks");return(await this.httpClient.post(o,{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),json:a,timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.sessionTracks})).json()}async sessionFeedback(t){var e;let a=(0,i.c)({event:t.event,batchId:t.batchId}),r=this.config.gateway.prefixUrl,s=this.config.gateway.headers,o="rotor/session/".concat(t.radioSessionId,"/feedback/");return(await this.httpClient.post(o,{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(!0),json:a,timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.sessionFeedback})).json()}async waveLast(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.get("rotor/wave/last",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.waveLast})).json()}async waveSettings(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.get("rotor/wave/settings",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(e),...this.createTvmHeadersFromParams({params:e,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(),searchParams:(0,s.f)({seeds:e.seeds}),timeout:null===(t=this.config.timeouts)||void 0===t?void 0:t.waveSettings})).json()}async waveLastReset(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post("rotor/wave/last/reset",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.waveLastReset})).json()}async getGenerativeInfo(t){var e;let{stationId:a}=t,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("rotor/station/".concat(a,"/stream"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getGenerativeInfo})).json()}async stationFeedback(t){let e="rotor/station/".concat(t.stationId,"/feedback"),a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post(e,{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(!0),json:(0,i.c)({type:t.type,timestamp:t.timestamp}),searchParams:(0,s.f)({streamId:t.streamId})})).json()}constructor(t,e){e.aggregatedIdUrlScheme=["".concat(e.gateway.prefixUrl,"/rotor/station/[stationId]/info"),"".concat(e.gateway.prefixUrl,"/rotor/session/[radioSessionId]/tracks"),"".concat(e.gateway.prefixUrl,"/rotor/session/[radioSessionId]/feedback/"),"".concat(e.gateway.prefixUrl,"/rotor/station/[stationId]/stream"),"".concat(e.gateway.prefixUrl,"/rotor/station/[stationId]/feedback")],super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},47932:function(t,e,a){a.d(e,{h:function(){return o}});var r=a(29397),s=a(86e3),i=a(3754);class o extends s.c{async progressSync(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post("streams/progress/sync",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},json:{lastSyncTimestamp:t.lastSyncTimestamp,trackStreams:t.trackStreams},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.progressSync})).json()}async markAlbumFinished(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post("streams/progress/mark-album-finished",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},searchParams:(0,i.f)({albumId:t.albumId}),retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.markAlbumFinished})).json()}async markAlbumUnfinished(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post("streams/progress/mark-album-unfinished",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},searchParams:(0,i.f)({albumId:t.albumId}),retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.markAlbumUnfinished})).json()}async markFinished(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post("streams/progress/mark-finished",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},retry:this.getRetryPolicyConfig(),searchParams:(0,i.f)({trackId:t.trackId}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.markFinished})).json()}async markUnfinished(t){var e;let a=this.config.gateway.prefixUrl,r=this.config.gateway.headers;return(await this.httpClient.post("streams/progress/mark-unfinished",{prefixUrl:a,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...r},searchParams:(0,i.f)({trackId:t.trackId}),retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.markAlbumUnfinished})).json()}constructor(t,e){super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},27899:function(t,e,a){a.d(e,{H:function(){return o}});var r=a(29397),s=a(86e3),i=a(3754);class o extends s.c{async getStorageData(t){var e;let{formatFlags:a,direct:r,preview:s,canUseStreaming:o,tsInSeconds:c,sign:n,debug:h,trackId:g,isAliceRequester:m,requireMp3Link:l}=t,d=this.config.gateway.prefixUrl,u=this.config.gateway.headers;return(await this.httpClient.get("tracks/".concat(g,"/download-info"),{prefixUrl:d,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...u},retry:this.getRetryPolicyConfig(),searchParams:(0,i.f)({formatFlags:a,debug:h,preview:s,direct:r,isAliceRequester:m,requireMp3Link:l,canUseStreaming:o,ts:c,sign:n}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getStorageData})).json()}async getSrcData(t){var e,a;let r=(null===(e=t.common)||void 0===e?void 0:e.language)||this.config.params.common.language,{storageUrl:s}=t,o=this.config.gateway.headers,{overembed:c,externalDomain:n}=this.config,h=new URL(s),g={};for(let t of h.searchParams.keys())g[t]=h.searchParams.get(t);return(await this.httpClient.get(s,{prefixUrl:"",headers:{"accept-language":r,...this.createTvmHeadersFromParams({target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),searchParams:(0,i.f)({...g,format:"json",__t:Date.now(),"external-domain":n,overembed:c}),credentials:"same-origin",timeout:null===(a=this.config.timeouts)||void 0===a?void 0:a.getSrcData})).json()}async getTracksMeta(t){var e;let{trackIds:a,removeDuplicates:r=!1,withProgress:s}=t,o=this.config.gateway.prefixUrl,c=this.config.gateway.headers;return(await this.httpClient.get("tracks",{prefixUrl:o,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,i.f)({trackIds:a,removeDuplicates:r,withProgress:s}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getTracksMeta})).json()}async getFullInfoTrack(t){var e;let{trackId:a,albumId:r}=t,s=this.config.gateway.prefixUrl,i=this.config.gateway.headers,o=r?"".concat(a,":").concat(r):a;return(await this.httpClient.get("tracks/".concat(o,"/full-info"),{prefixUrl:s,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getFullInfoTrack})).json()}async getFullDescriptionTrack(t){var e;let{trackId:a}=t,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("tracks/".concat(a,"/supplement"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getFullDescriptionTrack})).json()}async getCredits(t){var e;let{trackId:a}=t,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("tracks/".concat(a,"/credits"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getCredits})).json()}async getDisclaimer(t){var e;let a=t.trackId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("tracks/".concat(a,"/disclaimer"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getDisclaimer})).json()}async getTrailer(t){var e;let a=t.trackId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("tracks/".concat(a,"/trailer"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getTrailer})).json()}async getLyrics(t){var e;let{trackId:a,sign:r,timeStamp:s,format:o}=t,c=this.config.gateway.prefixUrl,n=this.config.gateway.headers;return(await this.httpClient.get("tracks/".concat(a,"/lyrics"),{prefixUrl:c,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...n},searchParams:(0,i.f)({sign:r,timeStamp:s,format:o}),retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getLyrics})).json()}constructor(t,e){e.aggregatedIdUrlScheme=["".concat(e.gateway.prefixUrl,"/tracks/[trackId]/download-info"),"https://storage.mds.yandex.net/file-download-info/[id1]/[id2]","".concat(e.gateway.prefixUrl,"/tracks/[trackId]/disclaimer"),"".concat(e.gateway.prefixUrl,"/tracks/[trackId]/full-info"),"".concat(e.gateway.prefixUrl,"/tracks/[trackId]/credits"),"".concat(e.gateway.prefixUrl,"/tracks/[trackId]/lyrics"),"".concat(e.gateway.prefixUrl,"/tracks/[trackId]/trailer")],super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},82839:function(t,e,a){a.d(e,{V:function(){return n}});var r=a(29397),s=a(30821),i=a(52900),o=a(3754),c=a(86e3);class n extends c.c{async getLikedAlbums(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/likes/albums/page"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({rich:!0,page:t.page,pageSize:t.pageSize,"sort-by":t.sortBy,"sort-order":t.sortOrder,metaType:t.metaType}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getLikedAlbums})).json()}async getLikedArtists(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/likes/artists/page"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({page:t.page,pageSize:t.pageSize,"sort-by":t.sortBy,"sort-order":t.sortOrder,withTimestamps:t.withTimestamps}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getLikedArtists})).json()}async getDislikedArtists(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/dislikes/artists"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({"sort-by":t.sortBy,"sort-order":t.sortOrder}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getDislikedArtists})).json()}async getLikedPlaylists(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers,i=await this.httpClient.get("users/".concat(a,"/likes/playlists"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams({withoutInvocationInfo:!1,...t}),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({page:t.page,pageSize:t.pageSize,"sort-by":t.sortBy,"sort-order":t.sortOrder,metaType:t.metaType,withTracks:t.withTracks}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getLikedPlaylists}),c=await i.json();return{likedPlaylists:c.result,pager:c.pager}}async getPlaylistsKinds(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/playlists/list/kinds"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},searchParams:(0,o.f)({addPlaylistWithLikes:t.addPlaylistWithLikes}),retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getPlaylistsKinds})).json()}async createPlaylist(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.post("users/".concat(a,"/playlists/create"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.createPlaylist,searchParams:(0,o.f)({visibility:t.visibility,title:t.title,description:t.description})})).json()}async getPlaylistsByKinds(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.post("users/".concat(a,"/playlists"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({kinds:t.kinds,withLikesCount:t.withLikesCount,withTracks:t.withTracks}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getPlaylistsByKinds})).json()}async getCreatedPlaylists(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/playlists/list"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({page:t.page,pageSize:t.pageSize,"sort-by":t.sortBy,"sort-order":t.sortOrder,withLikesCount:t.withLikesCount}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getCreatedPlaylists})).json()}async getPlaylistWithRichTracks(t){var e;let a=t.userId,r=t.playlistKind,s=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/playlists/").concat(r),{prefixUrl:s,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({resumeStream:t.resumeStream,trackMetaType:t.trackMetaType,page:t.page,pageSize:t.pageSize,trackPlayCounts:t.trackPlayCounts,withSimilarsLikesCount:t.withSimilarsLikesCount,richTracks:!0}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getPlaylistWithRichTracks})).json()}async changePlaylistTitle(t){var e;let a=t.userId,r=t.playlistKind;return(await this.httpClient.post("users/".concat(a,"/playlists/").concat(r,"/name"),{prefixUrl:this.config.gateway.prefixUrl,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams()},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({value:t.title}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.changePlaylistTitle})).json()}async deletePlaylist(t){var e;let a=t.userId,r=t.playlistKind;return(await this.httpClient.post("users/".concat(a,"/playlists/").concat(r,"/delete"),{prefixUrl:this.config.gateway.prefixUrl,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams()},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.deletePlaylist})).json()}async changePlaylistDescription(t){var e;let a=t.userId,r=t.playlistKind;return(await this.httpClient.post("users/".concat(a,"/playlists/").concat(r,"/description"),{prefixUrl:this.config.gateway.prefixUrl,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams()},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({value:t.description}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.changePlaylistDescription})).json()}async getPlaylistWithTracksIds(t){var e;let a=t.userId,r=t.playlistKind,s=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/playlists/").concat(r),{prefixUrl:s,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({resumeStream:t.resumeStream,trackMetaType:t.trackMetaType,page:t.page,pageSize:t.pageSize,trackPlayCounts:t.trackPlayCounts,withSimilarsLikesCount:t.withSimilarsLikesCount,richTracks:!1}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getPlaylistWithTracksIds})).json()}async likeTrack(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,c=this.config.gateway.headers,n=await this.httpClient.post("users/".concat(r,"/likes/tracks/add"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({"track-id":a}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.likeTrack}),h=await n.json();return(null==h?void 0:h.revision)?s.B.OK:s.B.ERROR}async unlikeTrack(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers,c=await this.httpClient.post("users/".concat(r,"/likes/tracks/").concat(a,"/remove"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.unlikeTrack}),n=await c.json();return(null==n?void 0:n.revision)?s.B.OK:s.B.ERROR}async dislikeTrack(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,c=this.config.gateway.headers,n=await this.httpClient.post("users/".concat(r,"/dislikes/tracks/add"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({"track-id":a}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.dislikeTrack}),h=await n.json();return(null==h?void 0:h.revision)?s.B.OK:s.B.ERROR}async undislikeTrack(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers,c=await this.httpClient.post("users/".concat(r,"/dislikes/tracks/").concat(a,"/remove"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.undislikeTrack}),n=await c.json();return(null==n?void 0:n.revision)?s.B.OK:s.B.ERROR}async likeArtist(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,c=this.config.gateway.headers,n=await this.httpClient.post("users/".concat(r,"/likes/artists/add"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({"artist-id":a}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.likeArtist});return await n.json()===s.B.OK?s.B.OK:s.B.ERROR}async unlikeArtist(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers,c=await this.httpClient.post("users/".concat(r,"/likes/artists/").concat(a,"/remove"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.unlikeArtist});return await c.json()===s.B.OK?s.B.OK:s.B.ERROR}async dislikeArtist(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,c=this.config.gateway.headers,n=await this.httpClient.post("users/".concat(r,"/dislikes/artists/add"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({"artist-id":a}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.dislikeArtist});return await n.json()===s.B.OK?s.B.OK:s.B.ERROR}async undislikeArtist(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers,c=await this.httpClient.post("users/".concat(r,"/dislikes/artists/").concat(a,"/remove"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.undislikeArtist});return await c.json()===s.B.OK?s.B.OK:s.B.ERROR}async likeAlbum(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,c=this.config.gateway.headers,n=await this.httpClient.post("users/".concat(r,"/likes/albums/add"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({"album-id":a}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.likeAlbum});return await n.json()===s.B.OK?s.B.OK:s.B.ERROR}async unlikeAlbum(t){var e;let a=t.entityId,r=t.userId,i=this.config.gateway.prefixUrl,o=this.config.gateway.headers,c=await this.httpClient.post("users/".concat(r,"/likes/albums/").concat(a,"/remove"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...o},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.unlikeAlbum});return await c.json()===s.B.OK?s.B.OK:s.B.ERROR}async likePlaylist(t){var e;let{userId:a,ownerId:r,kindId:i}=t,{prefixUrl:c,headers:n}=this.config.gateway,h=await this.httpClient.post("users/".concat(a,"/likes/playlists/add"),{prefixUrl:c,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...n},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({"owner-uid":r,kind:i}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.likePlaylist});return await h.json()===s.B.OK?s.B.OK:s.B.ERROR}async unlikePlaylist(t){var e;let a=t.userId,r=t.ownerId,i=t.kindId,o=this.config.gateway.prefixUrl,c=this.config.gateway.headers,n=await this.httpClient.post("users/".concat(a,"/likes/playlists/").concat(r,"-").concat(i,"/remove"),{prefixUrl:o,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.unlikePlaylist});return await n.json()===s.B.OK?s.B.OK:s.B.ERROR}async presaveAlbum(t){var e;let{userId:a,albumId:r,likeAfterRelease:s}=t,c=this.config.gateway.prefixUrl,n=this.config.gateway.headers,h=await this.httpClient.post("users/".concat(a,"/presaves/add"),{prefixUrl:c,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...n},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.presaveAlbum,searchParams:(0,o.f)({albumId:r,likeAfterRelease:s})});return await h.json()===i.Z.OK?i.Z.OK:i.Z.ERROR}async removePresaveAlbum(t){var e;let{userId:a,albumId:r}=t,s=this.config.gateway.prefixUrl,c=this.config.gateway.headers,n=await this.httpClient.post("users/".concat(a,"/presaves/remove"),{prefixUrl:s,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.removePresaveAlbum,searchParams:(0,o.f)({albumId:r})});return await n.json()===i.Z.OK?i.Z.OK:i.Z.ERROR}async getPresaves(t){var e;let{userId:a,includeReleased:r,includeUpcoming:s}=t,i=this.config.gateway.prefixUrl,c=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/presaves"),{prefixUrl:i,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...c},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({includeReleased:r,includeUpcoming:s}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getPresaves})).json()}async getSearchHistory(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/search-history"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({clientSearchContext:t.clientSearchContext,contentType:t.contentType,supportedTypes:t.supportedTypes}),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getSearchHistory})).json()}async clearSearchHistory(t){var e;let a=t.userId,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/search-history/clear"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.clearSearchHistory})).json()}async changePlaylistRelative(t){let{userId:e,playlistKind:a}=t,r=this.config.gateway.prefixUrl,s=this.config.gateway.headers;return(await this.httpClient.post("users/".concat(e,"/playlists/").concat(a,"/change-relative"),{prefixUrl:r,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...s},retry:this.getRetryPolicyConfig(),searchParams:(0,o.f)({diff:t.diff,revision:t.revision})})).json()}async uploadPlaylistCover(t){var e;let{userId:a,playlistKind:r}=t,s=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.post("users/".concat(a,"/playlists/").concat(r,"/cover/upload"),{prefixUrl:s,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),body:t.formData,timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.uploadPlaylistCover})).json()}async getPlaylistTrailer(t){var e;let{userId:a,playlistKind:r}=t,s=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.get("users/".concat(a,"/playlists/").concat(r,"/trailer"),{prefixUrl:s,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.getPlaylistTrailer})).json()}async togglePlaylistVisibility(t){var e;let a=t.userId,r=t.playlistKind,s=this.config.gateway.prefixUrl,i=this.config.gateway.headers;return(await this.httpClient.post("users/".concat(a,"/playlists/").concat(r,"/visibility"),{prefixUrl:s,headers:{...this.createRequestHeadersFromParams(t),...this.createTvmHeadersFromParams({params:t,target:this.config.params.tvmTarget}),...this.createUserTicketHeaderFromParams(),...i},retry:this.getRetryPolicyConfig(),timeout:null===(e=this.config.timeouts)||void 0===e?void 0:e.createPlaylist,searchParams:(0,o.f)({value:t.visibility})})).json()}constructor(t,e){e.aggregatedIdUrlScheme=["".concat(e.gateway.prefixUrl,"/users/[userId]/likes/albums/page"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/artists/page"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/playlists"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/list"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/create"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/delete"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/[playlistKind]"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/[playlistKind]/change-relative"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/[playlistKind]/name"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/[playlistKind]/description"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/[playlistKind]/cover/upload"),"".concat(e.gateway.prefixUrl,"/users/[userId]/playlists/[playlistKind]/trailer"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/tracks/add"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/tracks/[entityId]/remove"),"".concat(e.gateway.prefixUrl,"/users/[userId]/dislikes/tracks/add"),"".concat(e.gateway.prefixUrl,"/users/[userId]/dislikes/tracks/[entityId]/remove"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/artists/add"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/artists/[entityId]/remove"),"".concat(e.gateway.prefixUrl,"/users/[userId]/dislikes/artists/add"),"".concat(e.gateway.prefixUrl,"/users/[userId]/dislikes/artists/[entityId]/remove"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/albums/add"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/albums/[entityId]/remove"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/playlists/add"),"".concat(e.gateway.prefixUrl,"/users/[userId]/likes/playlists/[ownerId]-[kindId]/remove"),"".concat(e.gateway.prefixUrl,"/users/[userId]/presaves/add"),"".concat(e.gateway.prefixUrl,"/users/[userId]/presaves/remove"),"".concat(e.gateway.prefixUrl,"/users/[userId]/presaves"),"".concat(e.gateway.prefixUrl,"/users/[userId]/search-history"),"".concat(e.gateway.prefixUrl,"/users/[userId]/search-history/clear")],super(t,e),(0,r._)(this,"httpClient",void 0),(0,r._)(this,"config",void 0),this.httpClient=t,this.config=e}}},6408:function(t,e,a){a.d(e,{c:function(){return r}});function r(t){let e={};return Object.getOwnPropertyNames(t).filter(e=>void 0!==t[e]&&null!==t[e]).map(a=>{e[a]=t[a]}),e}},3754:function(t,e,a){a.d(e,{f:function(){return r}});let r=t=>{let e={};return Object.getOwnPropertyNames(t).filter(e=>void 0!==t[e]&&null!==t[e]).map(a=>{e[a]=String(t[a])}),new URLSearchParams(e)}}}]);