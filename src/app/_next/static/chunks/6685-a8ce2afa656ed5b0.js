(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6685],{76685:function(t,e,i){"use strict";i.d(e,{IT:function(){return c.ArtistCard},xG:function(){return d.ArtistContextMenu},o9:function(){return u},v2:function(){return a.useArtistDisclaimer}});var n=i(74717),l=i(98639),r=i(76873);(0,l.cache)(async t=>{try{let{container:e,backendHostTld:i,serverDetectedLocale:l,host:a,fullUrl:s,requestUrl:o}=await (0,r.rbP)(),u=e.get(r.na2),c=await u.getBriefInfo({artistId:t});return"not-found"===c.error&&(0,n.notFound)(),{artist:c,backendHostTld:i,serverDetectedLocale:l,host:a,fullUrl:s,requestUrl:o}}catch(t){return{artist:void 0,backendHostTld:"",serverDetectedLocale:"",host:null,fullUrl:null,requestUrl:null}}});var a=i(66975),s=i(42288),o=i(33589);let u=s.V5.model("ArtistMeta",{artist:o.Go,lastMonthListeners:s.V5.maybe(s.V5.number)});var c=i(99654),d=i(54864)},66975:function(t,e,i){"use strict";i.d(e,{useArtistDisclaimer:function(){return a}});var n=i(98639),l=i(3429),r=i(76873);let a=t=>{let{artist:e,callback:i,shouldHistoryBack:a}=t,{disclaimer:s,modals:{disclaimerModal:o}}=(0,r.oR4)(),u=(0,n.useRef)(String((0,l.Z)())),c=(0,n.useRef)(!1),d=(0,r.uK4)().get(r.ceh);return(0,n.useEffect)(()=>{s.isUnsafeDisclaimerConfirmed&&s.id===u.current&&!c.current&&(null==i||i(),c.current=!0)},[i,s.id,s.isUnsafeDisclaimerConfirmed]),(0,n.useCallback)(async t=>{let n=d.get(r.BUb.ExEx);if((null==e?void 0:e.isUnsafeLegal)&&(null==n?void 0:n.includes("".concat(r.coP.ARTIST,"_").concat(e.id)))){null==i||i();return}if((null==e?void 0:e.isLegalRejected)||(null==e?void 0:e.isUnsafeLegal)){null==t||t.preventDefault(),await s.getArtistDisclaimer({artistId:e.id}),e.isUnsafeLegal&&s.setType(r.Gq.UNSAFE),s.setId(u.current),s.setEntityId(e.id),s.setEntityType(r.coP.ARTIST),s.setShouldHistoryBack(!!a),c.current=!1,o.open();return}null==t||t.preventDefault(),null==i||i()},[null==e?void 0:e.id,null==e?void 0:e.isLegalRejected,null==e?void 0:e.isUnsafeLegal,i,s,o,d,a])}},99654:function(t,e,i){"use strict";i.d(e,{ArtistCard:function(){return B}});var n=i(9753),l=i(60836),r=i(9544),a=i(98639),s=i(80542),o=i(79452),u=i(23881),c=i(84338),d=i(27491),v=i(28852),A=i(12404),C=i(2570),m=i(33589),x=i(76873),k=i(3084),f=i(66975),_=i(54864),p=i(62914),b=i.n(p);let B=(0,r.Pi)(t=>{let{artist:e,className:i,children:r,contentLinesCount:p}=t,{ref:B,intersectionPropertyId:h}=(0,x.VfV)(),{trailer:T,adState:y}=(0,x.oR4)(),{notify:g}=(0,x.d$W)(),{from:I,utmLink:j}=(0,x.MhG)({contextId:e.id,contextType:c.Ak.Artist}),{formatMessage:S}=(0,s.Z)(),[L,P]=(0,a.useState)(!1),[N,R]=(0,a.useState)(!1),[M,U]=(0,a.useState)(!1),{sendLikeSearchFeedback:D,sendNavigateSearchFeedback:E,sendPlaySearchFeedback:w}=(0,x.sAF)(),z=(0,x.zxW)(),G=(0,m.SB)(e),O=(0,m.BV)(e),{id:V,name:W,coverUri:q,isLiked:F}=e,K=(0,x.s0h)(e.url),Z=(0,x.s0h)(e.url,!0),[H,$]=(0,a.useState)(!1),J=(0,x.FTC)(),X=(0,a.useCallback)(t=>{if(t.stopPropagation(),y.isAdActive){t.preventDefault(),g((0,n.jsx)(k.vd,{}),{containerId:x.W$x.INFO});return}T.openArtistTrailer(e.id),J(o.OB.Artist,e.id)},[e.id,J,T,y.isAdActive,g]),Q=(0,a.useMemo)(()=>{let t=S({id:"entity-names.artist-name"},{artistName:W}),e=F?S({id:"entity-names.has-your-like"}):"";return"".concat(t," ").concat(e)},[W,F,S]),{isPlaying:Y,togglePlay:tt}=(0,x.qmq)({playContextParams:{contextData:{type:c.Ak.Artist,meta:{id:Number(V)},from:I,utmLink:j},loadContextMeta:!0}}),te=(0,f.useArtistDisclaimer)({artist:e,callback:K}),ti=(0,f.useArtistDisclaimer)({artist:e,callback:Z}),tn=(0,f.useArtistDisclaimer)({artist:e,callback:tt}),tl=(0,m.ik)(ti,te),tr=(0,a.useCallback)(t=>{null==E||E(),z({to:o.qU.ArtistScreen}),tl(t)},[E,z,tl]),ta=(0,a.useCallback)(t=>{tr(t)},[tr]),ts=(0,a.useCallback)(()=>{L||Y||(P(!0),null==w||w()),tn()},[Y,L,w,tn]),to=(0,a.useCallback)(()=>{N||F||(R(!0),null==D||D()),G()},[F,G,N,D]),tu=(0,a.useCallback)(t=>{t.preventDefault(),t.stopPropagation()},[]),tc=(0,a.useCallback)(()=>{U(!M),$(!M)},[M]),td=(0,a.useMemo)(()=>(0,n.jsx)(_.ArtistContextMenu,{artist:e,onOpenChange:tc,open:M,onClick:tu,className:(0,l.W)(b().menuButton,b().control),size:"s",icon:(0,n.jsx)(v.Icon,{size:"xxs",variant:"more"})},e.getKey("ArtistContextMenu")),[e,tu,tc,M]),tv=(0,a.useMemo)(()=>{var t;if(null==e?void 0:null===(t=e.trailer)||void 0===t?void 0:t.canShow)return(0,n.jsx)(k.xf,{children:(0,n.jsx)(k.eP,{className:(0,l.W)(b().trailerButton,b().control),radius:"round",size:"s",iconSize:"xxs",onClick:X},e.getKey("TrailerButton"))})},[e,X]),tA=(0,a.useMemo)(()=>{if(e.isAvailable)return(0,n.jsx)(d.kk,{isVisible:M||H,className:b().controls,radius:"round",playControl:(0,n.jsx)(k.JM,{buttonVariant:"default",withHover:!1,className:(0,l.W)(b().playButton,b().control),iconSize:"xl",variant:"filled",onClick:ts,isPlaying:Y,disabled:!e.isAvailableForPlaying},e.getKey("PlayButton")),likeControl:(0,n.jsx)(k.dJ,{className:(0,l.W)(b().likeButton,b().control),isLiked:F,onClick:to,variant:"default",size:"s",iconSize:"xxs"},e.getKey("LikeButton")),menuControl:td,pinControl:(0,n.jsx)(k.RT,{onClick:O,isPinned:e.isPinned,className:(0,l.W)(b().pinButton,b().control),withRipple:!1},e.getKey("PinButton")),trailerControl:tv})},[e,M,H,ts,Y,F,to,td,O,tv]),tC=(0,a.useMemo)(()=>(0,n.jsx)(A.Paper,{className:b().cover,radius:"round",withShadow:!0,...(0,u.BA)(u.bG.artist.ARTIST_CARD),children:(0,n.jsxs)("div",{className:b().coverBlock,onClick:ta,children:[(0,n.jsx)(k.BE,{className:b().image,src:q,size:200,fit:"cover",alt:Q,withAvatarReplace:!0,isAvailable:e.isAvailable,"aria-hidden":!0}),tA]})}),[ta,q,Q,e.isAvailable,tA]);return(0,n.jsx)(d.m7,{ref:B,className:(0,l.W)(b().root,i),textPosition:"center","aria-label":Q,title:(0,n.jsx)(C.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,n.jsx)(k.rU,{className:b().titleLink,href:e.url,"aria-label":Q,onClick:tr,...(0,u.BA)(u.bG.artist.ARTIST_TITLE),children:W})}),srTitle:(0,n.jsx)(k.rU,{href:e.url,onClick:tr,children:Q}),"data-intersection-property-id":h,contentLinesCount:p,view:tC,...(0,u.BA)(u.bG.artist.ARTIST_ITEM),children:r})})},54864:function(t,e,i){"use strict";i.d(e,{ArtistContextMenu:function(){return C}});var n=i(9753),l=i(9544),r=i(98639),a=i(80542),s=i(79452),o=i(23881),u=i(84338),c=i(385),d=i(33589),v=i(76873),A=i(3084);let C=(0,l.Pi)(t=>{var e,i,l;let{artist:C,onOpenChange:m,open:x,...k}=t,{settings:f,trailer:_,adState:p}=(0,v.oR4)(),{notify:b}=(0,v.d$W)(),B=(0,d.BV)(C),h=(0,d.SB)(C),T=(0,v.FTC)(),y="".concat(v.aUg.ARTIST,"-").concat(null==C?void 0:C.id),g=f.layout===v.t8m.Mobile,{formatMessage:I}=(0,a.Z)(),{utmLink:j}=(0,v.MhG)({blockId:v.aUg.ARTIST,contextType:u.Ak.Artist,contextId:null==C?void 0:C.id}),{href:S}=(0,v.qKB)(null!==(i=null==C?void 0:C.url)&&void 0!==i?i:""),{isPlaying:L,togglePlay:P}=(0,v.QhE)({seeds:null!==(l=null==C?void 0:C.seeds)&&void 0!==l?l:[],pageIdForFrom:v.Rhz.RADIO,blockIdForFrom:y}),N=(0,r.useCallback)(()=>{L||P()},[L,P]),R=(0,r.useCallback)(()=>{if(p.isAdActive){b((0,n.jsx)(A.vd,{}),{containerId:v.W$x.INFO});return}(null==C?void 0:C.id)&&(_.setUtmLink(j),_.openArtistTrailer(C.id),T(s.OB.Artist,C.id))},[null==C?void 0:C.id,T,_,j,p.isAdActive,b]);return(0,v.ZP4)(x),(0,n.jsxs)(c.v2,{isMobile:g,offsetOptions:10,open:x,onOpenChange:m,ariaLabel:I({id:"interface-actions.context-menu"}),containerProps:(0,o.BA)(o.bG.artist.ARTIST_CONTEXT_MENU),...k,children:[!g&&(0,n.jsx)(A.Zd,{onClick:B,isPinned:null==C?void 0:C.isPinned}),(0,n.jsx)(A.xZ,{onClick:h,isLiked:null==C?void 0:C.isLiked,disabled:!(null==C?void 0:C.isAvailable)}),(null==C?void 0:null===(e=C.trailer)||void 0===e?void 0:e.canShow)&&(0,n.jsx)(A.NB,{onClick:R}),(0,n.jsx)(A.GQ,{onClick:N,disabled:!(null==C?void 0:C.isAvailable),variant:v.xIL.ARTIST}),(0,n.jsx)(A.zq,{disabled:!C,shareLink:S,entityVariant:"artist",entityTitle:null==C?void 0:C.name})]})})},62914:function(t){t.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",trailerButton:"ArtistCard_trailerButton__a2NHm",control:"ArtistCard_control___qv5j"}}}]);