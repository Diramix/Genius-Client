(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3750],{74949:function(t,e,i){Promise.resolve().then(i.bind(i,86978))},86978:function(t,e,i){"use strict";i.r(e);var n=i(9753),l=i(74717),a=i(98639),r=i(78601);e.default=()=>{let t=(0,l.useSearchParams)().get("albumId");return t||(0,l.notFound)(),(0,n.jsx)(a.Suspense,{children:(0,n.jsx)(r.Xb,{albumId:t})})}},4491:function(t,e,i){"use strict";i.d(e,{IT:function(){return r.ArtistCard},xG:function(){return o.ArtistContextMenu},o9:function(){return a},v2:function(){return s.useArtistDisclaimer}});var n=i(42288),l=i(33589);let a=n.V5.model("ArtistMeta",{artist:l.Go,lastMonthListeners:n.V5.maybe(n.V5.number)});var r=i(99654),o=i(54864),s=i(66975)},66975:function(t,e,i){"use strict";i.d(e,{useArtistDisclaimer:function(){return r}});var n=i(98639),l=i(3429),a=i(34152);let r=t=>{let{artist:e,callback:i,shouldHistoryBack:r}=t,{disclaimer:o,modals:{disclaimerModal:s}}=(0,a.oR4)(),u=(0,n.useRef)(String((0,l.Z)())),d=(0,n.useRef)(!1),c=(0,a.uK4)().get(a.ceh);return(0,n.useEffect)(()=>{o.isUnsafeDisclaimerConfirmed&&o.id===u.current&&!d.current&&(null==i||i(),d.current=!0)},[i,o.id,o.isUnsafeDisclaimerConfirmed]),(0,n.useCallback)(async t=>{let n=c.get(a.BUb.ExEx);if((null==e?void 0:e.isUnsafeLegal)&&(null==n?void 0:n.includes("".concat(a.coP.ARTIST,"_").concat(e.id)))){null==i||i();return}if((null==e?void 0:e.isLegalRejected)||(null==e?void 0:e.isUnsafeLegal)){null==t||t.preventDefault(),await o.getArtistDisclaimer({artistId:e.id}),e.isUnsafeLegal&&o.setType(a.Gq.UNSAFE),o.setId(u.current),o.setEntityId(e.id),o.setEntityType(a.coP.ARTIST),o.setShouldHistoryBack(!!r),d.current=!1,s.open();return}null==t||t.preventDefault(),null==i||i()},[null==e?void 0:e.id,null==e?void 0:e.isLegalRejected,null==e?void 0:e.isUnsafeLegal,i,o,s,c,r])}},99654:function(t,e,i){"use strict";i.d(e,{ArtistCard:function(){return G}});var n=i(9753),l=i(60836),a=i(9544),r=i(98639),o=i(80542),s=i(18375),u=i(23881),d=i(84338),c=i(27491),m=i(28852),g=i(12404),v=i(2570),b=i(33589),p=i(34152),A=i(3084),h=i(66975),f=i(54864),E=i(62914),S=i.n(E);let G=(0,a.Pi)(t=>{let{artist:e,className:i,children:a,contentLinesCount:E}=t,{ref:G,intersectionPropertyId:C}=(0,p.VfV)(),{trailer:x}=(0,p.oR4)(),{from:_}=(0,p.MhG)(),{formatMessage:N}=(0,o.Z)(),[y,k]=(0,r.useState)(!1),[I,T]=(0,r.useState)(!1),[D,j]=(0,r.useState)(!1),{sendLikeSearchFeedback:V,sendNavigateSearchFeedback:L,sendPlaySearchFeedback:R}=(0,p.sAF)(),P=(0,p.zxW)(),W=(0,b.SB)(e),B=(0,b.BV)(e),{id:O,name:M,coverUri:w,isLiked:U}=e,z=(0,p.s0h)(e.url),J=(0,p.s0h)(e.url,!0),[K,F]=(0,r.useState)(!1),Z=(0,p.FTC)(),q=(0,r.useCallback)(t=>{t.stopPropagation(),x.openArtistTrailer(e.id),Z(s.OB.Artist,e.id)},[e.id,Z,x]),X=(0,r.useMemo)(()=>{let t=N({id:"entity-names.artist-name"},{artistName:M}),e=U?N({id:"entity-names.has-your-like"}):"";return"".concat(t," ").concat(e)},[M,U,N]),{isPlaying:H,togglePlay:Q}=(0,p.qmq)({playContextParams:{contextData:{type:d.Ak.Artist,meta:{id:Number(O)},from:_},loadContextMeta:!0}}),Y=(0,h.useArtistDisclaimer)({artist:e,callback:z}),$=(0,h.useArtistDisclaimer)({artist:e,callback:J}),tt=(0,h.useArtistDisclaimer)({artist:e,callback:Q}),te=(0,b.ik)($,Y),ti=(0,r.useCallback)(t=>{null==L||L(),P({to:s.qU.ArtistScreen}),te(t)},[L,P,te]),tn=(0,r.useCallback)(t=>{ti(t)},[ti]),tl=(0,r.useCallback)(()=>{y||H||(k(!0),null==R||R()),tt()},[H,y,R,tt]),ta=(0,r.useCallback)(()=>{I||U||(T(!0),null==V||V()),W()},[U,W,I,V]),tr=(0,r.useCallback)(t=>{t.preventDefault(),t.stopPropagation()},[]),to=(0,r.useCallback)(()=>{j(!D),F(!D)},[D]),ts=(0,r.useMemo)(()=>(0,n.jsx)(f.ArtistContextMenu,{artist:e,onOpenChange:to,open:D,onClick:tr,className:(0,l.W)(S().menuButton,S().control),size:"s",icon:(0,n.jsx)(m.J,{size:"xxs",variant:"more"})},e.getKey("ArtistContextMenu")),[e,tr,to,D]),tu=(0,r.useMemo)(()=>{var t;if(null==e?void 0:null===(t=e.trailer)||void 0===t?void 0:t.canShow)return(0,n.jsx)(A.xf,{children:(0,n.jsx)(A.eP,{className:(0,l.W)(S().trailerButton,S().control),radius:"round",size:"s",iconSize:"xxs",onClick:q},e.getKey("TrailerButton"))})},[e,q]),td=(0,r.useMemo)(()=>{if(e.isAvailable)return(0,n.jsx)(c.kk,{isVisible:D||K,className:S().controls,radius:"round",playControl:(0,n.jsx)(A.JM,{buttonVariant:"default",withHover:!1,className:(0,l.W)(S().playButton,S().control),iconSize:"xl",variant:"filled",onClick:tl,isPlaying:H,disabled:!e.isAvailableForPlaying},e.getKey("PlayButton")),likeControl:(0,n.jsx)(A.dJ,{className:(0,l.W)(S().likeButton,S().control),isLiked:U,onClick:ta,variant:"default",size:"s",iconSize:"xxs"},e.getKey("LikeButton")),menuControl:ts,pinControl:(0,n.jsx)(A.RT,{onClick:B,isPinned:e.isPinned,className:(0,l.W)(S().pinButton,S().control),withRipple:!1},e.getKey("PinButton")),trailerControl:tu})},[e,D,K,tl,H,U,ta,ts,B,tu]),tc=(0,r.useMemo)(()=>(0,n.jsx)(g.Paper,{className:S().cover,radius:"round",withShadow:!0,...(0,u.BA)(u.bG.artist.ARTIST_CARD),children:(0,n.jsxs)("div",{className:S().coverBlock,onClick:tn,children:[(0,n.jsx)(A.BE,{className:S().image,src:w,size:200,fit:"cover",alt:X,withAvatarReplace:!0,isAvailable:e.isAvailable,"aria-hidden":!0}),td]})}),[tn,w,X,e.isAvailable,td]);return(0,n.jsx)(c.m7,{ref:G,className:(0,l.W)(S().root,i),textPosition:"center","aria-label":X,title:(0,n.jsx)(v.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,n.jsx)(A.rU,{className:S().titleLink,href:e.url,"aria-label":X,onClick:ti,...(0,u.BA)(u.bG.artist.ARTIST_TITLE),children:M})}),srTitle:(0,n.jsx)(A.rU,{href:e.url,onClick:ti,children:X}),"data-intersection-property-id":C,contentLinesCount:E,view:tc,...(0,u.BA)(u.bG.artist.ARTIST_ITEM),children:a})})},54864:function(t,e,i){"use strict";i.d(e,{ArtistContextMenu:function(){return m}});var n=i(9753),l=i(9544),a=i(98639),r=i(80542),o=i(18375),s=i(385),u=i(33589),d=i(34152),c=i(3084);let m=(0,l.Pi)(t=>{var e,i,l;let{artist:m,onOpenChange:g,open:v,...b}=t,{settings:p,trailer:A}=(0,d.oR4)(),h=(0,u.BV)(m),f=(0,u.SB)(m),E=(0,d.FTC)(),S="".concat(d.aUg.ARTIST,"-").concat(null==m?void 0:m.id),G=p.layout===d.t8m.Mobile,{formatMessage:C}=(0,r.Z)(),{href:x}=(0,d.qKB)(null!==(i=null==m?void 0:m.url)&&void 0!==i?i:""),{isPlaying:_,togglePlay:N}=(0,d.QhE)({seeds:null!==(l=null==m?void 0:m.seeds)&&void 0!==l?l:[],pageIdForFrom:d.Rhz.RADIO,blockIdForFrom:S}),y=(0,a.useCallback)(()=>{_||N()},[_,N]),k=(0,a.useCallback)(()=>{(null==m?void 0:m.id)&&(A.openArtistTrailer(m.id),E(o.OB.Artist,m.id))},[null==m?void 0:m.id,E,A]);return(0,d.ZP4)(v),(0,n.jsxs)(s.v2,{isMobile:G,offsetOptions:10,open:v,onOpenChange:g,ariaLabel:C({id:"interface-actions.context-menu"}),...b,children:[!G&&(0,n.jsx)(c.Zd,{onClick:h,isPinned:null==m?void 0:m.isPinned}),(0,n.jsx)(c.xZ,{onClick:f,isLiked:null==m?void 0:m.isLiked,disabled:!(null==m?void 0:m.isAvailable)}),(null==m?void 0:null===(e=m.trailer)||void 0===e?void 0:e.canShow)&&(0,n.jsx)(c.NB,{onClick:k}),(0,n.jsx)(c.GQ,{onClick:y,disabled:!(null==m?void 0:m.isAvailable),variant:"artist"}),(0,n.jsx)(c.zq,{disabled:!m,shareLink:x,entityVariant:"artist",entityTitle:null==m?void 0:m.name})]})})},10064:function(t,e,i){"use strict";i.d(e,{J:function(){return o.DonationButton},Ew:function(){return a},fv:function(){return r}});var n=i(42288),l=i(33589);let a=n.V5.model("Donation",{url:n.V5.string,artist:l.Go,goal:n.V5.maybe(n.V5.string)}),r=t=>{let{url:e,artist:i,goal:a}=t;return(0,n.pj)({url:e,goal:a,artist:(0,l.tR)({artist:i})})};var o=i(63880)},63880:function(t,e,i){"use strict";i.d(e,{DonationButton:function(){return E}});var n=i(9753),l=i(60836),a=i(9544),r=i(98639),o=i(80542),s=i(31014),u=i(39513),d=i(385),c=i(34152),m=i(86939),g=i(12404),v=i(2570),b=i(69590),p=i.n(b);let A=(0,a.Pi)(t=>{let{donation:e}=t,i=(0,c.s0h)(e.url);return(0,n.jsxs)(d.sN,{className:p().root,isBlock:!0,onClick:i,children:[(0,n.jsx)(g.Paper,{radius:"round",className:p().cover,children:(0,n.jsx)(m.Image,{withAvatarReplace:!0,src:e.artist.coverUri,size:100,fit:"contain",className:p().image})}),(0,n.jsx)(v.Caption,{variant:"span",size:"m",weight:"medium",lineClamp:1,children:e.artist.name})]},e.url)});var h=i(35131),f=i.n(h);let E=(0,a.Pi)(t=>{let{donations:e,shouldShowModal:i,className:a}=t,{settings:m}=(0,c.oR4)(),[g,v]=(0,r.useState)(!1),b=m.layout===c.t8m.Mobile,{formatMessage:p}=(0,o.Z)(),[h]=e,E=(0,c.s0h)(null==h?void 0:h.url),S=(0,r.useCallback)(()=>{i||E()},[E,i]),G=(0,r.useMemo)(()=>(0,n.jsx)(u.z,{size:"s",variant:"default",radius:"xxxl",color:"accent",withRipple:i,className:(0,l.W)(f().root,a),onClick:S,children:(0,n.jsx)(s.Z,{id:"donation.button-text"})}),[a,S,i]);return i?(0,n.jsx)(d.v2,{size:"s",radius:"xxxl",color:"accent",label:p({id:"donation.button-text"}),className:(0,l.W)(f().root,a),onClick:S,onOpenChange:v,open:g,isMobile:b,placement:"bottom",offsetOptions:8,listClassName:f().popover,children:e.map(t=>(0,n.jsx)(A,{donation:t},t.url))}):G})},36084:function(t,e,i){"use strict";i.d(e,{I7:function(){return b},b4:function(){return o},at:function(){return p}});var n=i(9753),l=i(98639),a=i.t(l,2),r=i(3084);let o=t=>{let{children:e,title:i,className:a}=t,{setTitleElement:o,setTitle:s}=(0,l.useContext)(r.pI),u=(0,l.useRef)(null);return(0,l.useEffect)(()=>{(null==u?void 0:u.current)&&o(u),i&&s(i)},[u,i,o,s]),(0,l.useEffect)(()=>()=>{s("")},[s]),(0,n.jsx)("div",{ref:u,className:a,children:e})};var s=i(9544),u={810:t=>{t.exports=a}},d={},c={};(()=>{Object.defineProperty(c,"__esModule",{value:!0}),c.useScroll=void 0;let t=function t(e){var i=d[e];if(void 0!==i)return i.exports;var n=d[e]={exports:{}};return u[e](n,n.exports,t),n.exports}(810);c.useScroll=e=>{(0,t.useEffect)(()=>{let t={capture:!0,passive:!0};return window.addEventListener("scroll",e,t),()=>{window.removeEventListener("scroll",e,t)}},[e])}})(),c.__esModule;var m=c.useScroll,g=i(34152);let v=t=>{let{element:e,scrollTop:i,isMobile:n}=t,l=.4*e.clientHeight;return i+(n?56:72)>=e.offsetTop+l},b=(0,s.Pi)(t=>{let{children:e,scrollElement:i,outerTitle:a="",headerElement:o,headerThreshold:s}=t,[u,d]=(0,l.useState)(a),[c,b]=(0,l.useState)(null),[p,A]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!1),{settings:E}=(0,g.oR4)(),S=E.layout===g.t8m.Mobile;(0,l.useLayoutEffect)(()=>{d(a)},[a]);let G=(0,l.useCallback)(()=>{if(!i)return;let t=null!=s?s:10,e=o?Number(o.offsetTop)-t:t;e<0&&(e=0),f(i.scrollTop>e),(null==c?void 0:c.current)&&A(v({element:null==c?void 0:c.current,scrollTop:i.scrollTop,isMobile:S}))},[i,s,o,c,S]);(0,l.useEffect)(()=>{i&&(null==i?void 0:i.scrollTop)!==0||f(!1)},[i,null==i?void 0:i.scrollTop]),m(G);let C=(0,l.useMemo)(()=>({title:u,setTitle:d,titleElement:c,scrollElement:i,setTitleElement:b,isScrolledTitle:p,isScrolling:h}),[u,p,c,i,h]);return(0,n.jsx)(r.pI.Provider,{value:C,children:e})});i(66414);let p=(t,e)=>((0,g.uK4)().get(g.Xt8),[(0,l.useMemo)(()=>{if(void 0!==e){let i=e-17;return{"--average-color-background":t,transform:"translateY(".concat(e>=17?0:i,"px)"),opacity:1}}return{}},[e,!1,t]),(0,l.useMemo)(()=>({"--average-color-background":t}),[t])])},55784:function(t,e,i){"use strict";i.d(e,{h:function(){return l.h},n:function(){return n.n}});var n=i(33861),l=i(34906)},78601:function(t,e,i){"use strict";i.d(e,{Xb:function(){return n.AlbumPage},Lf:function(){return k}});var n=i(93289);i(74488);var l=i(42288),a=i(10542),r=i(40193),o=i(82857),s=i(93490),u=i(10064),d=i(75191),c=i(40113),m=i(34152),g=i(395);let v=(t,e)=>t.map(t=>"".concat(t,":").concat(e));var b=i(44023);let p=t=>({type:c.lf.TEXT,data:t||null}),A=(t,e,i,n,l)=>({type:(null==i?void 0:i.type)||r.Vc.TRACK,id:t,data:i||null,loadingState:e,position:n,isBest:l}),h=t=>"".concat(t,"-text"),f=t=>String(t),E=(t,e,i,n)=>{t.forEach(t=>{var l,a,r,o,s;if(null===(l=t.albums)||void 0===l?void 0:l[0]){let l=i.get(f(t.id));void 0!==l&&(e[l]=A(t.id,m.Gui.RESOLVE,(0,b.Vt)(t),null===(r=t.albums[0])||void 0===r?void 0:null===(a=r.trackPosition)||void 0===a?void 0:a.index,null==n?void 0:n.includes(Number(t.id))));let u=i.get(h(t.id));void 0!==u&&(e[u]=p(null===(s=t.albums[0])||void 0===s?void 0:null===(o=s.trackPosition)||void 0===o?void 0:o.volume))}})},S=(t,e,i,n)=>{let l=0;t.volumes.forEach(a=>{t.volumes.length>1&&a[0]&&(e.push(p()),i.set(h(a[0].id),e.length-1)),a.forEach(t=>{e.push(A(t.id,m.Gui.IDLE)),i.set(f(t.id),e.length-1),n.set(f(t.id),l),l++})})},G=t=>(0,l.pj)({id:t.id,type:t.type,title:t.title,albums:t.albums.map(s.ym)}),C=(t,e,i,n)=>{t.forEach(t=>{let l=i.get(String(t));void 0!==l&&(e[l]=A(t,n))})},x=l.V5.model("AlbumDonations",{loadingState:l.V5.enumeration(Object.values(m.Gui)),items:l.V5.maybeNull(l.V5.array(u.Ew))}),_=l.V5.model("LabelItem",{id:l.V5.number,name:l.V5.string}),N=l.V5.model("RelatedAlbumsPage",{loadingState:l.V5.enumeration(Object.values(m.Gui)),items:l.V5.array(s.ug)}),y=l.V5.model("RelatedContent",{loadingState:l.V5.enumeration(Object.values(m.Gui)),items:l.V5.maybeNull(l.V5.array(o.fd))}),k=l.V5.compose(l.V5.model("AlbumPage",{id:l.V5.maybeNull(l.V5.number),meta:l.V5.maybeNull(s.ug),items:l.V5.array(o.JP),indexItems:l.V5.map(l.V5.number),trackIndexInContext:l.V5.map(l.V5.number),loadingState:l.V5.enumeration(Object.values(m.Gui)),errorStatusCode:l.V5.maybeNull(l.V5.number),deprecationTargetAlbumId:l.V5.maybeNull(l.V5.number),latestGenreAlbums:N,otherArtistAlbums:N,otherAlbumVersions:l.V5.array(s.ug),labels:l.V5.maybeNull(l.V5.array(_)),description:l.V5.maybe(l.V5.string),donations:x,relatedContent:y}),g.ie).views(t=>({get isNonMusicType(){var e;if(null===(e=t.meta)||void 0===e?void 0:e.type)return[r.VZ.PODCAST,r.VZ.AUDIOBOOK].includes(t.meta.type);return!1},get isOtherArtistAlbumsAvailable(){var i,n,l,o;return!!(!this.isNonMusicType&&(null===(n=t.meta)||void 0===n?void 0:null===(i=n.artists)||void 0===i?void 0:i.length)===1&&!(null===(o=t.meta)||void 0===o?void 0:null===(l=o.artists[0])||void 0===l?void 0:l.various))},get isLatestGenreAlbumsAvailable(){var s;return!!(!this.isNonMusicType&&(null===(s=t.meta)||void 0===s?void 0:s.genre))},get isNotFound(){return t.loadingState===m.Gui.REJECT&&t.errorStatusCode===a.CN.NOT_FOUND},get isRejected(){return t.loadingState===m.Gui.REJECT},get hasOtherAlbumVersions(){return!!(t.loadingState===m.Gui.IDLE||t.loadingState===m.Gui.PENDING||t.otherAlbumVersions&&t.otherAlbumVersions.length>0)},get hasLatestGenreAlbums(){return!!(t.latestGenreAlbums.loadingState===m.Gui.IDLE||t.latestGenreAlbums.loadingState===m.Gui.PENDING||t.latestGenreAlbums.items&&t.latestGenreAlbums.items.length>0)},get hasOtherArtistAlbums(){return!!(t.otherArtistAlbums.loadingState===m.Gui.IDLE||t.otherArtistAlbums.loadingState===m.Gui.PENDING||t.otherArtistAlbums.items&&t.otherArtistAlbums.items.length>0)},get isLoading(){return t.loadingState===m.Gui.IDLE||t.loadingState===m.Gui.PENDING},get isLoaded(){return t.loadingState===m.Gui.RESOLVE},get isLatestGenreAlbumsLoading(){return t.latestGenreAlbums.loadingState===m.Gui.IDLE||t.latestGenreAlbums.loadingState===m.Gui.PENDING},get isOtherArtistAlbumsLoading(){return t.otherArtistAlbums.loadingState===m.Gui.IDLE||t.otherArtistAlbums.loadingState===m.Gui.PENDING},get isRelatedContentLoading(){return t.relatedContent.loadingState===m.Gui.IDLE||t.relatedContent.loadingState===m.Gui.PENDING},get contextMeta(){var u,d,g,v,b,p,A,h,f,E;return{id:t.meta.id,title:null===(u=t.meta)||void 0===u?void 0:u.title,coverUri:null===(d=t.meta)||void 0===d?void 0:d.coverUri,type:null===(g=t.meta)||void 0===g?void 0:g.type,year:null===(v=t.meta)||void 0===v?void 0:v.year,version:null===(b=t.meta)||void 0===b?void 0:b.version,contentWarning:null===(p=t.meta)||void 0===p?void 0:p.contentWarning,genre:null===(A=t.meta)||void 0===A?void 0:A.genre,likesCount:null===(h=t.meta)||void 0===h?void 0:h.likesCount,averageColor:null===(f=t.meta)||void 0===f?void 0:f.averageColor,available:null===(E=t.meta)||void 0===E?void 0:E.isAvailable}},get lastEpisodes(){return t.items.filter(t=>t.type!==c.lf.TEXT).slice(0,5).map(t=>t)},get lastEpisodesTrackIds(){return this.lastEpisodes.map(t=>t.id)}})).actions(t=>{let e={getLatestGenreAlbums:(0,l.ls)(function*(e){let{topResource:i,modelActionsLogger:n}=(0,l.dU)(t);if(t.latestGenreAlbums.loadingState!==m.Gui.PENDING)try{t.latestGenreAlbums.loadingState=m.Gui.PENDING;let n=yield i.getTopByGenre(e);t.latestGenreAlbums.items=(0,l.pj)(n.albums.map(s.ym)),t.latestGenreAlbums.loadingState=m.Gui.RESOLVE}catch(e){n.error(e),t.latestGenreAlbums.loadingState=m.Gui.REJECT}}),getOtherArtistAlbums:(0,l.ls)(function*(e,i){let{artistsResource:n,modelActionsLogger:a}=(0,l.dU)(t);if(t.otherArtistAlbums.loadingState!==m.Gui.PENDING)try{if(!e.artistId){t.otherArtistAlbums.loadingState=m.Gui.REJECT;return}t.otherArtistAlbums.loadingState=m.Gui.PENDING;let a=yield n.getSafeDirectAlbums({...e,artistId:e.artistId});t.otherArtistAlbums.items=(0,l.pj)(a.albums.filter(t=>String(t.id)!==String(i)).map(s.ym)),t.otherArtistAlbums.loadingState=m.Gui.RESOLVE}catch(e){a.error(e),t.otherArtistAlbums.loadingState=m.Gui.REJECT}}),getTracks:(0,l.ls)(function*(e){let{trackIds:i}=e,{tracksResource:n,modelActionsLogger:a}=(0,l.dU)(t);try{var r;if(!(null===(r=t.meta)||void 0===r?void 0:r.id))return;C(i,t.items,t.indexItems,m.Gui.PENDING);let e=yield n.getTracksMeta({trackIds:v(i,t.meta.id),withProgress:!0});E(e,t.items,t.indexItems,t.meta.bestAlbumTracks)}catch(e){a.error(e),C(i,t.items,t.indexItems,m.Gui.REJECT)}}),getDonations:(0,l.ls)(function*(e){let{albumId:i}=e,{experiments:n}=(0,l.yj)(t),{donationResource:a,modelActionsLogger:r}=(0,l.dU)(t);if(n.checkExperiment(m.peG.WebNextAlbumDonateChooserButton,"on")&&t.donations.loadingState!==m.Gui.PENDING)try{t.donations.loadingState=m.Gui.PENDING;let{donations:e}=yield a.getAlbumDonations({albumId:i});e&&(t.donations.items=(0,l.pj)(e.map(u.fv))),t.donations.loadingState=m.Gui.RESOLVE}catch(e){r.error(e),t.donations.loadingState=m.Gui.REJECT}}),getData:(0,l.ls)(function*(i){let{albumId:n,resumeStream:o}=i,{albumResource:u,modelActionsLogger:c}=(0,l.dU)(t),{experiments:g,disclaimer:v}=(0,l.yj)(t),b=g.checkExperiment(m.peG.WebNextAlbumDisableVersions,"on"),p=g.checkExperiment(m.peG.WebNextAlbumDisableTracks,"on"),A=g.checkExperiment(m.peG.WebNextAlbumDisableLatestGenreAlbums,"on"),h=g.checkExperiment(m.peG.WebNextAlbumDisableOtherArtistAlbums,"on"),f=g.checkExperiment(m.peG.WebNextLegalRejectAlbum,"on");if(t.id=n,t.loadingState!==m.Gui.PENDING)try{var E,G,C,x;let i,c;t.loadingState=m.Gui.PENDING;let g=yield u.getAlbumWithTracksIds({albumId:n,resumeStream:o});if((null==g?void 0:g.error)==="not-found"){t.errorStatusCode=a.CN.NOT_FOUND,t.loadingState=m.Gui.REJECT,t.otherArtistAlbums.loadingState=m.Gui.REJECT,t.latestGenreAlbums.loadingState=m.Gui.REJECT;return}if(null===(E=g.deprecation)||void 0===E?void 0:E.targetAlbumId){t.deprecationTargetAlbumId=g.deprecation.targetAlbumId,t.loadingState=m.Gui.RESOLVE;return}(null!==(G=g.disclaimers)&&void 0!==G?G:[]).includes(r.em.MODAL)&&f&&(yield v.getAlbumDisclaimer({albumId:n}));let{sonataState:_}=(0,l.yj)(t);if(_.setUnloadedEntitiesData(g.volumes.flat().map(t=>(0,d.RN)(t.id))),t.meta=(0,s.ym)(g),t.labels=(0,l.pj)(g.labels),t.contentWarning=(0,l.pj)(g.contentWarning),t.description=(0,l.pj)(g.description),!b&&g.duplicates&&g.duplicates.length>0&&(t.otherAlbumVersions=(0,l.pj)(null===(C=g.duplicates)||void 0===C?void 0:C.map(s.ym))),!p){S(g,t.items,t.indexItems,t.trackIndexInContext);let i=[];for(let e=0;e<10;e++){let n=t.items[e];(null==n?void 0:n.type)===r.Vc.TRACK&&i.push(String(n.id))}yield e.getTracks({trackIds:i})}!A&&t.isLatestGenreAlbumsAvailable?i=e.getLatestGenreAlbums({category:r.mk.RECENT_ALBUMS,period:r.pH.WEEK,pageSize:8,genre:g.genre}):t.latestGenreAlbums.loadingState=m.Gui.RESOLVE,!h&&t.isOtherArtistAlbumsAvailable?c=e.getOtherArtistAlbums({artistId:String(null===(x=g.artists[0])||void 0===x?void 0:x.id),limit:8},n):t.otherArtistAlbums.loadingState=m.Gui.RESOLVE,yield Promise.allSettled([i,c]),t.loadingState!==m.Gui.IDLE&&(t.loadingState=m.Gui.RESOLVE)}catch(e){c.error(e),e instanceof a.du&&(e.statusCode===a.CN.NOT_FOUND||e.statusCode===a.CN.BAD_REQUEST)&&(t.errorStatusCode=a.CN.NOT_FOUND),t.loadingState!==m.Gui.IDLE&&(t.loadingState=m.Gui.REJECT,t.otherArtistAlbums.loadingState=m.Gui.REJECT,t.latestGenreAlbums.loadingState=m.Gui.REJECT)}}),loadLastEpisodes(){e.getTracks({trackIds:t.lastEpisodesTrackIds})},getRelatedContent:(0,l.ls)(function*(){let{albumResource:e,modelActionsLogger:i}=(0,l.dU)(t);if(t.relatedContent.loadingState!==m.Gui.PENDING)try{var n,a;if(!(null===(n=t.meta)||void 0===n?void 0:n.id))return;t.relatedContent.loadingState=m.Gui.PENDING;let i=yield e.getRelatedContent({albumId:t.meta.id});t.relatedContent.items=(0,l.pj)(null===(a=i.blocks)||void 0===a?void 0:a.map(G)),t.relatedContent.loadingState=m.Gui.RESOLVE}catch(e){i.error(e),t.relatedContent.loadingState=m.Gui.REJECT}}),reset(){let{sonataState:e}=(0,l.yj)(t);e.resetUnloadedEntitiesData(),t.id=null,t.meta=null,t.errorStatusCode=null,t.deprecationTargetAlbumId=null,t.items=(0,l.pj)([]),t.indexItems.clear(),t.trackIndexInContext.clear(),t.loadingState=m.Gui.IDLE,t.donations.loadingState=m.Gui.IDLE,t.donations.items=null,t.latestGenreAlbums.loadingState=m.Gui.IDLE,t.latestGenreAlbums.items=(0,l.pj)([]),t.otherArtistAlbums.loadingState=m.Gui.IDLE,t.otherArtistAlbums.items=(0,l.pj)([]),t.otherAlbumVersions=(0,l.pj)([]),t.description="",t.labels=null,t.relatedContent.loadingState=m.Gui.IDLE,t.relatedContent.items=null}};return e})},68106:function(t,e,i){"use strict";i.d(e,{D:function(){return n.SomethingWentWrong}});var n=i(18723)},18723:function(t,e,i){"use strict";i.d(e,{SomethingWentWrong:function(){return b}});var n=i(9753),l=i(60836),a=i(9544),r=i(98639),o=i(31014),s=i(39513),u=i(28852),d=i(2570),c=i(55784),m=i(34152),g=i(88178),v=i.n(g);let b=(0,a.Pi)(t=>{let{className:e,withBackwardControl:i=!0}=t,a=(0,r.useCallback)(()=>{window.location.href="/"},[]),{contentRef:g}=(0,m.$Y6)();return(0,n.jsxs)("div",{className:(0,l.W)(v().root,e),children:[i&&(0,n.jsx)(c.n,{withBackwardFallback:"/",className:(0,l.W)(v().navigation,{[v().navigation_desktop]:!g}),withForwardControl:!1}),(0,n.jsxs)("div",{className:(0,l.W)(v().content,{[v().content_shrink]:!i}),children:[(0,n.jsx)(u.J,{className:v().icon,variant:"attention",size:"xxl"}),(0,n.jsx)(d.Heading,{className:(0,l.W)(v().title,v().important),variant:"h3",size:"xs",children:(0,n.jsx)(o.Z,{id:"error-messages.something-went-wrong"})}),(0,n.jsxs)(d.Caption,{className:(0,l.W)(v().text,v().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,n.jsx)(o.Z,{id:"page-error.try-to-restart-app"})]}),(0,n.jsx)(s.z,{onClick:a,className:v().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsxs)(d.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,n.jsx)(o.Z,{id:"page-error.restart-app-button"})]})})]})]})})},62914:function(t){t.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",trailerButton:"ArtistCard_trailerButton__a2NHm",control:"ArtistCard_control___qv5j"}},35131:function(t){t.exports={root:"DonationButton_root__SEKMn",popover:"DonationButton_popover__p_W9s"}},69590:function(t){t.exports={root:"DonationMenuItem_root__rsLgl",cover:"DonationMenuItem_cover__tzmM6",image:"DonationMenuItem_image__EgeO1"}},88178:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}},function(t){t.O(0,[1899,6792,5121,7007,3603,8528,2498,7873,2330,2183,567,9448,4152,3084,6356,8164,3490,9352,4023,2687,5191,3193,2171,361,1744],function(){return t(t.s=74949)}),_N_E=t.O()}]);