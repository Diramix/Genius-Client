(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9057],{8986:function(t,e,n){Promise.resolve().then(n.bind(n,49154))},49154:function(t,e,n){"use strict";n.r(e);var o=n(9753),a=n(74717),r=n(98639),s=n(23976);e.default=()=>{let t=(0,a.useSearchParams)().get("promoId");return t||(0,a.notFound)(),(0,o.jsx)(r.Suspense,{children:(0,o.jsx)(s.s6,{promoId:t})})}},60424:function(t,e,n){"use strict";n.d(e,{I7:function(){return d},b4:function(){return m},at:function(){return r}}),n(66414);var o=n(98639),a=n(76873);let r=(t,e)=>((0,a.uK4)().get(a.Xt8),[(0,o.useMemo)(()=>{if(void 0===e)return{};let n=e-17;return{"--average-color-background":t,transform:"translateY(".concat(e>=17?0:n,"px)"),opacity:1}},[e,!1,t]),(0,o.useMemo)(()=>({"--average-color-background":t}),[t])]);var s=n(9753),i=n(9544),l=n(22890),u=n(3084);let c=t=>{let{element:e,scrollTop:n,isMobile:o}=t,a=.4*e.clientHeight;return n+(o?56:72)>=e.offsetTop+a},d=(0,i.Pi)(t=>{let{children:e,scrollElement:n,outerTitle:r="",headerElement:i,headerThreshold:d}=t,[m,_]=(0,o.useState)(r),[p,g]=(0,o.useState)(null),[h,x]=(0,o.useState)(!1),[N,f]=(0,o.useState)(!1),{settings:v}=(0,a.oR4)(),j=v.layout===a.t8m.Mobile;(0,o.useLayoutEffect)(()=>{_(r)},[r]);let S=(0,o.useCallback)(()=>{if(!n)return;let t=null!=d?d:10,e=i?Number(i.offsetTop)-t:t;e<0&&(e=0),f(n.scrollTop>e),(null==p?void 0:p.current)&&x(c({element:null==p?void 0:p.current,scrollTop:n.scrollTop,isMobile:j}))},[n,d,i,p,j]);(0,o.useEffect)(()=>{n&&(null==n?void 0:n.scrollTop)!==0||f(!1)},[n,null==n?void 0:n.scrollTop]),(0,l.v)({onScroll:S,elementRef:n});let b=(0,o.useMemo)(()=>({title:m,setTitle:_,titleElement:p,scrollElement:n,setTitleElement:g,isScrolledTitle:h,isScrolling:N}),[m,h,p,n,N]);return(0,s.jsx)(u.pI.Provider,{value:b,children:e})}),m=t=>{let{children:e,title:n,className:a}=t,{setTitleElement:r,setTitle:i}=(0,o.useContext)(u.pI),l=(0,o.useRef)(null);return(0,o.useEffect)(()=>{(null==l?void 0:l.current)&&r(l),n&&i(n)},[l,n,r,i]),(0,o.useEffect)(()=>()=>{i("")},[i]),(0,s.jsx)("div",{ref:l,className:a,children:e})}},23976:function(t,e,n){"use strict";n.d(e,{s6:function(){return m.PostPage},vU:function(){return d}});var o=n(42288),a=n(60991),r=n(54678),s=n(70071),i=n(73276),l=n(33589),u=n(10668),c=n(76873);let d=o.V5.model("PostPage",{errorStatusCode:o.V5.maybe(o.V5.number),loadingState:o.V5.enumeration(Object.values(c.Gui)),title:o.V5.maybeNull(o.V5.string),promotionType:o.V5.maybeNull(o.V5.enumeration(Object.values(r.qe))),artists:o.V5.maybe(o.V5.array(l.Go)),albums:o.V5.maybe(o.V5.array(s.ug)),playlists:o.V5.maybe(o.V5.array(i.d2))}).views(t=>({get isLoading(){return t.loadingState===c.Gui.IDLE||t.loadingState===c.Gui.PENDING},get isNotFound(){let e=t.errorStatusCode===a.CN.NOT_FOUND||t.errorStatusCode===a.CN.BAD_REQUEST;return t.loadingState===c.Gui.REJECT&&e},get isSomethingWrong(){return t.loadingState===c.Gui.REJECT&&!this.isNotFound}})).actions(t=>({getData:(0,o.ls)(function*(e){let{promoId:n}=e,{feedResource:r,modelActionsLogger:i}=(0,o.dU)(t);if(t.loadingState!==c.Gui.PENDING)try{t.loadingState=c.Gui.PENDING;let e=yield r.getPromotionsById({promoId:n});t.title=e.title,t.promotionType=e.promotionType,e.artists&&e.artists.length>0&&(t.artists=(0,o.pj)(e.artists.map(l.d))),e.albums&&e.albums.length>0&&(t.albums=(0,o.pj)(e.albums.map(s.ym))),e.playlists&&e.playlists.length>0&&(t.playlists=(0,o.pj)(e.playlists.map(t=>{let{playlist:e}=t;return(0,u.PV)(e)}))),t.loadingState!==c.Gui.IDLE&&(t.loadingState=c.Gui.RESOLVE)}catch(e){i.error(e),e instanceof a.du&&(e.statusCode===a.CN.NOT_FOUND||e.statusCode===a.CN.BAD_REQUEST)&&(t.errorStatusCode=a.CN.NOT_FOUND),t.loadingState!==c.Gui.IDLE&&(t.loadingState=c.Gui.REJECT)}}),reset(){t.loadingState=c.Gui.IDLE,t.title=null,t.artists=(0,o.pj)([]),t.albums=(0,o.pj)([])}}));n(45833);var m=n(18211)},45833:function(t,e,n){"use strict";n.d(e,{PostNotFoundPage:function(){return s}});var o=n(9753),a=n(9544),r=n(23948);let s=(0,a.Pi)(()=>(0,o.jsx)(r.T,{}))},18211:function(t,e,n){"use strict";n.d(e,{PostPage:function(){return G}});var o=n(9753),a=n(60836),r=n(9544),s=n(74717),i=n(98639),l=n(31490),u=n(41055),c=n(90679),d=n(2570),m=n(68106),_=n(60424),p=n(76873),g=n(3084),h=n(41949),x=n.n(h);let N=()=>(0,o.jsxs)("div",{className:x().root,children:[(0,o.jsx)(c.Shimmer,{radius:"l",className:x().top}),(0,o.jsx)(c.Shimmer,{radius:"l",className:x().bottom})]});var f=n(90978),v=n.n(f),j=n(70071),S=n(12903),b=n.n(S);let P=(0,r.Pi)(t=>{let{albums:e=[]}=t;return(0,o.jsx)("div",{className:b().root,children:(0,o.jsx)("div",{className:b().content,"aria-labelledby":"post-page-header",tabIndex:0,children:e.map(t=>(0,o.jsx)(j.rf,{className:b().item,album:t,contentLinesCount:3},t.id))})})});var y=n(76685),C=n(13209),W=n.n(C);let E=(0,r.Pi)(t=>{let{artists:e=[]}=t;return(0,o.jsx)("div",{className:W().root,children:(0,o.jsx)("div",{className:W().content,"aria-labelledby":"post-page-header",tabIndex:0,children:e.map(t=>(0,o.jsx)(y.IT,{className:W().item,artist:t,contentLinesCount:3},t.id))})})});var k=n(73276),T=n(39679),F=n.n(T);let I=(0,r.Pi)(t=>{let{playlists:e=[]}=t;return(0,o.jsx)("div",{className:F().root,children:(0,o.jsx)("div",{className:F().content,"aria-labelledby":"post-page-header",tabIndex:0,children:e.map(t=>(0,o.jsx)(k.ZL,{className:F().item,playlist:t,contentLinesCount:3},t.id))})})}),G=(0,r.Pi)(t=>{let{promoId:e}=t,{post:n}=(0,p.oR4)(),r=(0,p.k67)(),{contentScrollRef:h,setContentScrollRef:x}=(0,p.$Y6)();if(e&&n.loadingState===p.Gui.IDLE&&(0,i.use)(n.getData({promoId:e})),(0,i.useEffect)(()=>()=>{n.reset()},[n]),n.isNotFound&&(0,s.notFound)(),(0,p.NOh)(n.loadingState===p.Gui.RESOLVE),n.isSomethingWrong)return(0,o.jsx)(m.D,{});let f=(0,i.useMemo)(()=>{if(n.isLoading)return(0,o.jsx)(N,{});switch(n.promotionType){case l.qe.ARTISTS:return(0,o.jsx)(E,{artists:n.artists});case l.qe.ALBUMS:return(0,o.jsx)(P,{albums:n.albums});case l.qe.PLAYLISTS:return(0,o.jsx)(I,{playlists:n.playlists});default:(0,s.notFound)()}},[n.albums,n.artists,n.isLoading,n.playlists,n.promotionType]);return(0,o.jsx)(p.Lh6,{pageId:p.Rhz.POST,children:(0,o.jsxs)(_.I7,{scrollElement:h,outerTitle:n.title||void 0,children:[(0,o.jsx)(g.h4,{variant:"text",withForwardControl:!1,withBackwardControl:r.canBack,children:n.title?(0,o.jsx)(d.Heading,{id:"post-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:n.title}):(0,o.jsx)(c.Shimmer,{className:v().shimmerTitle,radius:"l"})}),(0,o.jsx)(u.t,{containerClassName:(0,a.W)(v().scrollContainer,v().important),className:v().scrollableContainer,ref:x,children:(0,o.jsx)("div",{className:v().container,children:f})})]})})})},23948:function(t,e,n){"use strict";n.d(e,{T:function(){return o.NotFound}});var o=n(8964)},8964:function(t,e,n){"use strict";n.d(e,{NotFound:function(){return p}});var o=n(9753),a=n(60836),r=n(9544),s=n(31014),i=n(39513),l=n(28852),u=n(2570),c=n(76873),d=n(3084),m=n(23067),_=n.n(m);let p=(0,r.Pi)(t=>{let{className:e}=t,{contentRef:n}=(0,c.$Y6)(),r=(0,c.s0h)("/");return(0,c.ZP4)(!0),(0,o.jsxs)("div",{className:(0,a.W)(_().root,{[_().root_desktop]:!n},e),children:[(0,o.jsx)(d.nP,{withBackwardFallback:"/",className:_().navigation,withForwardControl:!1}),(0,o.jsxs)("div",{className:_().content,children:[(0,o.jsx)(l.Icon,{className:_().icon,variant:"musicLogo",size:"xxl"}),(0,o.jsx)(u.Heading,{className:(0,a.W)(_().title,_().important),variant:"h3",size:"xs",children:(0,o.jsx)(s.Z,{id:"page-error.page-does-not-exist"})}),(0,o.jsx)(u.Caption,{className:(0,a.W)(_().text,_().important),variant:"span",type:"text",size:"l",weight:"normal",children:(0,o.jsx)(s.Z,{id:"page-error.page-does-not-exist-description"})}),(0,o.jsx)(i.z,{onClick:r,className:_().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,o.jsx)(u.Caption,{type:"controls",variant:"span",size:"m",children:(0,o.jsx)(s.Z,{id:"navigation.page-main"})})})]})]})})},68106:function(t,e,n){"use strict";n.d(e,{D:function(){return o.SomethingWentWrong}});var o=n(18723)},18723:function(t,e,n){"use strict";n.d(e,{SomethingWentWrong:function(){return g}});var o=n(9753),a=n(60836),r=n(9544),s=n(98639),i=n(31014),l=n(39513),u=n(28852),c=n(2570),d=n(76873),m=n(3084),_=n(88178),p=n.n(_);let g=(0,r.Pi)(t=>{let{className:e,withBackwardControl:n=!0}=t,r=(0,s.useCallback)(()=>{window.location.href="/"},[]),{contentRef:_}=(0,d.$Y6)();return(0,o.jsxs)("div",{className:(0,a.W)(p().root,e),children:[n&&(0,o.jsx)(m.nP,{withBackwardFallback:"/",className:(0,a.W)(p().navigation,{[p().navigation_desktop]:!_}),withForwardControl:!1}),(0,o.jsxs)("div",{className:(0,a.W)(p().content,{[p().content_shrink]:!n}),children:[(0,o.jsx)(u.Icon,{className:p().icon,variant:"attention",size:"xxl"}),(0,o.jsx)(c.Heading,{className:(0,a.W)(p().title,p().important),variant:"h3",size:"xs",children:(0,o.jsx)(i.Z,{id:"error-messages.something-went-wrong"})}),(0,o.jsxs)(c.Caption,{className:(0,a.W)(p().text,p().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,o.jsx)(i.Z,{id:"page-error.try-to-restart-app"})]}),(0,o.jsx)(l.z,{onClick:r,className:p().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,o.jsxs)(c.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,o.jsx)(i.Z,{id:"page-error.restart-app-button"})]})})]})]})})},90978:function(t){t.exports={scrollableContainer:"PostPage_scrollableContainer__iV9Bo",scrollContainer:"PostPage_scrollContainer__zrIrH",important:"PostPage_important__qUlED",container:"PostPage_container__orSfz",shimmerTitle:"PostPage_shimmerTitle__EeFCD"}},12903:function(t){t.exports={root:"PostAlbums_root__u2a1q",content:"PostAlbums_content__uMSez"}},13209:function(t){t.exports={root:"PostArtists_root__Zxmjq",content:"PostArtists_content__JzGOH"}},39679:function(t){t.exports={root:"PostPlaylists_root__3tea0",content:"PostPlaylists_content__2fXI5"}},41949:function(t){t.exports={root:"PostShimmer_root__MlLkY",top:"PostShimmer_top__ySpmZ",bottom:"PostShimmer_bottom__ajW_P"}},23067:function(t){t.exports={root:"NotFound_root__47ZX6",root_desktop:"NotFound_root_desktop___QqSb",navigation:"NotFound_navigation__q8rIW",content:"NotFound_content__3kry_",icon:"NotFound_icon___Wa9y",title:"NotFound_title__akG_o",important:"NotFound_important__z1LWl",text:"NotFound_text__oxDZv",button:"NotFound_button__jF4uH"}},88178:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}},function(t){t.O(0,[6020,2725,2365,5963,589,616,2498,5453,7873,3617,3084,4702,4514,2890,71,1055,3276,6685,2171,361,1744],function(){return t(t.s=8986)}),_N_E=t.O()}]);