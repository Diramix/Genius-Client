(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3624],{41595:function(t,e,i){Promise.resolve().then(i.bind(i,31095))},31095:function(t,e,i){"use strict";i.r(e);var a=i(9753),l=i(74717),r=i(61533);e.default=()=>{let t=(0,l.useSearchParams)(),e=t.get("userId"),i=t.get("kind");return e&&i||(0,l.notFound)(),(0,a.jsx)(r.i$,{userId:e,kind:i})}},4491:function(t,e,i){"use strict";i.d(e,{IT:function(){return n.ArtistCard},xG:function(){return s.ArtistContextMenu},o9:function(){return r},v2:function(){return o.useArtistDisclaimer}});var a=i(42288),l=i(33589);let r=a.V5.model("ArtistMeta",{artist:l.Go,lastMonthListeners:a.V5.maybe(a.V5.number)});var n=i(99654),s=i(54864),o=i(66975)},66975:function(t,e,i){"use strict";i.d(e,{useArtistDisclaimer:function(){return n}});var a=i(98639),l=i(3429),r=i(34152);let n=t=>{let{artist:e,callback:i,shouldHistoryBack:n}=t,{disclaimer:s,modals:{disclaimerModal:o}}=(0,r.oR4)(),u=(0,a.useRef)(String((0,l.Z)())),d=(0,a.useRef)(!1),c=(0,r.uK4)().get(r.ceh);return(0,a.useEffect)(()=>{s.isUnsafeDisclaimerConfirmed&&s.id===u.current&&!d.current&&(null==i||i(),d.current=!0)},[i,s.id,s.isUnsafeDisclaimerConfirmed]),(0,a.useCallback)(async t=>{let a=c.get(r.BUb.ExEx);if((null==e?void 0:e.isUnsafeLegal)&&(null==a?void 0:a.includes("".concat(r.coP.ARTIST,"_").concat(e.id)))){null==i||i();return}if((null==e?void 0:e.isLegalRejected)||(null==e?void 0:e.isUnsafeLegal)){null==t||t.preventDefault(),await s.getArtistDisclaimer({artistId:e.id}),e.isUnsafeLegal&&s.setType(r.Gq.UNSAFE),s.setId(u.current),s.setEntityId(e.id),s.setEntityType(r.coP.ARTIST),s.setShouldHistoryBack(!!n),d.current=!1,o.open();return}null==t||t.preventDefault(),null==i||i()},[null==e?void 0:e.id,null==e?void 0:e.isLegalRejected,null==e?void 0:e.isUnsafeLegal,i,s,o,c,n])}},99654:function(t,e,i){"use strict";i.d(e,{ArtistCard:function(){return E}});var a=i(9753),l=i(60836),r=i(9544),n=i(98639),s=i(80542),o=i(18375),u=i(23881),d=i(84338),c=i(27491),m=i(28852),g=i(12404),v=i(2570),f=i(33589),y=i(34152),S=i(3084),k=i(66975),h=i(54864),p=i(62914),C=i.n(p);let E=(0,r.Pi)(t=>{let{artist:e,className:i,children:r,contentLinesCount:p}=t,{ref:E,intersectionPropertyId:I}=(0,y.VfV)(),{trailer:T}=(0,y.oR4)(),{from:N}=(0,y.MhG)(),{formatMessage:b}=(0,s.Z)(),[G,P]=(0,n.useState)(!1),[D,A]=(0,n.useState)(!1),[_,L]=(0,n.useState)(!1),{sendLikeSearchFeedback:x,sendNavigateSearchFeedback:U,sendPlaySearchFeedback:V}=(0,y.sAF)(),B=(0,y.zxW)(),j=(0,f.SB)(e),R=(0,f.BV)(e),{id:O,name:M,coverUri:F,isLiked:w}=e,J=(0,y.s0h)(e.url),z=(0,y.s0h)(e.url,!0),[K,q]=(0,n.useState)(!1),W=(0,y.FTC)(),Q=(0,n.useCallback)(t=>{t.stopPropagation(),T.openArtistTrailer(e.id),W(o.OB.Artist,e.id)},[e.id,W,T]),Z=(0,n.useMemo)(()=>{let t=b({id:"entity-names.artist-name"},{artistName:M}),e=w?b({id:"entity-names.has-your-like"}):"";return"".concat(t," ").concat(e)},[M,w,b]),{isPlaying:H,togglePlay:X}=(0,y.qmq)({playContextParams:{contextData:{type:d.Ak.Artist,meta:{id:Number(O)},from:N},loadContextMeta:!0}}),$=(0,k.useArtistDisclaimer)({artist:e,callback:J}),Y=(0,k.useArtistDisclaimer)({artist:e,callback:z}),tt=(0,k.useArtistDisclaimer)({artist:e,callback:X}),te=(0,f.ik)(Y,$),ti=(0,n.useCallback)(t=>{null==U||U(),B({to:o.qU.ArtistScreen}),te(t)},[U,B,te]),ta=(0,n.useCallback)(t=>{ti(t)},[ti]),tl=(0,n.useCallback)(()=>{G||H||(P(!0),null==V||V()),tt()},[H,G,V,tt]),tr=(0,n.useCallback)(()=>{D||w||(A(!0),null==x||x()),j()},[w,j,D,x]),tn=(0,n.useCallback)(t=>{t.preventDefault(),t.stopPropagation()},[]),ts=(0,n.useCallback)(()=>{L(!_),q(!_)},[_]),to=(0,n.useMemo)(()=>(0,a.jsx)(h.ArtistContextMenu,{artist:e,onOpenChange:ts,open:_,onClick:tn,className:(0,l.W)(C().menuButton,C().control),size:"s",icon:(0,a.jsx)(m.J,{size:"xxs",variant:"more"})},e.getKey("ArtistContextMenu")),[e,tn,ts,_]),tu=(0,n.useMemo)(()=>{var t;if(null==e?void 0:null===(t=e.trailer)||void 0===t?void 0:t.canShow)return(0,a.jsx)(S.xf,{children:(0,a.jsx)(S.eP,{className:(0,l.W)(C().trailerButton,C().control),radius:"round",size:"s",iconSize:"xxs",onClick:Q},e.getKey("TrailerButton"))})},[e,Q]),td=(0,n.useMemo)(()=>{if(e.isAvailable)return(0,a.jsx)(c.kk,{isVisible:_||K,className:C().controls,radius:"round",playControl:(0,a.jsx)(S.JM,{buttonVariant:"default",withHover:!1,className:(0,l.W)(C().playButton,C().control),iconSize:"xl",variant:"filled",onClick:tl,isPlaying:H,disabled:!e.isAvailableForPlaying},e.getKey("PlayButton")),likeControl:(0,a.jsx)(S.dJ,{className:(0,l.W)(C().likeButton,C().control),isLiked:w,onClick:tr,variant:"default",size:"s",iconSize:"xxs"},e.getKey("LikeButton")),menuControl:to,pinControl:(0,a.jsx)(S.RT,{onClick:R,isPinned:e.isPinned,className:(0,l.W)(C().pinButton,C().control),withRipple:!1},e.getKey("PinButton")),trailerControl:tu})},[e,_,K,tl,H,w,tr,to,R,tu]),tc=(0,n.useMemo)(()=>(0,a.jsx)(g.Paper,{className:C().cover,radius:"round",withShadow:!0,...(0,u.BA)(u.bG.artist.ARTIST_CARD),children:(0,a.jsxs)("div",{className:C().coverBlock,onClick:ta,children:[(0,a.jsx)(S.BE,{className:C().image,src:F,size:200,fit:"cover",alt:Z,withAvatarReplace:!0,isAvailable:e.isAvailable,"aria-hidden":!0}),td]})}),[ta,F,Z,e.isAvailable,td]);return(0,a.jsx)(c.m7,{ref:E,className:(0,l.W)(C().root,i),textPosition:"center","aria-label":Z,title:(0,a.jsx)(v.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,a.jsx)(S.rU,{className:C().titleLink,href:e.url,"aria-label":Z,onClick:ti,...(0,u.BA)(u.bG.artist.ARTIST_TITLE),children:M})}),srTitle:(0,a.jsx)(S.rU,{href:e.url,onClick:ti,children:Z}),"data-intersection-property-id":I,contentLinesCount:p,view:tc,...(0,u.BA)(u.bG.artist.ARTIST_ITEM),children:r})})},54864:function(t,e,i){"use strict";i.d(e,{ArtistContextMenu:function(){return m}});var a=i(9753),l=i(9544),r=i(98639),n=i(80542),s=i(18375),o=i(385),u=i(33589),d=i(34152),c=i(3084);let m=(0,l.Pi)(t=>{var e,i,l;let{artist:m,onOpenChange:g,open:v,...f}=t,{settings:y,trailer:S}=(0,d.oR4)(),k=(0,u.BV)(m),h=(0,u.SB)(m),p=(0,d.FTC)(),C="".concat(d.aUg.ARTIST,"-").concat(null==m?void 0:m.id),E=y.layout===d.t8m.Mobile,{formatMessage:I}=(0,n.Z)(),{href:T}=(0,d.qKB)(null!==(i=null==m?void 0:m.url)&&void 0!==i?i:""),{isPlaying:N,togglePlay:b}=(0,d.QhE)({seeds:null!==(l=null==m?void 0:m.seeds)&&void 0!==l?l:[],pageIdForFrom:d.Rhz.RADIO,blockIdForFrom:C}),G=(0,r.useCallback)(()=>{N||b()},[N,b]),P=(0,r.useCallback)(()=>{(null==m?void 0:m.id)&&(S.openArtistTrailer(m.id),p(s.OB.Artist,m.id))},[null==m?void 0:m.id,p,S]);return(0,d.ZP4)(v),(0,a.jsxs)(o.v2,{isMobile:E,offsetOptions:10,open:v,onOpenChange:g,ariaLabel:I({id:"interface-actions.context-menu"}),...f,children:[!E&&(0,a.jsx)(c.Zd,{onClick:k,isPinned:null==m?void 0:m.isPinned}),(0,a.jsx)(c.xZ,{onClick:h,isLiked:null==m?void 0:m.isLiked,disabled:!(null==m?void 0:m.isAvailable)}),(null==m?void 0:null===(e=m.trailer)||void 0===e?void 0:e.canShow)&&(0,a.jsx)(c.NB,{onClick:P}),(0,a.jsx)(c.GQ,{onClick:G,disabled:!(null==m?void 0:m.isAvailable),variant:"artist"}),(0,a.jsx)(c.zq,{disabled:!m,shareLink:T,entityVariant:"artist",entityTitle:null==m?void 0:m.name})]})})},36084:function(t,e,i){"use strict";i.d(e,{I7:function(){return f},b4:function(){return s},at:function(){return y}});var a=i(9753),l=i(98639),r=i.t(l,2),n=i(3084);let s=t=>{let{children:e,title:i,className:r}=t,{setTitleElement:s,setTitle:o}=(0,l.useContext)(n.pI),u=(0,l.useRef)(null);return(0,l.useEffect)(()=>{(null==u?void 0:u.current)&&s(u),i&&o(i)},[u,i,s,o]),(0,l.useEffect)(()=>()=>{o("")},[o]),(0,a.jsx)("div",{ref:u,className:r,children:e})};var o=i(9544),u={810:t=>{t.exports=r}},d={},c={};(()=>{Object.defineProperty(c,"__esModule",{value:!0}),c.useScroll=void 0;let t=function t(e){var i=d[e];if(void 0!==i)return i.exports;var a=d[e]={exports:{}};return u[e](a,a.exports,t),a.exports}(810);c.useScroll=e=>{(0,t.useEffect)(()=>{let t={capture:!0,passive:!0};return window.addEventListener("scroll",e,t),()=>{window.removeEventListener("scroll",e,t)}},[e])}})(),c.__esModule;var m=c.useScroll,g=i(34152);let v=t=>{let{element:e,scrollTop:i,isMobile:a}=t,l=.4*e.clientHeight;return i+(a?56:72)>=e.offsetTop+l},f=(0,o.Pi)(t=>{let{children:e,scrollElement:i,outerTitle:r="",headerElement:s,headerThreshold:o}=t,[u,d]=(0,l.useState)(r),[c,f]=(0,l.useState)(null),[y,S]=(0,l.useState)(!1),[k,h]=(0,l.useState)(!1),{settings:p}=(0,g.oR4)(),C=p.layout===g.t8m.Mobile;(0,l.useLayoutEffect)(()=>{d(r)},[r]);let E=(0,l.useCallback)(()=>{if(!i)return;let t=null!=o?o:10,e=s?Number(s.offsetTop)-t:t;e<0&&(e=0),h(i.scrollTop>e),(null==c?void 0:c.current)&&S(v({element:null==c?void 0:c.current,scrollTop:i.scrollTop,isMobile:C}))},[i,o,s,c,C]);(0,l.useEffect)(()=>{i&&(null==i?void 0:i.scrollTop)!==0||h(!1)},[i,null==i?void 0:i.scrollTop]),m(E);let I=(0,l.useMemo)(()=>({title:u,setTitle:d,titleElement:c,scrollElement:i,setTitleElement:f,isScrolledTitle:y,isScrolling:k}),[u,y,c,i,k]);return(0,a.jsx)(n.pI.Provider,{value:I,children:e})});i(66414);let y=(t,e)=>((0,g.uK4)().get(g.Xt8),[(0,l.useMemo)(()=>{if(void 0!==e){let i=e-17;return{"--average-color-background":t,transform:"translateY(".concat(e>=17?0:i,"px)"),opacity:1}}return{}},[e,!1,t]),(0,l.useMemo)(()=>({"--average-color-background":t}),[t])])},55784:function(t,e,i){"use strict";i.d(e,{h:function(){return l.h},n:function(){return a.n}});var a=i(33861),l=i(34906)},61533:function(t,e,i){"use strict";i.d(e,{i$:function(){return a.PlaylistPage},nb:function(){return h}});var a=i(20218);i(63407);var l=i(24244),r=i(42288),n=i(10542),s=i(15456),o=i(73276),u=i(44023),d=i(10668),c=i(34152);let m=(t,e)=>e.map(e=>{let i=t.find(t=>String(t.id)===e);return(null==i?void 0:i.albumId)?"".concat(e,":").concat(i.albumId):e}),g=(t,e)=>e.map(e=>{let i=t[e];return(null==i?void 0:i.albumId)?"".concat(i.id,":").concat(i.albumId):String(null==i?void 0:i.id)}),v=(t,e)=>{let{startIndex:i,endIndex:a}=e,l=[];for(let e=i;e<=a;e++){var r,n;((null===(r=t[e])||void 0===r?void 0:r.loadingState)===c.Gui.IDLE||(null===(n=t[e])||void 0===n?void 0:n.loadingState)===c.Gui.REJECT)&&l.push(e)}return l};var f=i(75191);let y=t=>t.map(t=>(0,f.RN)(t.id,t.albumId||void 0)),S=r.V5.model("PlaylistItem",{id:r.V5.union(r.V5.string,r.V5.number),albumId:r.V5.maybeNull(r.V5.union(r.V5.string,r.V5.number)),key:r.V5.string,data:r.V5.maybeNull(u.le),loadingState:r.V5.enumeration(Object.values(c.Gui))}),k=r.V5.model("PlaylistSearchItems",{playlistTrackIds:r.V5.maybeNull(r.V5.array(r.V5.string)),suggestedTrackIds:r.V5.maybeNull(r.V5.array(r.V5.string)),additionTrackInProggress:r.V5.maybeNull(r.V5.string),tracks:r.V5.maybeNull(r.V5.array(u.le))}).views(t=>({get suggestedTracks(){var e;return null===(e=t.suggestedTrackIds)||void 0===e?void 0:e.map(e=>{var i;return(null===(i=t.tracks)||void 0===i?void 0:i.find(t=>t.id===e))||null})},get playlistTracks(){let e=[...t.playlistTrackIds||[]];return t.additionTrackInProggress&&e.unshift(t.additionTrackInProggress),null==e?void 0:e.map(e=>{var i;return(null===(i=t.tracks)||void 0===i?void 0:i.find(t=>{var i;return((null===(i=t.mainAlbum)||void 0===i?void 0:i.id)&&e.includes(":")?"".concat(t.id,":").concat(t.mainAlbum.id):t.id)===e}))||null})}})).actions(t=>({setAdditionTrackAnimation(e){t.additionTrackInProggress=e},replaceAdditionTrackInProggress(){if(t.additionTrackInProggress){var e,i;null===(e=t.playlistTrackIds)||void 0===e||e.unshift(t.additionTrackInProggress),t.suggestedTrackIds=(0,r.pj)(null===(i=t.suggestedTrackIds)||void 0===i?void 0:i.filter(e=>e!==t.additionTrackInProggress)),t.additionTrackInProggress=null}},resetAdditionTrackAnimation(){t.additionTrackInProggress=null}})),h=r.V5.model("PlaylistPage",{uuid:r.V5.maybeNull(r.V5.string),meta:r.V5.maybeNull(o.Nn),items:r.V5.array(S),errorStatusCode:r.V5.maybeNull(r.V5.number),loadingState:r.V5.enumeration(Object.values(c.Gui)),similarPlaylists:r.V5.array(o.d2),searchLoadingState:r.V5.enumeration(Object.values(c.Gui)),searchItems:k,filters:s.Nj}).views(t=>({get isNotFound(){return t.loadingState===c.Gui.REJECT&&t.errorStatusCode===n.CN.NOT_FOUND},get isLoading(){return t.loadingState===c.Gui.PENDING||t.loadingState===c.Gui.IDLE},get isSearchLoading(){return t.searchLoadingState===c.Gui.PENDING||t.searchLoadingState===c.Gui.IDLE},get isSearchIdle(){return t.searchLoadingState===c.Gui.IDLE},get isDisabled(){var e;return t.loadingState===c.Gui.RESOLVE&&(0===t.items.length||!(null===(e=t.meta)||void 0===e?void 0:e.isAvailable))},get isRejected(){return t.loadingState===c.Gui.REJECT},get hasSimilarPlaylists(){return t.loadingState===c.Gui.IDLE||t.loadingState===c.Gui.PENDING||t.similarPlaylists.length>0},get isEmptyPlaylist(){return 0===t.items.length&&t.loadingState===c.Gui.RESOLVE},get contextMeta(){var i,a,l,s,o,u,m,g,v,f;return{isAvailable:null===(i=t.meta)||void 0===i?void 0:i.isAvailable,id:t.meta.id,uid:null===(a=t.meta)||void 0===a?void 0:a.uid,uuid:t.meta.uuid,kind:null===(l=t.meta)||void 0===l?void 0:l.kind,title:null===(s=t.meta)||void 0===s?void 0:s.title,coverUri:null===(o=t.meta)||void 0===o?void 0:o.coverUri,likesCount:null===(u=t.meta)||void 0===u?void 0:u.likesCount,averageColor:null===(m=t.meta)||void 0===m?void 0:m.averageColor,owner:null===(g=t.meta)||void 0===g?void 0:g.owner,description:null===(v=t.meta)||void 0===v?void 0:v.description,modified:null===(f=t.meta)||void 0===f?void 0:f.modified}},get isDragAndDropEnabled(){var y;if(!(0,r.fh)(t))return!1;let{experiments:e,ugcUploadCenter:i}=(0,r.yj)(t);return!!((null===(y=t.meta)||void 0===y?void 0:y.canUserChange)&&(t.items.length>1||i.getUploadingTracksByPlaylistKind(t.meta.kind).length>0)&&e.checkExperiment(c.peG.WebNextPlaylistDnD,"on"))},get itemsKeys(){return t.items.map(t=>t.key)},get isFavouritePlaylist(){var S;return(null===(S=t.meta)||void 0===S?void 0:S.kind)===d.eX.LIKE},get isFiltersLoading(){return t.filters.loadingState===c.Gui.IDLE||t.filters.loadingState===c.Gui.PENDING}})).actions(t=>{let e={getTracksByRange:(0,r.ls)(function*(e){var i,a;let{startIndex:l,endIndex:n}=e,{tracksResource:s,modelActionsLogger:o}=(0,r.dU)(t);if(!(null===(i=t.meta)||void 0===i?void 0:i.uid)||!(null===(a=t.meta)||void 0===a?void 0:a.kind))return null;l=Math.max(0,l),n=Math.min(n,t.items.length);let d=v(t.items,{startIndex:l,endIndex:n});try{let e=g(t.items,d);if(!e.length)return null;d.forEach(e=>{let i=t.items[e];i&&(i.loadingState=c.Gui.PENDING)});let i=yield s.getTracksMeta({trackIds:e,withProgress:!0});d.forEach((e,a)=>{let l=null==i?void 0:i[a];if(t.items[e]&&l){var r,n;t.items[e]={id:l.id,albumId:(null===(n=l.albums)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.id)||null,key:"".concat(l.id,"-").concat(e),data:(0,u.Vt)(l),loadingState:c.Gui.RESOLVE}}})}catch(e){o.error(e),d.forEach(e=>{let i=t.items[e];i&&(i.loadingState=c.Gui.REJECT)})}return null}),getSearchTracksMeta:(0,r.ls)(function*(){let{tracksResource:e,modelActionsLogger:i}=(0,r.dU)(t),a=[...t.searchItems.playlistTrackIds||[]].concat(t.searchItems.suggestedTrackIds||[]);try{let i=yield e.getTracksMeta({trackIds:a,removeDuplicates:!0,withProgress:!0});t.searchItems.tracks=(0,r.pj)(null==i?void 0:i.map(t=>(0,u.Vt)(t))),t.searchLoadingState!==c.Gui.IDLE&&(t.searchLoadingState=c.Gui.RESOLVE)}catch(t){i.error(t)}return null}),updateData:(0,r.ls)(function*(i){var a;if((null==i?void 0:i.error)==="not-found")return t.errorStatusCode=n.CN.NOT_FOUND,t.loadingState=c.Gui.REJECT,null;t.similarPlaylists=(0,r.pj)(null===(a=i.similarPlaylists)||void 0===a?void 0:a.map(o.VB)),t.meta=(0,o.Q9)(i),t.items=(0,r.pj)(i.tracks.map((t,e)=>({id:String(t.id),albumId:t.albumId||null,key:"".concat(t.id,"-").concat(e),loadingState:c.Gui.IDLE})));let{sonataState:l}=(0,r.yj)(t);return l.setUnloadedEntitiesData(y(t.items)),yield e.getTracksByRange({startIndex:0,endIndex:10})}),getPlaylistByUserIdAndKind:(0,r.ls)(function*(i){let{userId:a,playlistKind:l,resumeStream:s=!1,trackMetaType:o}=i,{usersResource:u,modelActionsLogger:d}=(0,r.dU)(t);if(t.loadingState!==c.Gui.PENDING)try{t.loadingState=c.Gui.PENDING;let i=yield u.getPlaylistWithTracksIds({userId:a,playlistKind:l,resumeStream:s,trackMetaType:o});if("string"!=typeof i.playlistUuid){t.errorStatusCode=n.CN.NOT_FOUND,t.loadingState=c.Gui.REJECT;return}yield e.updateData(i),t.loadingState=c.Gui.RESOLVE}catch(e){d.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState=c.Gui.REJECT}}),getSearchTracks:(0,r.ls)(function*(i){let{uid:a,kind:l,part:s=""}=i,{searchPlaylistResource:o,modelActionsLogger:u}=(0,r.dU)(t);if(t.searchLoadingState!==c.Gui.PENDING&&s.length)try{t.searchLoadingState=c.Gui.PENDING;let{playlistTrackIds:i=[],suggestedTrackIds:n=[]}=yield o.getTrackIds({uid:a,kind:l,part:s}),u=m(t.items,i);t.searchItems.playlistTrackIds=(0,r.pj)(u),t.searchItems.suggestedTrackIds=(0,r.pj)(n),e.getSearchTracksMeta()}catch(e){u.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.searchLoadingState!==c.Gui.IDLE&&(t.searchLoadingState=c.Gui.REJECT)}}),getPlaylistByUuid:(0,r.ls)(function*(i){let{playlistUuid:a,richTracks:l=!1,resumeStream:s=!1}=i,{playlistResource:o,modelActionsLogger:u}=(0,r.dU)(t);if(t.uuid=a,t.loadingState!==c.Gui.PENDING)try{t.loadingState=c.Gui.PENDING;let i=yield o.getPlaylist({playlistUuid:a,resumeStream:s,richTracks:l});yield e.updateData(i),t.loadingState!==c.Gui.IDLE&&(t.loadingState=c.Gui.RESOLVE)}catch(e){u.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==c.Gui.IDLE&&(t.loadingState=c.Gui.REJECT)}}),getPlaylistFilters:(0,r.ls)(function*(){let{filtersResource:e,modelActionsLogger:i}=(0,r.dU)(t);if(t.filters.loadingState===c.Gui.PENDING)return;let a=t.items.map(t=>t.id);try{t.filters.loadingState=c.Gui.PENDING;let i=(yield e.getTracksFilters({trackIds:a})).filters.map(s.c$);t.filters.items=i.length>2?(0,r.pj)(i):(0,r.pj)([]),t.filters.loadingState=c.Gui.RESOLVE}catch(e){i.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.filters.loadingState=c.Gui.REJECT}}),updatePlaylistTrackByUuid:(0,r.ls)(function*(i){let{playlistUuid:a,richTracks:l=!1,resumeStream:s=!1}=i,{playlistResource:o,modelActionsLogger:u}=(0,r.dU)(t);t.uuid=a;try{let i=yield o.getPlaylist({playlistUuid:a,resumeStream:s,richTracks:l}),n=[];if(t.items=(0,r.pj)(i.tracks.map((e,i)=>{var a,l;let r=String(e.id),s=e.albumId||null;return r===(null===(a=t.items[i])||void 0===a?void 0:a.id)&&s===(null===(l=t.items[i])||void 0===l?void 0:l.albumId)?t.items[i]:(n.push(i),{id:String(e.id),albumId:e.albumId||null,key:"".concat(e.id,"-").concat(i),loadingState:c.Gui.IDLE})})),t.meta&&(t.meta.modified=i.modified,t.meta.revision=i.revision,n.length)){let t=Math.min(...n),i=Math.max(...n);e.getTracksByRange({startIndex:t,endIndex:i})}if(t.loadingState!==c.Gui.IDLE&&(t.loadingState=c.Gui.RESOLVE),(0,r.fh)(t)){let{sonataState:e}=(0,r.yj)(t);e.setUnloadedEntitiesData(y(t.items))}}catch(e){u.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==c.Gui.IDLE&&(t.loadingState=c.Gui.REJECT)}}),moveTrack(e,i){let a=(0,l.ZN)(t.items[e]);if(!(e<0)&&!(i<0)&&!(e>=t.items.length)&&!(i>=t.items.length)&&a&&(t.items.splice(e,1),t.items.splice(i,0,a),(0,r.fh)(t))){let{sonataState:e}=(0,r.yj)(t);e.setUnloadedEntitiesData(y(t.items))}},setSearchIdle(){t.searchLoadingState=c.Gui.IDLE},removeTracksFromItems(e,i){if(t.items.splice(e,i),(0,r.fh)(t)){let{sonataState:e}=(0,r.yj)(t);e.setUnloadedEntitiesData(y(t.items))}},resetSearch(){t.searchItems.playlistTrackIds=null,t.searchItems.suggestedTrackIds=null,t.searchItems.additionTrackInProggress=null,t.searchItems.tracks=null,t.searchLoadingState=c.Gui.IDLE},reset(){let{sonataState:i}=(0,r.yj)(t);i.resetUnloadedEntitiesData(),t.uuid=null,t.meta=null,t.loadingState=c.Gui.IDLE,t.items=(0,r.pj)([]),t.similarPlaylists=(0,r.pj)([]),t.errorStatusCode=null,t.filters.items=(0,r.pj)([]),t.filters.loadingState=c.Gui.IDLE,e.resetSearch()},refresh(){var i,a;(null===(i=t.meta)||void 0===i?void 0:i.uuid)&&e.getPlaylistByUuid({playlistUuid:null===(a=t.meta)||void 0===a?void 0:a.uuid,resumeStream:!1})},refreshTracks(){var i,a;(null===(i=t.meta)||void 0===i?void 0:i.uuid)&&e.updatePlaylistTrackByUuid({playlistUuid:null===(a=t.meta)||void 0===a?void 0:a.uuid,resumeStream:!1})}};return e})},62914:function(t){t.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",trailerButton:"ArtistCard_trailerButton__a2NHm",control:"ArtistCard_control___qv5j"}}},function(t){t.O(0,[1899,6792,7007,3603,899,8528,2498,7873,2330,2183,567,9448,214,4152,3084,6356,8164,3490,9352,4023,3276,2687,5191,4950,4480,2171,361,1744],function(){return t(t.s=41595)}),_N_E=t.O()}]);