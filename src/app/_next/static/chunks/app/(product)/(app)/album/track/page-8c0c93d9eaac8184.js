(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9499],{49544:function(t,e,i){Promise.resolve().then(i.bind(i,44148))},44148:function(t,e,i){"use strict";i.r(e);var n=i(9753),a=i(74717),l=i(98639),o=i(67549);e.default=()=>{let t=(0,a.useSearchParams)(),e=t.get("albumId"),i=t.get("trackId");return e&&i||(0,a.notFound)(),(0,n.jsx)(l.Suspense,{children:(0,n.jsx)(o.Xb,{albumId:e,trackId:i})})}},10064:function(t,e,i){"use strict";i.d(e,{J:function(){return r.DonationButton},Ew:function(){return o},fv:function(){return l}});var n=i(42288),a=i(33589);let l=t=>{let{url:e,artist:i,goal:l}=t;return(0,n.pj)({url:e,goal:l,artist:(0,a.tR)({artist:i})})},o=n.V5.model("Donation",{url:n.V5.string,artist:a.Go,goal:n.V5.maybe(n.V5.string)});var r=i(63880)},63880:function(t,e,i){"use strict";i.d(e,{DonationButton:function(){return A}});var n=i(9753),a=i(60836),l=i(9544),o=i(98639),r=i(80542),s=i(31014),u=i(39513),d=i(385),m=i(76873),c=i(86939),v=i(12404),g=i(2570),b=i(69590),p=i.n(b);let h=(0,l.Pi)(t=>{let{donation:e}=t,i=(0,m.s0h)(e.url);return(0,n.jsxs)(d.sN,{className:p().root,isBlock:!0,onClick:i,children:[(0,n.jsx)(v.Paper,{radius:"round",className:p().cover,children:(0,n.jsx)(c.Image,{withAvatarReplace:!0,src:e.artist.coverUri,size:100,fit:"contain",className:p().image})}),(0,n.jsx)(g.Caption,{variant:"span",size:"m",weight:"medium",lineClamp:1,children:e.artist.name})]},e.url)});var E=i(35131),f=i.n(E);let A=(0,l.Pi)(t=>{let{donations:e,shouldShowModal:i,className:l}=t,{settings:c}=(0,m.oR4)(),[v,g]=(0,o.useState)(!1),b=c.layout===m.t8m.Mobile,{formatMessage:p}=(0,r.Z)(),[E]=e,A=(0,m.s0h)(null==E?void 0:E.url),S=(0,o.useCallback)(()=>{i||A()},[A,i]),G=(0,o.useMemo)(()=>(0,n.jsx)(u.z,{size:"s",variant:"default",radius:"xxxl",color:"accent",withRipple:i,className:(0,a.W)(f().root,l),onClick:S,children:(0,n.jsx)(s.Z,{id:"donation.button-text"})}),[l,S,i]);return i?(0,n.jsx)(d.v2,{size:"s",radius:"xxxl",color:"accent",label:p({id:"donation.button-text"}),className:(0,a.W)(f().root,l),onClick:S,onOpenChange:g,open:v,isMobile:b,placement:"bottom",offsetOptions:8,listClassName:f().popover,children:e.map(t=>(0,n.jsx)(h,{donation:t},t.url))}):G})},60424:function(t,e,i){"use strict";i.d(e,{I7:function(){return m},b4:function(){return c},at:function(){return l}}),i(66414);var n=i(98639),a=i(76873);let l=(t,e)=>((0,a.uK4)().get(a.Xt8),[(0,n.useMemo)(()=>{if(void 0===e)return{};let i=e-17;return{"--average-color-background":t,transform:"translateY(".concat(e>=17?0:i,"px)"),opacity:1}},[e,!1,t]),(0,n.useMemo)(()=>({"--average-color-background":t}),[t])]);var o=i(9753),r=i(9544),s=i(22890),u=i(3084);let d=t=>{let{element:e,scrollTop:i,isMobile:n}=t,a=.4*e.clientHeight;return i+(n?56:72)>=e.offsetTop+a},m=(0,r.Pi)(t=>{let{children:e,scrollElement:i,outerTitle:l="",headerElement:r,headerThreshold:m}=t,[c,v]=(0,n.useState)(l),[g,b]=(0,n.useState)(null),[p,h]=(0,n.useState)(!1),[E,f]=(0,n.useState)(!1),{settings:A}=(0,a.oR4)(),S=A.layout===a.t8m.Mobile;(0,n.useLayoutEffect)(()=>{v(l)},[l]);let G=(0,n.useCallback)(()=>{if(!i)return;let t=null!=m?m:10,e=r?Number(r.offsetTop)-t:t;e<0&&(e=0),f(i.scrollTop>e),(null==g?void 0:g.current)&&h(d({element:null==g?void 0:g.current,scrollTop:i.scrollTop,isMobile:S}))},[i,m,r,g,S]);(0,n.useEffect)(()=>{i&&(null==i?void 0:i.scrollTop)!==0||f(!1)},[i,null==i?void 0:i.scrollTop]),(0,s.v)({onScroll:G,elementRef:i});let y=(0,n.useMemo)(()=>({title:c,setTitle:v,titleElement:g,scrollElement:i,setTitleElement:b,isScrolledTitle:p,isScrolling:E}),[c,p,g,i,E]);return(0,o.jsx)(u.pI.Provider,{value:y,children:e})}),c=t=>{let{children:e,title:i,className:a}=t,{setTitleElement:l,setTitle:r}=(0,n.useContext)(u.pI),s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(null==s?void 0:s.current)&&l(s),i&&r(i)},[s,i,l,r]),(0,n.useEffect)(()=>()=>{r("")},[r]),(0,o.jsx)("div",{ref:s,className:a,children:e})}},75191:function(t,e,i){"use strict";i.d(e,{s$:function(){return p},$Z:function(){return G.RepeatButton},P4:function(){return y.ShuffleButton},WP:function(){return V.SonataControls},ps:function(){return S},jN:function(){return v},RN:function(){return a},B5:function(){return m}});var n=i(92894);let a=(t,e)=>({type:n.RX.Unloaded,meta:{id:t,albumId:e}});var l=i(42288),o=i(63665),r=i(98456),s=i(33589),u=i(16092),d=i(76873);let m=t=>{var e,i,a;switch(t.data.type){case o.A4.Generative:{let i=t.data.meta,n=(0,d.Usz)(null==i?void 0:i.derivedColors);return(0,l.pj)({id:String(i.id),coverUri:i.imageUrl,title:null!==(e=i.title)&&void 0!==e?e:"",isAvailable:!0,isRemoved:!1,averageColor:n})}case n.RX.Unloaded:return null;default:{let e=t.data.meta,n=null===(i=e.artists)||void 0===i?void 0:i.map(s.d),o=null===(a=e.albums)||void 0===a?void 0:a.map(r.N);return(0,l.pj)({...(0,u.Ni)(e),artists:n,albums:o})}}},c=l.V5.model("UnloadedEntityMeta",{id:l.V5.union(l.V5.number,l.V5.string),albumId:l.V5.maybe(l.V5.union(l.V5.number,l.V5.string))}),v=l.V5.model("UnloadedEntityData",{meta:c,type:l.V5.literal(n.RX.Unloaded)});var g=i(31490),b=i(94342);let p=u.yp.props({artists:l.V5.array(s.Go),albums:l.V5.array(r.KX),chart:l.V5.maybe(b.BH)}).views(t=>({get idWithContext(){return t.albumId?"".concat(t.id,":").concat(t.albumId):t.id},get artistsNames(){var e;return null===(e=t.artists)||void 0===e?void 0:e.map(t=>t.name).join(", ")},get mainArtist(){var i,n;return null!==(n=null===(i=t.artists)||void 0===i?void 0:i[0])&&void 0!==n?n:null},get mainAlbum(){var a,l;return null!==(l=null===(a=t.albums)||void 0===a?void 0:a[0])&&void 0!==l?l:null},get index(){var o,r,s;return null!==(s=null===(r=t.albums[0])||void 0===r?void 0:null===(o=r.trackPosition)||void 0===o?void 0:o.index)&&void 0!==s?s:null},get isPodcast(){var u;return t.isTrackPodcast||(null===(u=this.mainAlbum)||void 0===u?void 0:u.isPodcast)},get isAudiobook(){return t.type===g.Vc.AUDIOBOOK},get isNonMusic(){return this.isPodcast||this.isAudiobook}})).actions(t=>({changeTrackInfo:(0,l.ls)(function*(e,i){let{ugcResource:n,modelActionsLogger:a}=(0,l.dU)(t);if(t.artists.map(t=>t.name).join(", ")===i&&e===t.title)return d.SLo.OK;try{var o;yield n.changeTrack({trackId:t.id,title:e,artist:i}),t.title=e;let a=(null===(o=t.artists[0])||void 0===o?void 0:o.id)||"0";if(t.artists=(0,l.pj)([]),i){let e=s.Go.create({id:a,name:i,isAvailable:!0});t.artists=(0,l.pj)([e])}return d.SLo.OK}catch(t){return a.error(t),d.SLo.ERROR}})}));var h=i(24244),E=i(84338),f=i(38977),A=i(87181);let S=l.V5.model("SonataState",{contextType:l.V5.maybeNull(l.V5.enumeration(Object.values(E.Ak))),contextId:l.V5.maybeNull(l.V5.string),entityMeta:l.V5.maybeNull(p),unloadedEntitiesData:l.V5.maybe(l.V5.array(v)),status:l.V5.enumeration(Object.values(n.Xz)),canMoveForward:l.V5.boolean,canMoveBackward:l.V5.boolean,canSpeed:l.V5.boolean,repeatMode:l.V5.enumeration(Object.values(A.zq)),canChangeRepeatMode:l.V5.boolean,volume:l.V5.maybe(l.V5.number),speed:l.V5.maybe(l.V5.number),canShuffle:l.V5.boolean,shuffle:l.V5.boolean,currentlyPlayingTrackIndex:l.V5.maybe(l.V5.number),quality:l.V5.enumeration(Object.values(f.nJ)),playlistFilter:l.V5.maybe(l.V5.string)}).views(t=>({get unloadedEntitiesDataFromModels(){return(0,h.ZN)(t.unloadedEntitiesData)},get isVibeContext(){return t.contextType===E.Ak.Vibe},get isGenerativeContext(){return t.contextType===E.Ak.Generative},get isPaused(){return t.status===n.Xz.PAUSED}})).actions(t=>({setContextId:e=>{t.contextId=String(e)},setContextType:e=>{t.contextType=e},setEntityMeta:e=>{e&&e.data.meta&&(t.entityMeta=m(e))},setUnloadedEntitiesData:e=>{e&&(t.unloadedEntitiesData=(0,l.pj)(e))},resetUnloadedEntitiesData:()=>{t.unloadedEntitiesData=void 0},setStatus:e=>{t.status=e},setCanMoveForward:e=>{t.canMoveForward=e},setCanMoveBackward:e=>{t.canMoveBackward=e},setVolume:e=>{t.volume=e},setCanSpeed:e=>{t.canSpeed=e},setSpeed:e=>{t.speed=e},setRepeatMode:e=>{t.repeatMode=e},setCanChangeRepeatMode:e=>{t.canChangeRepeatMode=e},setCanShuffle:e=>{t.canShuffle=e},setShuffle:e=>{t.shuffle=e},setCurrentlyPlayingTrackIndex:e=>{t.currentlyPlayingTrackIndex=e},setQuality:e=>{t.quality=e},setPlaylistFilter:e=>{t.playlistFilter=e}}));i(80128),i(18143);var G=i(99331),y=i(94975),V=i(84514)},67549:function(t,e,i){"use strict";i.d(e,{Xb:function(){return C.AlbumPage},Lf:function(){return I}});var n=i(42288),a=i(60991),l=i(31490),o=i(82857),r=i(70071),s=i(10064),u=i(75191),d=i(98456),m=i(76873),c=i(68133);let v=(t,e)=>t.map(t=>"".concat(t,":").concat(e));var g=i(55143);let b=t=>({type:d.lf.TEXT,data:t||null}),p=t=>{var e;return(0,n.pj)({type:(null===(e=t.data)||void 0===e?void 0:e.type)||l.Vc.TRACK,id:t.id,data:t.data||null,loadingState:t.loadingState,position:t.position,isBest:t.isBest,positionInContext:t.positionInContext,hasEverFinished:t.hasEverFinished})},h=t=>"".concat(t,"-text"),E=t=>String(t),f=(t,e,i,n)=>{t.forEach(t=>{var a;if(null===(a=t.albums)||void 0===a?void 0:a[0]){let a=i.get(E(t.id));null==a||a.forEach(i=>{var a,l,o;let r=e[i];e[i]=p({id:t.id,loadingState:m.Gui.RESOLVE,positionInContext:null==r?void 0:r.positionInContext,data:(0,g.Vt)(t,{hasEverFinished:null==r?void 0:r.hasEverFinished}),position:null===(o=t.albums)||void 0===o?void 0:null===(l=o[0])||void 0===l?void 0:null===(a=l.trackPosition)||void 0===a?void 0:a.index,isBest:null==n?void 0:n.includes(Number(t.id)),hasEverFinished:null==r?void 0:r.hasEverFinished})});let l=i.get(h(t.id));null==l||l.forEach(i=>{var n,a,l;e[i]=b(null===(l=t.albums)||void 0===l?void 0:null===(a=l[0])||void 0===a?void 0:null===(n=a.trackPosition)||void 0===n?void 0:n.volume)})}})},A=(t,e,i)=>{let n=0;t.volumes.forEach(a=>{t.volumes.length>1&&a[0]&&(e.push(b()),i.set(h(a[0].id),[e.length-1])),a.forEach(t=>{e.push(p({id:t.id,loadingState:m.Gui.IDLE,positionInContext:n}));let a=i.get(String(t.id));i.set(E(t.id),a?[...a,e.length-1]:[e.length-1]),n++})})},S=t=>(0,n.pj)({id:t.id,type:t.type,title:t.title,albums:t.albums.map(r.ym)}),G=(t,e,i,n)=>{t.forEach(t=>{let a=i.get(String(t));null==a||a.forEach(i=>{var a,l;e[i]=p({id:t,loadingState:n,positionInContext:null===(a=e[i])||void 0===a?void 0:a.positionInContext,hasEverFinished:null===(l=e[i])||void 0===l?void 0:l.hasEverFinished})})})},y=n.V5.model("AlbumDonations",{loadingState:n.V5.enumeration(Object.values(m.Gui)),items:n.V5.maybeNull(n.V5.array(s.Ew))}),V=n.V5.model("LabelItem",{id:n.V5.number,name:n.V5.string}),N=n.V5.model("RelatedAlbumsPage",{loadingState:n.V5.enumeration(Object.values(m.Gui)),items:n.V5.array(r.ug)}),x=n.V5.model("RelatedContent",{loadingState:n.V5.enumeration(Object.values(m.Gui)),items:n.V5.maybeNull(n.V5.array(o.fd))}),I=n.V5.compose(n.V5.model("AlbumPage",{id:n.V5.maybeNull(n.V5.number),meta:n.V5.maybeNull(r.ug),items:n.V5.array(o.JP),indexItems:n.V5.map(n.V5.array(n.V5.number)),loadingState:n.V5.enumeration(Object.values(m.Gui)),errorStatusCode:n.V5.maybeNull(n.V5.number),deprecationTargetAlbumId:n.V5.maybeNull(n.V5.number),latestGenreAlbums:N,otherArtistAlbums:N,otherAlbumVersions:n.V5.array(r.ug),labels:n.V5.maybeNull(n.V5.array(V)),description:n.V5.maybe(n.V5.string),donations:y,relatedContent:x,allTracksUnfinished:n.V5.boolean}),c.ie).views(t=>({get isNonMusicType(){var e;if(null===(e=t.meta)||void 0===e?void 0:e.type)return[l.VZ.PODCAST,l.VZ.AUDIOBOOK].includes(t.meta.type);return!1},get isOtherArtistAlbumsAvailable(){var i,n,o,r;return!!(!this.isNonMusicType&&(null===(n=t.meta)||void 0===n?void 0:null===(i=n.artists)||void 0===i?void 0:i.length)===1&&!(null===(r=t.meta)||void 0===r?void 0:null===(o=r.artists[0])||void 0===o?void 0:o.various))},get isLatestGenreAlbumsAvailable(){var s;return!!(!this.isNonMusicType&&(null===(s=t.meta)||void 0===s?void 0:s.genre))},get isNotFound(){return t.loadingState===m.Gui.REJECT&&t.errorStatusCode===a.CN.NOT_FOUND},get isRejected(){return t.loadingState===m.Gui.REJECT},get hasOtherAlbumVersions(){return!!(t.loadingState===m.Gui.IDLE||t.loadingState===m.Gui.PENDING||t.otherAlbumVersions&&t.otherAlbumVersions.length>0)},get hasLatestGenreAlbums(){return!!(t.latestGenreAlbums.loadingState===m.Gui.IDLE||t.latestGenreAlbums.loadingState===m.Gui.PENDING||t.latestGenreAlbums.items&&t.latestGenreAlbums.items.length>0)},get hasOtherArtistAlbums(){return!!(t.otherArtistAlbums.loadingState===m.Gui.IDLE||t.otherArtistAlbums.loadingState===m.Gui.PENDING||t.otherArtistAlbums.items&&t.otherArtistAlbums.items.length>0)},get isLoading(){return t.loadingState===m.Gui.IDLE||t.loadingState===m.Gui.PENDING},get isLoaded(){return t.loadingState===m.Gui.RESOLVE},get isLatestGenreAlbumsLoading(){return t.latestGenreAlbums.loadingState===m.Gui.IDLE||t.latestGenreAlbums.loadingState===m.Gui.PENDING},get isOtherArtistAlbumsLoading(){return t.otherArtistAlbums.loadingState===m.Gui.IDLE||t.otherArtistAlbums.loadingState===m.Gui.PENDING},get isRelatedContentLoading(){return t.relatedContent.loadingState===m.Gui.IDLE||t.relatedContent.loadingState===m.Gui.PENDING},get contextMeta(){var u,c,v,g,b,p,h,E,f,A;return{id:t.meta.id,title:null===(u=t.meta)||void 0===u?void 0:u.title,coverUri:null===(c=t.meta)||void 0===c?void 0:c.coverUri,type:null===(v=t.meta)||void 0===v?void 0:v.type,year:null===(g=t.meta)||void 0===g?void 0:g.year,version:null===(b=t.meta)||void 0===b?void 0:b.version,contentWarning:null===(p=t.meta)||void 0===p?void 0:p.contentWarning,genre:null===(h=t.meta)||void 0===h?void 0:h.genre,likesCount:null===(E=t.meta)||void 0===E?void 0:E.likesCount,averageColor:null===(f=t.meta)||void 0===f?void 0:f.averageColor,available:null===(A=t.meta)||void 0===A?void 0:A.isAvailable}},get lastEpisodes(){return t.items.filter(t=>t.type!==d.lf.TEXT).slice(0,5).map(t=>t)},get lastEpisodesTrackIds(){return this.lastEpisodes.map(t=>t.id)}})).actions(t=>{let e={setAlbumUnfinished:()=>{var i;e.markUnfinished({albumId:t.id||0}),null===(i=t.meta)||void 0===i||i.updateFinished(!1)},setAllTracksUnfinished:e=>{t.allTracksUnfinished=e},checkAllAlbumTrackFinished:()=>{var i,n;t.items.filter(t=>{let{type:e,data:i}=t;return i&&e!==d.lf.TEXT}).every(t=>{var e;let{data:i}=t;return null==i?void 0:null===(e=i.streamProgress)||void 0===e?void 0:e.hasEverFinished})&&((null===(i=t.meta)||void 0===i?void 0:i.listeningFinished)||(e.markFinished({albumId:Number(t.id)}),null===(n=t.meta)||void 0===n||n.updateFinished(!0)))},markTracksFinished:e=>{let{withoutTracks:i=[]}=e;t.items.forEach(t=>{if(t.type===d.lf.TEXT)return;let{data:e}=t;if(!(e&&i.includes(e.id))){if(e){var n;null===(n=e.streamProgress)||void 0===n||n.updateEverFinished(!0)}else t.updateEverFinished(!0)}})},markFinished:(0,n.ls)(function*(e){let{streamsResource:i,modelActionsLogger:a}=(0,n.dU)(t);try{return yield i.markAlbumFinished(e)}catch(t){return a.error(t),l.PE.ERROR}}),markUnfinished:(0,n.ls)(function*(e){let{streamsResource:i,modelActionsLogger:a}=(0,n.dU)(t);try{return yield i.markAlbumUnfinished(e)}catch(t){return a.error(t),l.PE.ERROR}}),getLatestGenreAlbums:(0,n.ls)(function*(e){let{topResource:i,modelActionsLogger:a}=(0,n.dU)(t);if(t.latestGenreAlbums.loadingState!==m.Gui.PENDING)try{t.latestGenreAlbums.loadingState=m.Gui.PENDING;let a=yield i.getTopByGenre(e);t.latestGenreAlbums.items=(0,n.pj)(a.albums.map(r.ym)),t.latestGenreAlbums.loadingState=m.Gui.RESOLVE}catch(e){a.error(e),t.latestGenreAlbums.loadingState=m.Gui.REJECT}}),getOtherArtistAlbums:(0,n.ls)(function*(e,i){let{artistsResource:a,modelActionsLogger:l}=(0,n.dU)(t);if(t.otherArtistAlbums.loadingState!==m.Gui.PENDING)try{if(!e.artistId){t.otherArtistAlbums.loadingState=m.Gui.REJECT;return}t.otherArtistAlbums.loadingState=m.Gui.PENDING;let l=yield a.getSafeDirectAlbums({...e,artistId:e.artistId});t.otherArtistAlbums.items=(0,n.pj)(l.albums.filter(t=>String(t.id)!==String(i)).map(r.ym)),t.otherArtistAlbums.loadingState=m.Gui.RESOLVE}catch(e){l.error(e),t.otherArtistAlbums.loadingState=m.Gui.REJECT}}),getTracks:(0,n.ls)(function*(e){let{trackIds:i}=e,{tracksResource:a,modelActionsLogger:l}=(0,n.dU)(t);try{var o;if(!(null===(o=t.meta)||void 0===o?void 0:o.id))return;G(i,t.items,t.indexItems,m.Gui.PENDING);let e=yield a.getTracksMeta({trackIds:v(i,t.meta.id),withProgress:!0});f(e,t.items,t.indexItems,t.meta.bestAlbumTracks)}catch(e){l.error(e),G(i,t.items,t.indexItems,m.Gui.REJECT)}}),getDonations:(0,n.ls)(function*(e){let{albumId:i}=e,{experiments:a}=(0,n.yj)(t),{donationResource:l,modelActionsLogger:o}=(0,n.dU)(t);if(a.checkExperiment(m.peG.WebNextAlbumDonateChooserButton,"on")&&t.donations.loadingState!==m.Gui.PENDING)try{t.donations.loadingState=m.Gui.PENDING;let{donations:e}=yield l.getAlbumDonations({albumId:i});e&&(t.donations.items=(0,n.pj)(e.map(s.fv))),t.donations.loadingState=m.Gui.RESOLVE}catch(e){o.error(e),t.donations.loadingState=m.Gui.REJECT}}),getData:(0,n.ls)(function*(i){let{albumId:o,resumeStream:s,preloadedAlbum:d}=i,{albumResource:c,modelActionsLogger:v}=(0,n.dU)(t),{experiments:g,disclaimer:b}=(0,n.yj)(t),p=g.checkExperiment(m.peG.WebNextAlbumDisableVersions,"on"),h=g.checkExperiment(m.peG.WebNextAlbumDisableTracks,"on"),E=g.checkExperiment(m.peG.WebNextAlbumDisableLatestGenreAlbums,"on"),f=g.checkExperiment(m.peG.WebNextAlbumDisableOtherArtistAlbums,"on"),S=g.checkExperiment(m.peG.WebNextLegalRejectAlbum,"on"),G=g.checkExperiment(m.peG.WebNextAgentPodcast,"on");if(t.id=o,t.loadingState!==m.Gui.PENDING)try{var y,V,N,x,I;let i,v;t.loadingState=m.Gui.PENDING;let g=d;if(g||(g=yield c.getAlbumWithTracksIds({albumId:o,resumeStream:s})),(null==g?void 0:g.error)==="not-found"){t.errorStatusCode=a.CN.NOT_FOUND,t.loadingState=m.Gui.REJECT,t.otherArtistAlbums.loadingState=m.Gui.REJECT,t.latestGenreAlbums.loadingState=m.Gui.REJECT;return}if(null===(y=g.deprecation)||void 0===y?void 0:y.targetAlbumId){t.deprecationTargetAlbumId=g.deprecation.targetAlbumId,t.loadingState=m.Gui.RESOLVE;return}let C=(null!==(V=g.disclaimers)&&void 0!==V?V:[]).includes(l.em.MODAL),k=g.type===l.VZ.PODCAST&&(null!==(N=g.disclaimers)&&void 0!==N?N:[]).includes(l.em.FOREIGN_AGENT);(C&&S||G&&k)&&(yield b.getAlbumDisclaimer({albumId:o}));let{sonataState:D}=(0,n.yj)(t);if(D.setUnloadedEntitiesData(g.volumes.flat().map(t=>(0,u.RN)(t.id))),t.meta=(0,r.ym)(g),t.labels=(0,n.pj)(g.labels),t.contentWarning=(0,n.pj)(g.contentWarning),t.description=(0,n.pj)(g.description),!p&&g.duplicates&&g.duplicates.length>0&&(t.otherAlbumVersions=(0,n.pj)(null===(x=g.duplicates)||void 0===x?void 0:x.map(r.ym))),!h){A(g,t.items,t.indexItems);let i=[];for(let e=0;e<10;e++){let n=t.items[e];(null==n?void 0:n.type)===l.Vc.TRACK&&i.push(String(n.id))}yield e.getTracks({trackIds:i})}!E&&t.isLatestGenreAlbumsAvailable?i=e.getLatestGenreAlbums({category:l.mk.RECENT_ALBUMS,period:l.pH.WEEK,pageSize:8,genre:g.genre}):t.latestGenreAlbums.loadingState=m.Gui.RESOLVE,!f&&t.isOtherArtistAlbumsAvailable?v=e.getOtherArtistAlbums({artistId:String(null===(I=g.artists[0])||void 0===I?void 0:I.id),limit:8},o):t.otherArtistAlbums.loadingState=m.Gui.RESOLVE,yield Promise.allSettled([i,v]),t.loadingState!==m.Gui.IDLE&&(t.loadingState=m.Gui.RESOLVE)}catch(e){v.error(e),e instanceof a.du&&(e.statusCode===a.CN.NOT_FOUND||e.statusCode===a.CN.BAD_REQUEST)&&(t.errorStatusCode=a.CN.NOT_FOUND),t.loadingState!==m.Gui.IDLE&&(t.loadingState=m.Gui.REJECT,t.otherArtistAlbums.loadingState=m.Gui.REJECT,t.latestGenreAlbums.loadingState=m.Gui.REJECT)}}),loadLastEpisodes(){e.getTracks({trackIds:t.lastEpisodesTrackIds})},getRelatedContent:(0,n.ls)(function*(){let{albumResource:e,modelActionsLogger:i}=(0,n.dU)(t);if(t.relatedContent.loadingState!==m.Gui.PENDING)try{var a,l;if(!(null===(a=t.meta)||void 0===a?void 0:a.id))return;t.relatedContent.loadingState=m.Gui.PENDING;let i=yield e.getRelatedContent({albumId:t.meta.id});t.relatedContent.items=(0,n.pj)(null===(l=i.blocks)||void 0===l?void 0:l.map(S)),t.relatedContent.loadingState=m.Gui.RESOLVE}catch(e){i.error(e),t.relatedContent.loadingState=m.Gui.REJECT}}),reset(){let{sonataState:e}=(0,n.yj)(t);e.resetUnloadedEntitiesData(),t.id=null,t.meta=null,t.errorStatusCode=null,t.deprecationTargetAlbumId=null,t.items=(0,n.pj)([]),t.indexItems.clear(),t.loadingState=m.Gui.IDLE,t.donations.loadingState=m.Gui.IDLE,t.donations.items=null,t.latestGenreAlbums.loadingState=m.Gui.IDLE,t.latestGenreAlbums.items=(0,n.pj)([]),t.otherArtistAlbums.loadingState=m.Gui.IDLE,t.otherArtistAlbums.items=(0,n.pj)([]),t.otherAlbumVersions=(0,n.pj)([]),t.description="",t.labels=null,t.relatedContent.loadingState=m.Gui.IDLE,t.relatedContent.items=null,t.allTracksUnfinished=!1}};return e});i(74488);var C=i(93289);i(31674)},68106:function(t,e,i){"use strict";i.d(e,{D:function(){return n.SomethingWentWrong}});var n=i(18723)},18723:function(t,e,i){"use strict";i.d(e,{SomethingWentWrong:function(){return b}});var n=i(9753),a=i(60836),l=i(9544),o=i(98639),r=i(31014),s=i(39513),u=i(28852),d=i(2570),m=i(76873),c=i(3084),v=i(88178),g=i.n(v);let b=(0,l.Pi)(t=>{let{className:e,withBackwardControl:i=!0}=t,l=(0,o.useCallback)(()=>{window.location.href="/"},[]),{contentRef:v}=(0,m.$Y6)();return(0,n.jsxs)("div",{className:(0,a.W)(g().root,e),children:[i&&(0,n.jsx)(c.nP,{withBackwardFallback:"/",className:(0,a.W)(g().navigation,{[g().navigation_desktop]:!v}),withForwardControl:!1}),(0,n.jsxs)("div",{className:(0,a.W)(g().content,{[g().content_shrink]:!i}),children:[(0,n.jsx)(u.Icon,{className:g().icon,variant:"attention",size:"xxl"}),(0,n.jsx)(d.Heading,{className:(0,a.W)(g().title,g().important),variant:"h3",size:"xs",children:(0,n.jsx)(r.Z,{id:"error-messages.something-went-wrong"})}),(0,n.jsxs)(d.Caption,{className:(0,a.W)(g().text,g().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,n.jsx)(r.Z,{id:"page-error.try-to-restart-app"})]}),(0,n.jsx)(s.z,{onClick:l,className:g().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsxs)(d.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,n.jsx)(r.Z,{id:"page-error.restart-app-button"})]})})]})]})})},35131:function(t){t.exports={root:"DonationButton_root__SEKMn",popover:"DonationButton_popover__p_W9s"}},69590:function(t){t.exports={root:"DonationMenuItem_root__rsLgl",cover:"DonationMenuItem_cover__tzmM6",image:"DonationMenuItem_image__EgeO1"}},88178:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}},78594:function(t,e){"use strict";e.Z=function(t){return void 0===t}}},function(t){t.O(0,[6020,2725,2365,5963,8981,589,4043,9392,616,2498,5453,7873,2330,3617,9448,3084,4702,4514,2890,71,5143,6685,3059,3193,2171,361,1744],function(){return t(t.s=49544)}),_N_E=t.O()}]);