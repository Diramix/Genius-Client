(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{3583:function(t,e,a){Promise.resolve().then(a.bind(a,17444))},17444:function(t,e,a){"use strict";a.r(e);var n=a(9753),o=a(74717),i=a(20070);e.default=()=>{let t=(0,o.useSearchParams)().get("tagId");return t||(0,o.notFound)(),(0,n.jsx)(i.uj,{tagId:t})}},60424:function(t,e,a){"use strict";a.d(e,{I7:function(){return c},b4:function(){return g},at:function(){return i}}),a(66414);var n=a(98639),o=a(76873);let i=(t,e)=>((0,o.uK4)().get(o.Xt8),[(0,n.useMemo)(()=>{if(void 0===e)return{};let a=e-17;return{"--average-color-background":t,transform:"translateY(".concat(e>=17?0:a,"px)"),opacity:1}},[e,!1,t]),(0,n.useMemo)(()=>({"--average-color-background":t}),[t])]);var s=a(9753),l=a(9544),r=a(22890),u=a(3084);let d=t=>{let{element:e,scrollTop:a,isMobile:n}=t,o=.4*e.clientHeight;return a+(n?56:72)>=e.offsetTop+o},c=(0,l.Pi)(t=>{let{children:e,scrollElement:a,outerTitle:i="",headerElement:l,headerThreshold:c}=t,[g,p]=(0,n.useState)(i),[_,m]=(0,n.useState)(null),[N,v]=(0,n.useState)(!1),[h,y]=(0,n.useState)(!1),{settings:x}=(0,o.oR4)(),f=x.layout===o.t8m.Mobile;(0,n.useLayoutEffect)(()=>{p(i)},[i]);let S=(0,n.useCallback)(()=>{if(!a)return;let t=null!=c?c:10,e=l?Number(l.offsetTop)-t:t;e<0&&(e=0),y(a.scrollTop>e),(null==_?void 0:_.current)&&v(d({element:null==_?void 0:_.current,scrollTop:a.scrollTop,isMobile:f}))},[a,c,l,_,f]);(0,n.useEffect)(()=>{a&&(null==a?void 0:a.scrollTop)!==0||y(!1)},[a,null==a?void 0:a.scrollTop]),(0,r.v)({onScroll:S,elementRef:a});let C=(0,n.useMemo)(()=>({title:g,setTitle:p,titleElement:_,scrollElement:a,setTitleElement:m,isScrolledTitle:N,isScrolling:h}),[g,N,_,a,h]);return(0,s.jsx)(u.pI.Provider,{value:C,children:e})}),g=t=>{let{children:e,title:a,className:o}=t,{setTitleElement:i,setTitle:l}=(0,n.useContext)(u.pI),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(null==r?void 0:r.current)&&i(r),a&&l(a)},[r,a,i,l]),(0,n.useEffect)(()=>()=>{l("")},[l]),(0,s.jsx)("div",{ref:r,className:o,children:e})}},20070:function(t,e,a){"use strict";a.d(e,{uj:function(){return u.TagPage},tS:function(){return r}});var n=a(42288),o=a(60991),i=a(10668),s=a(76873),l=a(68133);let r=n.V5.model("TagPage",{title:n.V5.maybe(n.V5.string),errorStatusCode:n.V5.maybeNull(n.V5.number),tagLoadingState:n.V5.enumeration(Object.values(s.Gui)),playlistsLoadingState:n.V5.enumeration(Object.values(s.Gui)),playlistsData:n.V5.array(n.V5.model({uid:n.V5.number,kind:n.V5.number})),playlists:n.V5.array(n.V5.maybeNull(i.Cd)),pager:n.V5.maybeNull(l.Vn),alreadyRequestedPages:n.V5.map(n.V5.number),pendingPages:n.V5.map(n.V5.number),requests:n.V5.maybeNull(n.V5.number)}).views(t=>({get isNotFound(){let e=t.playlistsLoadingState===s.Gui.RESOLVE&&0===t.playlists.length;return(t.tagLoadingState===s.Gui.REJECT||t.playlistsLoadingState===s.Gui.REJECT)&&(t.errorStatusCode===o.CN.NOT_FOUND||t.errorStatusCode===o.CN.BAD_REQUEST)||e}})).actions(t=>{let e={getPlaylists:(0,n.ls)(function*(e){let{page:a=0,pageSize:l=20}=e,{playlistsResource:r,modelActionsLogger:u}=(0,n.dU)(t);if(!(t.tagLoadingState!==s.Gui.RESOLVE||t.playlistsLoadingState===s.Gui.PENDING&&t.pendingPages.has("".concat(a))||t.alreadyRequestedPages.has("".concat(a)))){t.alreadyRequestedPages.set("".concat(a),a);try{var d;t.playlistsLoadingState=s.Gui.PENDING,t.pendingPages.set("".concat(a),a);let e=a*l,o=t.playlistsData.slice(e,e+l),u=yield r.getPlaylists({playlistIds:o.map(t=>"".concat(t.uid,":").concat(t.kind)),resumeStream:!1});t.requests=(null!==(d=t.requests)&&void 0!==d?d:0)+1;let c={page:a,perPage:l,total:t.playlistsData.length};0===t.playlists.length&&(t.playlists=(0,n.pj)(Array.from({length:c.total},()=>null)));let g=u.playlists.map(i.PV);(0,s.AG_)({items:t.playlists,mappedRawItems:g,page:a,pageSize:l}),t.pager=c,t.playlistsLoadingState!==s.Gui.IDLE&&(t.playlistsLoadingState=s.Gui.RESOLVE)}catch(e){u.error(e),e instanceof o.du&&(e.statusCode===o.CN.NOT_FOUND||e.statusCode===o.CN.BAD_REQUEST)&&(t.errorStatusCode=o.CN.NOT_FOUND),t.playlistsLoadingState!==s.Gui.IDLE&&(t.playlistsLoadingState=s.Gui.REJECT)}finally{t.pendingPages.delete("".concat(a))}}}),reset(){t.tagLoadingState=s.Gui.IDLE,t.playlistsLoadingState=s.Gui.IDLE,t.alreadyRequestedPages.clear(),t.pendingPages.clear(),t.title=void 0,t.playlistsData=(0,n.pj)([]),t.playlists=(0,n.pj)([]),t.errorStatusCode=null},getTag:(0,n.ls)(function*(a){let{id:i,page:l=0,pageSize:r=20}=a,{tagResource:u,modelActionsLogger:d}=(0,n.dU)(t);if(t.tagLoadingState!==s.Gui.PENDING)try{var c;t.tagLoadingState=s.Gui.PENDING;let a=yield u.getPlaylistIds({id:i});t.title=null===(c=a.tag)||void 0===c?void 0:c.name,t.playlistsData=(0,n.pj)(a.ids.map(t=>({uid:t.uid,kind:t.kind}))),t.tagLoadingState!==s.Gui.IDLE&&(t.tagLoadingState=s.Gui.RESOLVE),yield e.getPlaylists({page:l,pageSize:r})}catch(e){d.error(e),e instanceof o.du&&(e.statusCode===o.CN.NOT_FOUND||e.statusCode===o.CN.BAD_REQUEST)&&(t.errorStatusCode=o.CN.NOT_FOUND),t.tagLoadingState!==s.Gui.IDLE&&(t.tagLoadingState=s.Gui.REJECT)}})};return e});a(29223);var u=a(42751)},29223:function(t,e,a){"use strict";a.d(e,{TagNotFoundPage:function(){return s}});var n=a(9753),o=a(9544),i=a(23948);let s=(0,o.Pi)(()=>(0,n.jsx)(i.T,{}))},42751:function(t,e,a){"use strict";a.d(e,{TagPage:function(){return v}});var n=a(9753),o=a(60836),i=a(9544),s=a(74717),l=a(98639),r=a(80542),u=a(2570),d=a(68106),c=a(60424),g=a(73276),p=a(76873),_=a(3084),m=a(91631),N=a.n(m);let v=(0,i.Pi)(t=>{var e,a,i;let{tagId:m}=t,{tag:v}=(0,p.oR4)(),{formatMessage:h}=(0,r.Z)(),{contentScrollRef:y,setContentScrollRef:x}=(0,p.$Y6)(),f=(0,p.k67)();m||(0,s.notFound)();let S=(0,l.useCallback)(t=>{v.getPlaylists({page:t,pageSize:20})},[v]);v.tagLoadingState===p.Gui.IDLE&&(0,l.use)(v.getTag({id:m,page:0,pageSize:20})),v.isNotFound&&(0,s.notFound)(),(0,l.useEffect)(()=>()=>{v.reset()},[v]);let C=(0,l.useMemo)(()=>({Footer:()=>(0,n.jsx)(_.$_,{className:N().footer})}),[]);return((0,p.NOh)(v.tagLoadingState===p.Gui.RESOLVE&&v.playlistsLoadingState===p.Gui.RESOLVE),v.tagLoadingState!==p.Gui.REJECT&&v.playlistsLoadingState!==p.Gui.REJECT||v.isNotFound)?(0,n.jsx)(p.Lh6,{pageId:p.Rhz.TAG,children:(0,n.jsx)(c.I7,{scrollElement:y,outerTitle:v.title,children:(0,n.jsxs)("div",{className:N().root,children:[(0,n.jsx)(_.h4,{variant:"text",withForwardControl:!1,withBackwardControl:f.canBack,children:(0,n.jsx)(u.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:v.title})}),(0,n.jsx)(_.Wv,{className:(0,o.W)(N().scrollContainer,N().important),customComponents:C,itemContentCallback:t=>{var e;let a=null==v?void 0:null===(e=v.playlists)||void 0===e?void 0:e[t],o=h({id:"loading-messages.entity-is-loading"},{entityName:h({id:"entity-names.playlist"})});return a?(0,n.jsx)(g.ZL,{playlist:a,contentLinesCount:3},a.key):(0,n.jsx)(_.hi,{"aria-label":o})},totalCount:null!==(a=null==v?void 0:null===(e=v.pager)||void 0===e?void 0:e.total)&&void 0!==a?a:0,onGetDataByPage:S,pageSize:20,totalRequests:null!==(i=v.requests)&&void 0!==i?i:0,listClassName:N().content,itemClassName:N().item,handleRef:x,context:{listAriaLabel:h({id:"mixes.albums-list"},{genreName:v.title||""})}})]})})}):(0,n.jsx)(d.D,{})})},23948:function(t,e,a){"use strict";a.d(e,{T:function(){return n.NotFound}});var n=a(8964)},8964:function(t,e,a){"use strict";a.d(e,{NotFound:function(){return _}});var n=a(9753),o=a(60836),i=a(9544),s=a(31014),l=a(39513),r=a(28852),u=a(2570),d=a(76873),c=a(3084),g=a(23067),p=a.n(g);let _=(0,i.Pi)(t=>{let{className:e}=t,{contentRef:a}=(0,d.$Y6)(),i=(0,d.s0h)("/");return(0,d.ZP4)(!0),(0,n.jsxs)("div",{className:(0,o.W)(p().root,{[p().root_desktop]:!a},e),children:[(0,n.jsx)(c.nP,{withBackwardFallback:"/",className:p().navigation,withForwardControl:!1}),(0,n.jsxs)("div",{className:p().content,children:[(0,n.jsx)(r.Icon,{className:p().icon,variant:"musicLogo",size:"xxl"}),(0,n.jsx)(u.Heading,{className:(0,o.W)(p().title,p().important),variant:"h3",size:"xs",children:(0,n.jsx)(s.Z,{id:"page-error.page-does-not-exist"})}),(0,n.jsx)(u.Caption,{className:(0,o.W)(p().text,p().important),variant:"span",type:"text",size:"l",weight:"normal",children:(0,n.jsx)(s.Z,{id:"page-error.page-does-not-exist-description"})}),(0,n.jsx)(l.z,{onClick:i,className:p().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsx)(u.Caption,{type:"controls",variant:"span",size:"m",children:(0,n.jsx)(s.Z,{id:"navigation.page-main"})})})]})]})})},68106:function(t,e,a){"use strict";a.d(e,{D:function(){return n.SomethingWentWrong}});var n=a(18723)},18723:function(t,e,a){"use strict";a.d(e,{SomethingWentWrong:function(){return m}});var n=a(9753),o=a(60836),i=a(9544),s=a(98639),l=a(31014),r=a(39513),u=a(28852),d=a(2570),c=a(76873),g=a(3084),p=a(88178),_=a.n(p);let m=(0,i.Pi)(t=>{let{className:e,withBackwardControl:a=!0}=t,i=(0,s.useCallback)(()=>{window.location.href="/"},[]),{contentRef:p}=(0,c.$Y6)();return(0,n.jsxs)("div",{className:(0,o.W)(_().root,e),children:[a&&(0,n.jsx)(g.nP,{withBackwardFallback:"/",className:(0,o.W)(_().navigation,{[_().navigation_desktop]:!p}),withForwardControl:!1}),(0,n.jsxs)("div",{className:(0,o.W)(_().content,{[_().content_shrink]:!a}),children:[(0,n.jsx)(u.Icon,{className:_().icon,variant:"attention",size:"xxl"}),(0,n.jsx)(d.Heading,{className:(0,o.W)(_().title,_().important),variant:"h3",size:"xs",children:(0,n.jsx)(l.Z,{id:"error-messages.something-went-wrong"})}),(0,n.jsxs)(d.Caption,{className:(0,o.W)(_().text,_().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,n.jsx)(l.Z,{id:"page-error.try-to-restart-app"})]}),(0,n.jsx)(r.z,{onClick:i,className:_().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsxs)(d.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,n.jsx)(l.Z,{id:"page-error.restart-app-button"})]})})]})]})})},91631:function(t){t.exports={root:"TagPage_root__EWN9A",scrollContainer:"TagPage_scrollContainer__lvG_1",important:"TagPage_important__Jq37E",content:"TagPage_content__rUC_l",footer:"TagPage_footer__W0mZr",item:"TagPage_item__X_lW7"}},23067:function(t){t.exports={root:"NotFound_root__47ZX6",root_desktop:"NotFound_root_desktop___QqSb",navigation:"NotFound_navigation__q8rIW",content:"NotFound_content__3kry_",icon:"NotFound_icon___Wa9y",title:"NotFound_title__akG_o",important:"NotFound_important__z1LWl",text:"NotFound_text__oxDZv",button:"NotFound_button__jF4uH"}},88178:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}},function(t){t.O(0,[6020,2725,2365,589,5963,2183,616,2498,5453,7873,3617,3084,4702,4514,2890,3276,2171,361,1744],function(){return t(t.s=3583)}),_N_E=t.O()}]);