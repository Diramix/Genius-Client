"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5414],{24980:function(t,e,a){a.d(e,{s$:function(){return N},$Z:function(){return y.RepeatButton},P4:function(){return G.ShuffleButton},WP:function(){return D.SonataControls},ps:function(){return V},NI:function(){return h.SonataVideoControls},jN:function(){return m},RN:function(){return l},B5:function(){return c}});var i=a(37460);let l=(t,e)=>({type:i.RX.Unloaded,meta:{id:t,albumId:e}});var r=a(97898),n=a(48223),o=a(43683),s=a(11232),u=a(44022),d=a(20794);let c=t=>{var e,a,l;switch(t.data.type){case n.A.Generative:{let a=t.data.meta,i=(0,d.Usz)(null==a?void 0:a.derivedColors);return(0,r.pj)({id:String(a.id),coverUri:a.imageUrl,title:null!==(e=a.title)&&void 0!==e?e:"",isAvailable:!0,isRemoved:!1,averageColor:i})}case i.RX.Unloaded:return null;default:{let e=t.data.meta,i=null===(a=e.artists)||void 0===a?void 0:a.map(s.d),n=null===(l=e.albums)||void 0===l?void 0:l.map(o.N);return(0,r.pj)({...(0,u.Ni)(e),artists:i,albums:n})}}},g=r.V5.model("UnloadedEntityMeta",{id:r.V5.union(r.V5.number,r.V5.string),albumId:r.V5.maybe(r.V5.union(r.V5.number,r.V5.string))}),m=r.V5.model("UnloadedEntityData",{meta:g,type:r.V5.literal(i.RX.Unloaded)});var p=a(62812),v=a(6609);let N=u.yp.props({artists:r.V5.array(s.Go),albums:r.V5.array(o.KX),chart:r.V5.maybe(v.BH)}).views(t=>({get idWithContext(){return t.albumId?"".concat(t.id,":").concat(t.albumId):t.id},get artistsNames(){var e;return null===(e=t.artists)||void 0===e?void 0:e.map(t=>t.name).join(", ")},get mainArtist(){var a,i;return null!==(i=null===(a=t.artists)||void 0===a?void 0:a[0])&&void 0!==i?i:null},get mainAlbum(){var l,r;return null!==(r=null===(l=t.albums)||void 0===l?void 0:l[0])&&void 0!==r?r:null},get index(){var n,o,s;return null!==(s=null===(o=t.albums[0])||void 0===o?void 0:null===(n=o.trackPosition)||void 0===n?void 0:n.index)&&void 0!==s?s:null},get isPodcast(){var u;return t.isTrackPodcast||(null===(u=this.mainAlbum)||void 0===u?void 0:u.isPodcast)},get isAudiobook(){return t.type===p.V.AUDIOBOOK},get isNonMusic(){return this.isPodcast||this.isAudiobook},get isAvailableOnlyForPlus(){var d;return!!(null===(d=this.mainAlbum)||void 0===d?void 0:d.isAvailableOnlyForPlus)}})).actions(t=>({changeTrackInfo:(0,r.ls)(function*(e,a){let{ugcResource:i,modelActionsLogger:l}=(0,r.dU)(t);if(t.artists.map(t=>t.name).join(", ")===a&&e===t.title)return d.SLo.OK;try{var n;yield i.changeTrack({trackId:t.id,title:e,artist:a}),t.title=e;let l=(null===(n=t.artists[0])||void 0===n?void 0:n.id)||"0";if(t.artists=(0,r.pj)([]),a){let e=s.Go.create({id:l,name:a,isAvailable:!0});t.artists=(0,r.pj)([e])}return d.SLo.OK}catch(t){return l.error(t),d.SLo.ERROR}})}));var S=a(10576),E=a(20062),b=a(32945),C=a(53912);let V=r.V5.model("SonataState",{contextType:r.V5.maybeNull(r.V5.enumeration(Object.values(E.A))),contextId:r.V5.maybeNull(r.V5.string),entityMeta:r.V5.maybeNull(N),unloadedEntitiesData:r.V5.maybe(r.V5.array(m)),status:r.V5.enumeration(Object.values(i.Xz)),canMoveForward:r.V5.boolean,canMoveBackward:r.V5.boolean,canSpeed:r.V5.boolean,repeatMode:r.V5.enumeration(Object.values(C.zq)),canChangeRepeatMode:r.V5.boolean,volume:r.V5.maybe(r.V5.number),speed:r.V5.maybe(r.V5.number),canShuffle:r.V5.boolean,shuffle:r.V5.boolean,currentlyPlayingTrackIndex:r.V5.maybe(r.V5.number),quality:r.V5.enumeration(Object.values(b.n)),playlistFilter:r.V5.maybe(r.V5.string)}).views(t=>({get unloadedEntitiesDataFromModels(){return(0,S.ZN)(t.unloadedEntitiesData)},get isVibeContext(){return t.contextType===E.A.Vibe},get isGenerativeContext(){return t.contextType===E.A.Generative},get isPaused(){return t.status===i.Xz.PAUSED}})).actions(t=>({setContextId:e=>{t.contextId=String(e)},setContextType:e=>{t.contextType=e},setEntityMeta:e=>{e&&e.data.meta&&(t.entityMeta=c(e))},setUnloadedEntitiesData:e=>{e&&(t.unloadedEntitiesData=(0,r.pj)(e))},resetUnloadedEntitiesData:()=>{t.unloadedEntitiesData=void 0},setStatus:e=>{t.status=e},setCanMoveForward:e=>{t.canMoveForward=e},setCanMoveBackward:e=>{t.canMoveBackward=e},setVolume:e=>{t.volume=e},setCanSpeed:e=>{t.canSpeed=e},setSpeed:e=>{t.speed=e},setRepeatMode:e=>{t.repeatMode=e},setCanChangeRepeatMode:e=>{t.canChangeRepeatMode=e},setCanShuffle:e=>{t.canShuffle=e},setShuffle:e=>{t.shuffle=e},setCurrentlyPlayingTrackIndex:e=>{t.currentlyPlayingTrackIndex=e},setQuality:e=>{t.quality=e},setPlaylistFilter:e=>{t.playlistFilter=e}}));a(63901),a(94391);var y=a(16407),G=a(31669),D=a(4157),h=a(78898)},95414:function(t,e,a){a.d(e,{pr:function(){return L.ArtistAlbumsPage},MX:function(){return i.M},aG:function(){return P.ArtistConcertsPage},vQ:function(){return R.ArtistFamiliarPage},xA:function(){return j.ArtistPage},Od:function(){return O},x3:function(){return U.ArtistSimilarPage},hD:function(){return F.ArtistTracksPage}});var i=a(4834),l=a(20794),r=a(97898),n=a(23874),o=a(81337),s=a(13555),u=a(24136),d=a(70124),c=a(82621),g=a(54146),m=a(11232),p=a(42040);let v=(t,e)=>(0,r.pj)({artist:(0,m.d)(t),lastMonthListeners:null==e?void 0:e.lastMonthListeners});var N=a(39071);let S=t=>(0,r.pj)({clipId:t.clipId,title:t.title,thumbnail:t.thumbnail,previewUrl:t.previewUrl,duration:t.duration,artists:(t.artists||[]).map(t=>(0,m.tR)({artist:t})),contentWarning:t.explicit?N.F.EXPLICIT:void 0,...(0,l.NuW)(t)}),E=t=>{let e=t.artists.map(t=>(0,m.tR)({artist:t}));return(0,r.pj)({playlist:(0,c.RE)({playlist:t.playlist}),artists:e})};var b=a(15526);let C=r.V5.model("ArtistAlbumsPage",{loadingState:r.V5.enumeration(Object.values(l.Gui)),pager:r.V5.maybeNull(b.Vn),variant:r.V5.maybeNull(r.V5.enumeration(Object.values(i.M))),alreadyRequestedPages:r.V5.map(r.V5.number),pendingPages:r.V5.map(r.V5.number),requests:r.V5.maybeNull(r.V5.number),errorStatusCode:r.V5.maybeNull(r.V5.number),items:r.V5.array(r.V5.maybeNull(s.ug))}).views(t=>({get isNotFound(){var e;let a=t.loadingState===l.Gui.RESOLVE&&(null===(e=t.pager)||void 0===e?void 0:e.total)===0,i=t.errorStatusCode===n.CN.NOT_FOUND||t.errorStatusCode===n.CN.BAD_REQUEST;return t.loadingState===l.Gui.REJECT&&i||a}})).actions(t=>({setVariant:e=>{t.variant=e},getData:(0,r.ls)(function*(e){let{artistId:a,page:o=0,pageSize:u=20,sort:d}=e,{artistsResource:c,modelActionsLogger:g}=(0,r.dU)(t);if(!(t.loadingState===l.Gui.PENDING&&t.pendingPages.has("".concat(o))||t.alreadyRequestedPages.has("".concat(o)))){"number"==typeof o&&t.alreadyRequestedPages.set("".concat(o),o);try{var m;let e;t.loadingState=l.Gui.PENDING,t.pendingPages.set("".concat(o),o);let n={artistId:a,page:o,pageSize:u,sort:{sortBy:null==d?void 0:d.sortBy}};switch(t.variant){case i.M.COMPILATIONS:e=yield c.getAlsoAlbums(n);break;case i.M.DISCOGRAPHY:e=yield c.getDiscographyAlbums(n);break;default:e=yield c.getDirectAlbums(n)}let g={page:o,perPage:u,total:e.pager.total};0===t.items.length&&(t.items=(0,r.pj)(Array.from({length:g.total},()=>null)));let p=e.albums.map(s.ym);(0,l.AG_)({items:t.items,mappedRawItems:p,page:o,pageSize:u}),t.pager=g,t.requests=(null!==(m=t.requests)&&void 0!==m?m:0)+1,t.loadingState=l.Gui.RESOLVE}catch(e){g.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.REJECT)}finally{t.pendingPages.delete("".concat(o))}}}),reset(){t.loadingState=l.Gui.IDLE,t.pendingPages.clear(),t.pager=null,t.variant=null,t.alreadyRequestedPages.clear(),t.errorStatusCode=null,t.items=(0,r.pj)([])}})),V=r.V5.model("ArtistConcertsPage",{loadingState:r.V5.enumeration(Object.values(l.Gui)),errorStatusCode:r.V5.maybeNull(r.V5.number),concerts:r.V5.maybeNull(r.V5.array(p.Z))}).views(t=>({get isLoading(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING},get isNotFound(){var e;let a=t.loadingState===l.Gui.RESOLVE&&(null===(e=t.concerts)||void 0===e?void 0:e.length)===0,i=t.errorStatusCode===n.CN.NOT_FOUND||t.errorStatusCode===n.CN.BAD_REQUEST;return t.loadingState===l.Gui.REJECT&&i||a}})).actions(t=>({getData:(0,r.ls)(function*(e){let{artistId:a}=e,{artistsResource:i,modelActionsLogger:o}=(0,r.dU)(t);if(t.loadingState!==l.Gui.PENDING)try{t.loadingState=l.Gui.PENDING;let{concerts:e}=yield i.getConcerts({artistId:a});t.concerts=(0,r.pj)(e.map(p.zj)),t.loadingState=l.Gui.RESOLVE}catch(e){o.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.REJECT)}}),reset(){t.loadingState=l.Gui.IDLE,t.errorStatusCode=null,t.concerts=null}})),y=t=>(0,r.pj)({...(0,s.cO)({album:t,artists:t.artists}),version:t.version}),G=r.V5.model("ArtistFamiliarPage",{loadingState:r.V5.enumeration(Object.values(l.Gui)),errorStatusCode:r.V5.maybeNull(r.V5.number),vibeTracks:r.V5.maybeNull(r.V5.array(g.le)),collectionTracks:r.V5.maybeNull(r.V5.array(g.le)),collectionAlbums:r.V5.maybeNull(r.V5.array(s.ug))}).views(t=>({get isLoading(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING},get isLoaded(){return t.loadingState===l.Gui.RESOLVE},get isRejected(){return t.loadingState===l.Gui.REJECT},get isNotFound(){let e=t.errorStatusCode===n.CN.NOT_FOUND||t.errorStatusCode===n.CN.BAD_REQUEST;return t.loadingState===l.Gui.REJECT&&e},get hasCollectionEntities(){var e,a;return this.isLoaded&&Number(null===(e=t.collectionTracks)||void 0===e?void 0:e.length)>0||Number(null===(a=t.collectionAlbums)||void 0===a?void 0:a.length)>0},get shouldShowTitleBlocks(){var i,r;if(this.isLoading)return!0;return Number(null===(i=t.collectionTracks)||void 0===i?void 0:i.length)>0&&Number(null===(r=t.collectionAlbums)||void 0===r?void 0:r.length)>0},get hasVibeTracks(){var o;return Number(null===(o=t.vibeTracks)||void 0===o?void 0:o.length)>0},get collectionEntitiesData(){var s,u;return null!==(u=null===(s=t.collectionTracks)||void 0===s?void 0:s.map(g.E5))&&void 0!==u?u:[]},get vibeEntitiesData(){var d,c;return null!==(c=null===(d=t.vibeTracks)||void 0===d?void 0:d.map(g.E5))&&void 0!==c?c:[]}})).actions(t=>({getData:(0,r.ls)(function*(e){let{artistId:a}=e,{artistsResource:i,modelActionsLogger:o}=(0,r.dU)(t);if(t.loadingState!==l.Gui.PENDING)try{var s,u,d,c,m,p;t.loadingState=l.Gui.PENDING;let e=yield i.getFamiliarYou({artistId:a,waveTracksLimit:100,collectionTracksLimit:100,collectionAlbumsLimit:20});t.vibeTracks=(0,r.pj)(null===(u=e.wave)||void 0===u?void 0:null===(s=u.tracks)||void 0===s?void 0:s.map(t=>(0,g.Vt)(t))),t.collectionTracks=(0,r.pj)(null===(c=e.collection)||void 0===c?void 0:null===(d=c.tracks)||void 0===d?void 0:d.map(t=>(0,g.Vt)(t))),t.collectionAlbums=(0,r.pj)(null===(p=e.collection)||void 0===p?void 0:null===(m=p.albums)||void 0===m?void 0:m.map(y)),t.loadingState=l.Gui.RESOLVE}catch(e){o.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.REJECT)}}),reset(){t.loadingState=l.Gui.IDLE,t.errorStatusCode=null,t.vibeTracks=null,t.collectionTracks=null}}));var D=a(39583);let h=r.V5.model("ArtistPick",{playlist:D.Cd,artists:r.V5.array(m.Go)}),T=r.V5.model("ArtistSimilarArtistsPage",{loadingState:r.V5.enumeration(Object.values(l.Gui)),errorStatusCode:r.V5.maybeNull(r.V5.number),similarArtists:r.V5.maybeNull(r.V5.array(m.Go))}).views(t=>({get isLoading(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING},get isNotFound(){var e;let a=t.loadingState===l.Gui.RESOLVE&&(null===(e=t.similarArtists)||void 0===e?void 0:e.length)===0,i=t.errorStatusCode===n.CN.NOT_FOUND||t.errorStatusCode===n.CN.BAD_REQUEST;return t.loadingState===l.Gui.REJECT&&i||a}})).actions(t=>({getData:(0,r.ls)(function*(e){let{artistId:a}=e,{artistsResource:i,modelActionsLogger:o}=(0,r.dU)(t);try{t.loadingState=l.Gui.PENDING;let e=yield i.getSimilarArtists({artistId:a});t.similarArtists=(0,r.pj)(e.similarArtists.map(m.d)),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.RESOLVE)}catch(e){o.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.REJECT)}}),reset(){t.loadingState=l.Gui.IDLE,t.errorStatusCode=null,t.similarArtists=(0,r.pj)([])}}));var A=a(91471);let k=r.V5.model("FamiliarInfo",{loadingState:r.V5.enumeration(Object.values(l.Gui)),vibeTrackCount:r.V5.optional(r.V5.number,0),collectionTrackCount:r.V5.optional(r.V5.number,0),collectionAlbumCount:r.V5.optional(r.V5.number,0)}).views(t=>({get isLoaded(){return t.loadingState===l.Gui.RESOLVE},get hasTracks(){return this.isLoaded&&(t.collectionTrackCount>0||t.vibeTrackCount>0)},get hasFamiliarInfo(){return this.isLoaded&&(this.hasTracks||t.collectionAlbumCount>0)},get tracksCount(){return t.collectionTrackCount+t.vibeTrackCount},get hasCollectionEntities(){return this.isLoaded&&(t.collectionTrackCount>0||t.collectionAlbumCount>0)},get hasVibeEntities(){return this.isLoaded&&t.vibeTrackCount>0},href(t){return t?this.hasCollectionEntities?"/artist/".concat(t,"/familiar?tab=").concat(A.g.COLLECTION):this.hasVibeEntities?"/artist/".concat(t,"/familiar?tab=").concat(A.g.VIBE):"/artist/".concat(t,"/familiar"):""}})).actions(t=>({getData:(0,r.ls)(function*(e){let{artistId:a}=e,{artistsResource:i,modelActionsLogger:n}=(0,r.dU)(t);if(t.loadingState!==l.Gui.PENDING)try{t.loadingState=l.Gui.PENDING;let e=yield i.getFamiliarYouInfo({artistId:a,withWaveInfo:!0,withCollectionInfo:!0});e.collection&&(t.collectionTrackCount=e.collection.trackCount,t.collectionAlbumCount=e.collection.albumCount),e.wave&&(t.vibeTrackCount=e.wave.trackCount),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.RESOLVE)}catch(e){n.error(e),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.REJECT)}}),reset(){t.loadingState=l.Gui.IDLE,t.vibeTrackCount=0,t.collectionTrackCount=0,t.collectionAlbumCount=0}}));var I=a(24980);let f=r.V5.model("FullTracksList",{loadingState:r.V5.enumeration(Object.values(l.Gui)),errorStatusCode:r.V5.maybeNull(r.V5.number),ids:r.V5.maybeNull(r.V5.array(r.V5.string)),tracks:r.V5.optional(r.V5.map(g.le),{})}).views(t=>({getTrackByIndex(e){if(!t.ids||!t.ids.length)return null;let a=t.ids[e];return a&&t.tracks.get(a)||null},get isNotFound(){var e;let a=t.loadingState===l.Gui.RESOLVE&&(null===(e=t.ids)||void 0===e?void 0:e.length)===0,i=t.errorStatusCode===n.CN.NOT_FOUND||t.errorStatusCode===n.CN.BAD_REQUEST;return t.loadingState===l.Gui.REJECT&&i||a}})).actions(t=>({getTracksIds:(0,r.ls)(function*(e){let{artistId:a}=e,{artistsResource:i,modelActionsLogger:o}=(0,r.dU)(t);try{t.loadingState=l.Gui.PENDING;let e=yield i.getArtistTrackIds({artistId:a}),{sonataState:n}=(0,r.yj)(t);n.setUnloadedEntitiesData(e.map(t=>(0,I.RN)(t))),t.ids=(0,r.pj)(e),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.RESOLVE)}catch(e){o.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.REJECT)}}),getTracks:(0,r.ls)(function*(e){let{trackIds:a}=e,{tracksResource:i,modelActionsLogger:l}=(0,r.dU)(t);try{let e=yield i.getTracksMeta({trackIds:a,withProgress:!0});t.tracks.merge(e.reduce((t,e)=>(t[e.id]=(0,g.Vt)(e),t),{}))}catch(t){l.error(t)}}),reset(){let{sonataState:e}=(0,r.yj)(t);e.resetUnloadedEntitiesData(),t.loadingState=l.Gui.IDLE,t.ids=(0,r.pj)([]),t.tracks.clear()}})),O=r.V5.model("ArtistPage",{loadingState:r.V5.enumeration(Object.values(l.Gui)),id:r.V5.maybeNull(r.V5.string),meta:r.V5.maybeNull(u.o9),popularTracks:r.V5.array(g.le),lastRelease:r.V5.maybeNull(s.ug),upcomingAlbum:r.V5.maybeNull(s.W9),concerts:r.V5.maybeNull(r.V5.array(p.Z)),similarArtists:r.V5.array(m.Go),playlists:r.V5.array(c.d2),errorStatusCode:r.V5.maybeNull(r.V5.number),deprecationTargetArtistId:r.V5.maybeNull(r.V5.number),albums:r.V5.array(s.ug),discography:r.V5.array(s.ug),compilations:r.V5.array(s.ug),clips:r.V5.array(d.x$),artistPick:r.V5.maybeNull(h),familiarInfo:k,albumsSubpage:C,fullTracksListSubpage:f,concertsSubpage:V,similarArtistsSubPage:T,familiarSubpage:G}).views(t=>({get isLoading(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING},get hasPopularTracks(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.popularTracks.length>0},get hasAlbums(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.albums.length>0},get hasDiscography(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.discography.length>0},get hasCompilations(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.compilations.length>0},get hasSimilarArtists(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.similarArtists.length>0},get hasPlaylists(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.playlists&&t.playlists.length>0},get hasConcerts(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.concerts&&t.concerts.length>0},get hasClips(){return t.loadingState===l.Gui.IDLE||t.loadingState===l.Gui.PENDING||t.clips.length>0},get concertsLink(){var e,a;if((null===(e=t.meta)||void 0===e?void 0:e.artist.id)&&t.concerts&&t.concerts.length>3)return"/artist/".concat(null===(a=t.meta)||void 0===a?void 0:a.artist.id,"/concerts");return null},get isNotFound(){return t.loadingState===l.Gui.REJECT&&t.errorStatusCode===n.CN.NOT_FOUND},get isLoaded(){return t.loadingState===l.Gui.RESOLVE},get isRejected(){return t.loadingState===l.Gui.REJECT},get hasReleaseBlock(){return!!(this.isLoading||t.upcomingAlbum||t.lastRelease)}})).actions(t=>({getData:(0,r.ls)(function*(e){let{artistId:a,preloadedArtist:i}=e,{slides:u,experiments:d,disclaimer:N}=(0,r.yj)(t),{artistsResource:b,modelActionsLogger:C}=(0,r.dU)(t),V=d.checkExperiment(l.peG.WebNextArtistDisableLastReleases,"on"),y=d.checkExperiment(l.peG.WebNextArtistDisablePopularTracks,"on"),G=d.checkExperiment(l.peG.WebNextArtistDisableSimilarArtists,"on"),D=d.checkExperiment(l.peG.WebNextArtistDisablePopularAlbums,"on"),h=d.checkExperiment(l.peG.WebNextArtistDisableDiscography,"on"),T=d.checkExperiment(l.peG.WebNextArtistDisableCompilations,"on"),A=d.checkExperiment(l.peG.WebNextArtistDisablePlaylists,"on"),k=d.checkExperiment(l.peG.WebNextLegalRejectArtist,"on"),I=d.checkExperiment(l.peG.WebNextAgentArtist,"on");if(t.id=a,t.loadingState!==l.Gui.PENDING)try{var f,O,L;t.loadingState=l.Gui.PENDING;let e=i;e||(e=yield b.getBriefInfo({artistId:a,popularTracksCount:5,fetchPlaylistLikesCounts:!0,discographyBlockEnabled:!0,useClipDataFormat:!0}));let{popularTracks:d,error:C,artist:P,stats:R,albums:j,playlists:U,alsoAlbums:F,similarArtists:x,lastReleases:_,concerts:w,upcomingAlbum:M,discography:B,artistPick:J,clips:W}=e;if("not-found"===C||(null==P?void 0:P.error)==="not-found"){t.errorStatusCode=n.CN.NOT_FOUND,t.loadingState=l.Gui.REJECT;return}if(null===(f=P.deprecation)||void 0===f?void 0:f.targetArtistId){t.deprecationTargetArtistId=P.deprecation.targetArtistId,t.loadingState=l.Gui.RESOLVE;return}t.meta=(0,r.pj)(v(P,R));let Q=(null!==(O=P.disclaimers)&&void 0!==O?O:[]).includes(o.e.MODAL),q=(null!==(L=P.disclaimers)&&void 0!==L?L:[]).includes(o.e.FOREIGN_AGENT);if((!P.available&&Q&&k||I&&q)&&(yield N.getArtistDisclaimer({artistId:a})),!V&&_&&_.length>0){let e=_[0];e&&j&&j.length>1&&(t.lastRelease=(0,r.pj)((0,s.ym)(e)))}M&&(t.upcomingAlbum=(0,r.pj)((0,s.wq)(M))),w&&(t.concerts=(0,r.pj)(w.map(p.zj))),!y&&d&&d.length>0&&(t.popularTracks=(0,r.pj)(d.slice(0,5).map(t=>(0,g.Vt)(t)))),!G&&x&&x.length>0&&(t.similarArtists=(0,r.pj)(x.slice(0,9).map(m.d))),!D&&Number(null==j?void 0:j.length)>0&&(t.albums=(0,r.pj)(null==j?void 0:j.map(s.ym))),!h&&Number(null==B?void 0:B.length)>0&&(t.discography=(0,r.pj)(null==B?void 0:B.map(s.ym).slice(0,9))),!T&&Number(null==F?void 0:F.length)>0&&(t.compilations=(0,r.pj)(null==F?void 0:F.map(s.ym).slice(0,9))),!A&&U&&U.length>0&&(t.playlists=(0,r.pj)(U.map(c.Q9).slice(0,9))),J&&(t.artistPick=E(J)),W&&(t.clips=(0,r.pj)(W.map(S).slice(0,5))),u.resetArtist(),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.RESOLVE)}catch(e){C.error(e),e instanceof n.du&&(e.statusCode===n.CN.NOT_FOUND||e.statusCode===n.CN.BAD_REQUEST)&&(t.errorStatusCode=n.CN.NOT_FOUND),t.loadingState!==l.Gui.IDLE&&(t.loadingState=l.Gui.REJECT)}}),reset(){t.loadingState=l.Gui.IDLE,t.id=null,t.meta=null,t.errorStatusCode=null,t.deprecationTargetArtistId=null,t.lastRelease=null,t.upcomingAlbum=null,t.concerts=null,t.artistPick=null,t.clips=(0,r.pj)([]),t.popularTracks=(0,r.pj)([]),t.similarArtists=(0,r.pj)([]),t.playlists=(0,r.pj)([]),t.albums=(0,r.pj)([]),t.discography=(0,r.pj)([]),t.compilations=(0,r.pj)([])}}));var L=a(45118),P=a(98644),R=a(17093);a(63347);var j=a(12961),U=a(7875),F=a(97584)},48223:function(t,e,a){var i,l;a.d(e,{A:function(){return i}}),(l=i||(i={})).Music="music",l.VibeTrack="vibeTrack",l.Generative="generative",l.Unknown="unknown",l.SmartPreview="smartPreview"}}]);